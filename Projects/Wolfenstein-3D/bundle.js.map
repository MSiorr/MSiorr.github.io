{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://wolfenstein/./src/style.css","webpack://wolfenstein/./node_modules/css-loader/dist/runtime/api.js","webpack://wolfenstein/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://wolfenstein/./src/assets/dog.png","webpack://wolfenstein/./src/assets/endFont.png","webpack://wolfenstein/./src/assets/enemy.png","webpack://wolfenstein/./src/assets/hud.png","webpack://wolfenstein/./src/assets/mapCreator.png","webpack://wolfenstein/./src/assets/menu.png","webpack://wolfenstein/./src/assets/menuFont.png","webpack://wolfenstein/./src/assets/objects.png","webpack://wolfenstein/./src/assets/player.png","webpack://wolfenstein/./src/assets/wallsMain.png","webpack://wolfenstein/./src/assets/weapons.png","webpack://wolfenstein/./src/audio/DSDEATH.wav","webpack://wolfenstein/./src/audio/DSWKNIF.wav","webpack://wolfenstein/./src/audio/M_BACK.wav","webpack://wolfenstein/./src/audio/M_MOVE.wav","webpack://wolfenstein/./src/audio/M_SELECT.wav","webpack://wolfenstein/./src/audio/P_AMMO.wav","webpack://wolfenstein/./src/audio/P_CGUN.wav","webpack://wolfenstein/./src/audio/P_FOOD.wav","webpack://wolfenstein/./src/audio/P_LIFE.wav","webpack://wolfenstein/./src/audio/P_MEDKIT.wav","webpack://wolfenstein/./src/audio/P_MGUN.wav","webpack://wolfenstein/./src/audio/S_100.wav","webpack://wolfenstein/./src/audio/S_BONUSC.wav","webpack://wolfenstein/./src/audio/THEME_LEVEL.mp3","webpack://wolfenstein/./src/audio/THEME_MENU.mp3","webpack://wolfenstein/./src/audio/THEME_SPLASH.mp3","webpack://wolfenstein/./src/audio/T_CHEST.wav","webpack://wolfenstein/./src/audio/T_CROSS.wav","webpack://wolfenstein/./src/audio/T_CROWN.wav","webpack://wolfenstein/./src/audio/T_CUP.wav","webpack://wolfenstein/./src/audio/WSND0000.wav","webpack://wolfenstein/./src/audio/WSND0001.wav","webpack://wolfenstein/./src/audio/WSND0002.wav","webpack://wolfenstein/./src/audio/WSND0003.wav","webpack://wolfenstein/./src/audio/WSND0004.wav","webpack://wolfenstein/./src/audio/WSND0005.wav","webpack://wolfenstein/./src/audio/WSND0006.wav","webpack://wolfenstein/./src/audio/WSND0012.wav","webpack://wolfenstein/./src/audio/WSND0013.wav","webpack://wolfenstein/./src/audio/WSND0014.wav","webpack://wolfenstein/./src/audio/WSND0015.wav","webpack://wolfenstein/./src/audio/WSND0016.wav","webpack://wolfenstein/./src/audio/WSND0021.wav","webpack://wolfenstein/./src/audio/WSND0029.wav","webpack://wolfenstein/./src/audio/WSND0030.wav","webpack://wolfenstein/./src/audio/WSND0034.wav","webpack://wolfenstein/./src/audio/WSND0035.wav","webpack://wolfenstein/./src/audio/WSND0039.wav","webpack://wolfenstein/./src/audio/WSND0040.wav","webpack://wolfenstein/./src/audio/WSND0041.wav","webpack://wolfenstein/./src/audio/WSND0042.wav","webpack://wolfenstein/./src/shaders/shader.frag","webpack://wolfenstein/./src/shaders/shader.vert","webpack://wolfenstein/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://wolfenstein/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://wolfenstein/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://wolfenstein/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://wolfenstein/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://wolfenstein/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://wolfenstein/./src/audio|sync|/^/.*$","webpack://wolfenstein/webpack/bootstrap","webpack://wolfenstein/webpack/runtime/compat get default export","webpack://wolfenstein/webpack/runtime/define property getters","webpack://wolfenstein/webpack/runtime/global","webpack://wolfenstein/webpack/runtime/hasOwnProperty shorthand","webpack://wolfenstein/webpack/runtime/make namespace object","webpack://wolfenstein/webpack/runtime/publicPath","webpack://wolfenstein/./src/style.css?7163","webpack://wolfenstein/./src/assets/favicon.ico","webpack://wolfenstein/./src/components/MyAudio.ts","webpack://wolfenstein/./src/components/Config.ts","webpack://wolfenstein/./src/components/game/boxHelper/BoxPoint.ts","webpack://wolfenstein/./src/components/game/boxHelper/BoxLine.ts","webpack://wolfenstein/./src/components/game/boxHelper/Box2D.ts","webpack://wolfenstein/./src/components/game/Vector3.ts","webpack://wolfenstein/./src/components/game/Matrix4.ts","webpack://wolfenstein/./src/components/game/Camera.ts","webpack://wolfenstein/./src/components/game/Vector2.ts","webpack://wolfenstein/./src/components/Library.ts","webpack://wolfenstein/./src/components/game/objects/Object3D.ts","webpack://wolfenstein/./src/components/game/Vector4.ts","webpack://wolfenstein/./src/components/game/objects/Door.ts","webpack://wolfenstein/./src/components/game/Raycaster.ts","webpack://wolfenstein/./src/components/game/objects/Enemy.ts","webpack://wolfenstein/./src/components/game/objects/Wall.ts","webpack://wolfenstein/./src/components/game/objects/End.ts","webpack://wolfenstein/./src/components/game/Keyboard.ts","webpack://wolfenstein/./src/components/HUDElements/Element2D.ts","webpack://wolfenstein/./src/components/HUDElements/helpers/Crosshair.ts","webpack://wolfenstein/./src/components/game/objects/Weapon.ts","webpack://wolfenstein/./src/components/game/objects/Pickable.ts","webpack://wolfenstein/./src/components/game/objects/Furniture.ts","webpack://wolfenstein/./src/components/game/Scene.ts","webpack://wolfenstein/./src/components/mapCreator/Field.ts","webpack://wolfenstein/./src/components/mapCreator/MapCreator.ts","webpack://wolfenstein/./src/components/game/PathFinder/PathField.ts","webpack://wolfenstein/./src/components/game/PathFinder/PathFinder.ts","webpack://wolfenstein/./src/components/game/LevelCreator.ts","webpack://wolfenstein/./src/components/HUDElements/helpers/FPS.ts","webpack://wolfenstein/./src/components/HUDElements/HudBarFace.ts","webpack://wolfenstein/./src/components/HUDElements/HudBar.ts","webpack://wolfenstein/./src/components/HUDElements/HUD.ts","webpack://wolfenstein/./src/components/HUDElements/helpers/RedPixel.ts","webpack://wolfenstein/./src/components/HUDElements/Menu.ts","webpack://wolfenstein/./src/components/HUDElements/Scene2D.ts","webpack://wolfenstein/./src/components/game/Animation.ts","webpack://wolfenstein/./src/components/game/AnimationManager.ts","webpack://wolfenstein/./src/index.ts","webpack://wolfenstein/./src/components/Main.ts"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"img {\\r\\n    image-rendering: auto;\\r\\n    image-rendering: crisp-edges;\\r\\n    image-rendering: pixelated;\\r\\n}\\r\\n\\r\\n* {\\r\\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\\r\\n    box-sizing: border-box;\\r\\n}\\r\\n\\r\\nbody {\\r\\n    background-color: #121212;\\r\\n    /* background-color: rgb(56,56,56); */\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n    width: 100vw;\\r\\n    height: 100vh;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n#root {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n#scene {\\r\\n    position: absolute;\\r\\n    background: linear-gradient(rgb(56, 56, 56) 50%, rgb(112, 112, 112) 50%);\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n#hudCanvas {\\r\\n    /* position: absolute; */\\r\\n    z-index: 2;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    /* top: 0;\\r\\n    left: 0; */\\r\\n    display: block;\\r\\n    /* background-color: rgba(0, 64, 64, 1); */\\r\\n}\\r\\n\\r\\n#mapCreatorBtn {\\r\\n    position: absolute;\\r\\n    z-index: 1000;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n    padding: 10px;\\r\\n    background-color: rgb(255, 205, 40);\\r\\n    border-radius: 10px;\\r\\n    margin: 10px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n#FPS {\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    right: 0;\\r\\n    background-color: rgba(0, 0, 0, 0.8);\\r\\n    color: green;\\r\\n    font-size: 20px;\\r\\n    padding: 5px;\\r\\n    z-index: 1000;\\r\\n}\\r\\n\\r\\n#DATA {\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    left: calc(50% - 70px);\\r\\n    width: 140px;\\r\\n    background-color: rgba(0, 0, 0, 0.8);\\r\\n    color: white;\\r\\n    text-align: center;\\r\\n    font-size: 20px;\\r\\n    line-height: 150%;\\r\\n    z-index: 1000;\\r\\n}\\r\\n\\r\\n#DATA2 {\\r\\n    position: absolute;\\r\\n    z-index: 10;\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    padding: 10px;\\r\\n    background-color: rgba(0, 0, 0, 0.8);\\r\\n    color: white;\\r\\n    text-align: center;\\r\\n    font-size: 20px;\\r\\n    line-height: 150%;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n#mapCreatorBtn:hover {\\r\\n    background-color: rgb(255, 218, 124);\\r\\n}\\r\\n\\r\\n#mapCreator {\\r\\n    z-index: 100;\\r\\n    background-color: #121212;\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: center;\\r\\n    justify-content: flex-start;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n#mapSizeDiv {\\r\\n    width: 100%;\\r\\n    height: 60px;\\r\\n    border-bottom: 2px solid white;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    padding: 10px;\\r\\n}\\r\\n\\r\\n#mapSizeDiv * {\\r\\n    margin: 0 10px;\\r\\n    background-color: rgba(255, 255, 255, 0.1);\\r\\n    color: white;\\r\\n    border: 2px solid white;\\r\\n    border-radius: 10px;\\r\\n    padding: 10px 15px;\\r\\n    outline: none;\\r\\n    cursor: pointer;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n#mapSizeDiv *:hover,\\r\\n#mapSizeDiv input:focus {\\r\\n    background-color: rgba(255, 255, 255, 0.2);\\r\\n}\\r\\n\\r\\n#creatorBoard {\\r\\n    display: flex;\\r\\n    width: 100%;\\r\\n    height: calc(100% - 60px);\\r\\n}\\r\\n\\r\\n#creatorMenu {\\r\\n    width: 280px;\\r\\n    height: 100%;\\r\\n    overflow-y: auto;\\r\\n}\\r\\n\\r\\n#topMenu {\\r\\n    margin-bottom: 50px;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n#creatorBoardArea {\\r\\n    width: calc(100% - 200px);\\r\\n    height: 100%;\\r\\n    border-left: 2px solid white;\\r\\n    overflow: auto;\\r\\n}\\r\\n\\r\\n.menuElement {\\r\\n    border: 2px solid white;\\r\\n    color: white;\\r\\n    border-radius: 10px;\\r\\n    margin: 10px 20px;\\r\\n    text-align: center;\\r\\n    padding: 10px 0;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.menuElement:hover {\\r\\n    opacity: 0.8;\\r\\n}\\r\\n\\r\\n.field {\\r\\n    border: .5px solid rgba(255, 255, 255, 0.5);\\r\\n    cursor: pointer;\\r\\n    min-width: 32px;\\r\\n    min-height: 32px;\\r\\n}\\r\\n\\r\\n.field::after {\\r\\n    content: '';\\r\\n    display: block;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n.field:hover::after {\\r\\n    background-color: rgba(255, 255, 255, 0.2);\\r\\n}\\r\\n\\r\\n.boardColumn {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n#fieldsBoard {\\r\\n    display: flex;\\r\\n    justify-content: flex-start;\\r\\n    margin: 9px auto;\\r\\n    border: 1px solid white;\\r\\n    height: fit-content;\\r\\n    width: fit-content;\\r\\n}\\r\\n\\r\\n#creatorBoardArea {\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n.mapBtnGroupTitle {\\r\\n    width: 100%;\\r\\n    padding: 10px 0;\\r\\n    color: white;\\r\\n    border-top: 4px solid white;\\r\\n    border-bottom: 4px solid white;\\r\\n    margin: 40px 0;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.menuBtnGroup {\\r\\n    width: 100%;\\r\\n    display: flex;\\r\\n    flex-wrap: wrap;\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\n.smallMenuBtn {\\r\\n    box-sizing: border-box;\\r\\n    border-radius: 5px;\\r\\n    width: 48px;\\r\\n    height: 48px;\\r\\n    border: 1px solid white;\\r\\n    margin: 5px;\\r\\n    cursor: pointer;\\r\\n    transition: transform .5s;\\r\\n    background-color: rgba(255, 255, 255, 0.1);\\r\\n}\\r\\n\\r\\n.smallMenuBtn:hover {\\r\\n    transform: scale(1.2);\\r\\n}\\r\\n\\r\\n\\r\\n#additionalMenu {\\r\\n    position: absolute;\\r\\n    height: 440px;\\r\\n    width: 280px;\\r\\n    border: 2px solid white;\\r\\n    border-radius: 10px;\\r\\n    background-color: rgba(0, 0, 0, 0.7);\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: center;\\r\\n    /* top: 110px;\\r\\n    left: 800px; */\\r\\n    z-index: 2000;\\r\\n    color: white;\\r\\n}\\r\\n\\r\\n#additionalMenuTitle {\\r\\n    width: 100%;\\r\\n    height: 50px;\\r\\n    text-align: center;\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    justify-content: center;\\r\\n    font-weight: bold;\\r\\n    font-size: 30px;\\r\\n    border-bottom: 2px solid white;\\r\\n    position: relative;\\r\\n    /* color: rgb(213, 213, 31); */\\r\\n}\\r\\n\\r\\n#additionalMenuClose {\\r\\n    width: 30px;\\r\\n    height: 30px;\\r\\n    position: absolute;\\r\\n    right: 5px;\\r\\n    top: 10px;\\r\\n    background-color: rgba(216, 56, 56, 0.8);\\r\\n    border: 1px solid white;\\r\\n    border-radius: 5px;\\r\\n    font-size: 24px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n#additionalMenuClose:hover {\\r\\n    background-color: rgba(216, 56, 56, 1);\\r\\n    ;\\r\\n}\\r\\n\\r\\n#additionalMenuContext {\\r\\n    height: calc(100% - 50px);\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: center;\\r\\n    justify-content: space-evenly;\\r\\n}\\r\\n\\r\\n#additionalMenuTargetBtn {\\r\\n    padding: 15px 25px;\\r\\n    border: 2px solid white;\\r\\n    font-size: 20px;\\r\\n    border-radius: 10px;\\r\\n    color: white;\\r\\n    background-color: rgba(41, 209, 47, 0.75);\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n#additionalMenuTargetBtn:hover {\\r\\n    background-color: rgba(41, 209, 47, 1);\\r\\n}\\r\\n\\r\\n#additionalMenuContext select {\\r\\n    width: 160px;\\r\\n    padding: 10px 0;\\r\\n    border: 2px solid white;\\r\\n    border-radius: 10px;\\r\\n    color: white;\\r\\n    background-color: rgba(247, 178, 73, 0.604);\\r\\n    text-align: center;\\r\\n    font-size: 20px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n#additionalMenuContext select option {\\r\\n    width: 100%;\\r\\n    text-align: center;\\r\\n    background-color: rgba(247, 178, 73, 0.604);\\r\\n    color: black;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.helperClassAfter::after {\\r\\n    content: '';\\r\\n    background-color: rgba(255, 0, 0, 0.5) !important;\\r\\n}\\r\\n\\r\\n.enemyMenuCreatorLabel {\\r\\n    padding: 0;\\r\\n    margin: 2px 0;\\r\\n    display: flex;\\r\\n    font-size: 20px;\\r\\n    flex-direction: column;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n.enemyMenuCreatorLabel select {\\r\\n    margin-top: 5px;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n.displayNone {\\r\\n    display: none !important;\\r\\n}\\r\\n\\r\\n/* #fakeScene{\\r\\n    background-color: rgba(255,0,0,0.2);\\r\\n}\\r\\n\\r\\n#fakeBar{\\r\\n    background-color: rgba(0,255,0,0.2);\\r\\n} */\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/style.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"img {\\r\\n    image-rendering: auto;\\r\\n    image-rendering: crisp-edges;\\r\\n    image-rendering: pixelated;\\r\\n}\\r\\n\\r\\n* {\\r\\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\\r\\n    box-sizing: border-box;\\r\\n}\\r\\n\\r\\nbody {\\r\\n    background-color: #121212;\\r\\n    /* background-color: rgb(56,56,56); */\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n    width: 100vw;\\r\\n    height: 100vh;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n#root {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n#scene {\\r\\n    position: absolute;\\r\\n    background: linear-gradient(rgb(56, 56, 56) 50%, rgb(112, 112, 112) 50%);\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n#hudCanvas {\\r\\n    /* position: absolute; */\\r\\n    z-index: 2;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    /* top: 0;\\r\\n    left: 0; */\\r\\n    display: block;\\r\\n    /* background-color: rgba(0, 64, 64, 1); */\\r\\n}\\r\\n\\r\\n#mapCreatorBtn {\\r\\n    position: absolute;\\r\\n    z-index: 1000;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n    padding: 10px;\\r\\n    background-color: rgb(255, 205, 40);\\r\\n    border-radius: 10px;\\r\\n    margin: 10px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n#FPS {\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    right: 0;\\r\\n    background-color: rgba(0, 0, 0, 0.8);\\r\\n    color: green;\\r\\n    font-size: 20px;\\r\\n    padding: 5px;\\r\\n    z-index: 1000;\\r\\n}\\r\\n\\r\\n#DATA {\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    left: calc(50% - 70px);\\r\\n    width: 140px;\\r\\n    background-color: rgba(0, 0, 0, 0.8);\\r\\n    color: white;\\r\\n    text-align: center;\\r\\n    font-size: 20px;\\r\\n    line-height: 150%;\\r\\n    z-index: 1000;\\r\\n}\\r\\n\\r\\n#DATA2 {\\r\\n    position: absolute;\\r\\n    z-index: 10;\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    padding: 10px;\\r\\n    background-color: rgba(0, 0, 0, 0.8);\\r\\n    color: white;\\r\\n    text-align: center;\\r\\n    font-size: 20px;\\r\\n    line-height: 150%;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n#mapCreatorBtn:hover {\\r\\n    background-color: rgb(255, 218, 124);\\r\\n}\\r\\n\\r\\n#mapCreator {\\r\\n    z-index: 100;\\r\\n    background-color: #121212;\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: center;\\r\\n    justify-content: flex-start;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n#mapSizeDiv {\\r\\n    width: 100%;\\r\\n    height: 60px;\\r\\n    border-bottom: 2px solid white;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    padding: 10px;\\r\\n}\\r\\n\\r\\n#mapSizeDiv * {\\r\\n    margin: 0 10px;\\r\\n    background-color: rgba(255, 255, 255, 0.1);\\r\\n    color: white;\\r\\n    border: 2px solid white;\\r\\n    border-radius: 10px;\\r\\n    padding: 10px 15px;\\r\\n    outline: none;\\r\\n    cursor: pointer;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n#mapSizeDiv *:hover,\\r\\n#mapSizeDiv input:focus {\\r\\n    background-color: rgba(255, 255, 255, 0.2);\\r\\n}\\r\\n\\r\\n#creatorBoard {\\r\\n    display: flex;\\r\\n    width: 100%;\\r\\n    height: calc(100% - 60px);\\r\\n}\\r\\n\\r\\n#creatorMenu {\\r\\n    width: 280px;\\r\\n    height: 100%;\\r\\n    overflow-y: auto;\\r\\n}\\r\\n\\r\\n#topMenu {\\r\\n    margin-bottom: 50px;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n#creatorBoardArea {\\r\\n    width: calc(100% - 200px);\\r\\n    height: 100%;\\r\\n    border-left: 2px solid white;\\r\\n    overflow: auto;\\r\\n}\\r\\n\\r\\n.menuElement {\\r\\n    border: 2px solid white;\\r\\n    color: white;\\r\\n    border-radius: 10px;\\r\\n    margin: 10px 20px;\\r\\n    text-align: center;\\r\\n    padding: 10px 0;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.menuElement:hover {\\r\\n    opacity: 0.8;\\r\\n}\\r\\n\\r\\n.field {\\r\\n    border: .5px solid rgba(255, 255, 255, 0.5);\\r\\n    cursor: pointer;\\r\\n    min-width: 32px;\\r\\n    min-height: 32px;\\r\\n}\\r\\n\\r\\n.field::after {\\r\\n    content: '';\\r\\n    display: block;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n.field:hover::after {\\r\\n    background-color: rgba(255, 255, 255, 0.2);\\r\\n}\\r\\n\\r\\n.boardColumn {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n#fieldsBoard {\\r\\n    display: flex;\\r\\n    justify-content: flex-start;\\r\\n    margin: 9px auto;\\r\\n    border: 1px solid white;\\r\\n    height: fit-content;\\r\\n    width: fit-content;\\r\\n}\\r\\n\\r\\n#creatorBoardArea {\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n.mapBtnGroupTitle {\\r\\n    width: 100%;\\r\\n    padding: 10px 0;\\r\\n    color: white;\\r\\n    border-top: 4px solid white;\\r\\n    border-bottom: 4px solid white;\\r\\n    margin: 40px 0;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.menuBtnGroup {\\r\\n    width: 100%;\\r\\n    display: flex;\\r\\n    flex-wrap: wrap;\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\n.smallMenuBtn {\\r\\n    box-sizing: border-box;\\r\\n    border-radius: 5px;\\r\\n    width: 48px;\\r\\n    height: 48px;\\r\\n    border: 1px solid white;\\r\\n    margin: 5px;\\r\\n    cursor: pointer;\\r\\n    transition: transform .5s;\\r\\n    background-color: rgba(255, 255, 255, 0.1);\\r\\n}\\r\\n\\r\\n.smallMenuBtn:hover {\\r\\n    transform: scale(1.2);\\r\\n}\\r\\n\\r\\n\\r\\n#additionalMenu {\\r\\n    position: absolute;\\r\\n    height: 440px;\\r\\n    width: 280px;\\r\\n    border: 2px solid white;\\r\\n    border-radius: 10px;\\r\\n    background-color: rgba(0, 0, 0, 0.7);\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: center;\\r\\n    /* top: 110px;\\r\\n    left: 800px; */\\r\\n    z-index: 2000;\\r\\n    color: white;\\r\\n}\\r\\n\\r\\n#additionalMenuTitle {\\r\\n    width: 100%;\\r\\n    height: 50px;\\r\\n    text-align: center;\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    justify-content: center;\\r\\n    font-weight: bold;\\r\\n    font-size: 30px;\\r\\n    border-bottom: 2px solid white;\\r\\n    position: relative;\\r\\n    /* color: rgb(213, 213, 31); */\\r\\n}\\r\\n\\r\\n#additionalMenuClose {\\r\\n    width: 30px;\\r\\n    height: 30px;\\r\\n    position: absolute;\\r\\n    right: 5px;\\r\\n    top: 10px;\\r\\n    background-color: rgba(216, 56, 56, 0.8);\\r\\n    border: 1px solid white;\\r\\n    border-radius: 5px;\\r\\n    font-size: 24px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n#additionalMenuClose:hover {\\r\\n    background-color: rgba(216, 56, 56, 1);\\r\\n    ;\\r\\n}\\r\\n\\r\\n#additionalMenuContext {\\r\\n    height: calc(100% - 50px);\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: center;\\r\\n    justify-content: space-evenly;\\r\\n}\\r\\n\\r\\n#additionalMenuTargetBtn {\\r\\n    padding: 15px 25px;\\r\\n    border: 2px solid white;\\r\\n    font-size: 20px;\\r\\n    border-radius: 10px;\\r\\n    color: white;\\r\\n    background-color: rgba(41, 209, 47, 0.75);\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n#additionalMenuTargetBtn:hover {\\r\\n    background-color: rgba(41, 209, 47, 1);\\r\\n}\\r\\n\\r\\n#additionalMenuContext select {\\r\\n    width: 160px;\\r\\n    padding: 10px 0;\\r\\n    border: 2px solid white;\\r\\n    border-radius: 10px;\\r\\n    color: white;\\r\\n    background-color: rgba(247, 178, 73, 0.604);\\r\\n    text-align: center;\\r\\n    font-size: 20px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n#additionalMenuContext select option {\\r\\n    width: 100%;\\r\\n    text-align: center;\\r\\n    background-color: rgba(247, 178, 73, 0.604);\\r\\n    color: black;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.helperClassAfter::after {\\r\\n    content: '';\\r\\n    background-color: rgba(255, 0, 0, 0.5) !important;\\r\\n}\\r\\n\\r\\n.enemyMenuCreatorLabel {\\r\\n    padding: 0;\\r\\n    margin: 2px 0;\\r\\n    display: flex;\\r\\n    font-size: 20px;\\r\\n    flex-direction: column;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n.enemyMenuCreatorLabel select {\\r\\n    margin-top: 5px;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n.displayNone {\\r\\n    display: none !important;\\r\\n}\\r\\n\\r\\n/* #fakeScene{\\r\\n    background-color: rgba(255,0,0,0.2);\\r\\n}\\r\\n\\r\\n#fakeBar{\\r\\n    background-color: rgba(0,255,0,0.2);\\r\\n} */\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n\n      content += cssWithMappingToString(item);\n\n      if (needLayer) {\n        content += \"}\";\n      }\n\n      if (item[2]) {\n        content += \"}\";\n      }\n\n      if (item[4]) {\n        content += \"}\";\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n\n\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var _i = 0; _i < this.length; _i++) {\n        var id = this[_i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i2 = 0; _i2 < modules.length; _i2++) {\n      var item = [].concat(modules[_i2]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n\n  return [content].join(\"\\n\");\n};","export default __webpack_public_path__ + \"src/assets/dog.png\";","export default __webpack_public_path__ + \"src/assets/endFont.png\";","export default __webpack_public_path__ + \"src/assets/enemy.png\";","export default __webpack_public_path__ + \"src/assets/hud.png\";","export default __webpack_public_path__ + \"src/assets/mapCreator.png\";","export default __webpack_public_path__ + \"src/assets/menu.png\";","export default __webpack_public_path__ + \"src/assets/menuFont.png\";","export default __webpack_public_path__ + \"src/assets/objects.png\";","export default __webpack_public_path__ + \"src/assets/player.png\";","export default __webpack_public_path__ + \"src/assets/wallsMain.png\";","export default __webpack_public_path__ + \"src/assets/weapons.png\";","export default __webpack_public_path__ + \"src/audio/DSDEATH.wav\";","export default __webpack_public_path__ + \"src/audio/DSWKNIF.wav\";","export default __webpack_public_path__ + \"src/audio/M_BACK.wav\";","export default __webpack_public_path__ + \"src/audio/M_MOVE.wav\";","export default __webpack_public_path__ + \"src/audio/M_SELECT.wav\";","export default __webpack_public_path__ + \"src/audio/P_AMMO.wav\";","export default __webpack_public_path__ + \"src/audio/P_CGUN.wav\";","export default __webpack_public_path__ + \"src/audio/P_FOOD.wav\";","export default __webpack_public_path__ + \"src/audio/P_LIFE.wav\";","export default __webpack_public_path__ + \"src/audio/P_MEDKIT.wav\";","export default __webpack_public_path__ + \"src/audio/P_MGUN.wav\";","export default __webpack_public_path__ + \"src/audio/S_100.wav\";","export default __webpack_public_path__ + \"src/audio/S_BONUSC.wav\";","export default __webpack_public_path__ + \"src/audio/THEME_LEVEL.mp3\";","export default __webpack_public_path__ + \"src/audio/THEME_MENU.mp3\";","export default __webpack_public_path__ + \"src/audio/THEME_SPLASH.mp3\";","export default __webpack_public_path__ + \"src/audio/T_CHEST.wav\";","export default __webpack_public_path__ + \"src/audio/T_CROSS.wav\";","export default __webpack_public_path__ + \"src/audio/T_CROWN.wav\";","export default __webpack_public_path__ + \"src/audio/T_CUP.wav\";","export default __webpack_public_path__ + \"src/audio/WSND0000.wav\";","export default __webpack_public_path__ + \"src/audio/WSND0001.wav\";","export default __webpack_public_path__ + \"src/audio/WSND0002.wav\";","export default __webpack_public_path__ + \"src/audio/WSND0003.wav\";","export default __webpack_public_path__ + \"src/audio/WSND0004.wav\";","export default __webpack_public_path__ + \"src/audio/WSND0005.wav\";","export default __webpack_public_path__ + \"src/audio/WSND0006.wav\";","export default __webpack_public_path__ + \"src/audio/WSND0012.wav\";","export default __webpack_public_path__ + \"src/audio/WSND0013.wav\";","export default __webpack_public_path__ + \"src/audio/WSND0014.wav\";","export default __webpack_public_path__ + \"src/audio/WSND0015.wav\";","export default __webpack_public_path__ + \"src/audio/WSND0016.wav\";","export default __webpack_public_path__ + \"src/audio/WSND0021.wav\";","export default __webpack_public_path__ + \"src/audio/WSND0029.wav\";","export default __webpack_public_path__ + \"src/audio/WSND0030.wav\";","export default __webpack_public_path__ + \"src/audio/WSND0034.wav\";","export default __webpack_public_path__ + \"src/audio/WSND0035.wav\";","export default __webpack_public_path__ + \"src/audio/WSND0039.wav\";","export default __webpack_public_path__ + \"src/audio/WSND0040.wav\";","export default __webpack_public_path__ + \"src/audio/WSND0041.wav\";","export default __webpack_public_path__ + \"src/audio/WSND0042.wav\";","module.exports = \"precision mediump float;\\r\\n\\r\\nvarying vec2 v_texcoord;\\r\\n\\r\\nuniform sampler2D u_texture;\\r\\n\\r\\nvoid main() {\\r\\n  vec4 alphaMark = texture2D(u_texture, v_texcoord);\\r\\n  if (alphaMark.a < 0.1)\\r\\n    discard;\\r\\n  gl_FragColor = alphaMark;\\r\\n}\"","module.exports = \"// an attribute will receive data from a buffer\\r\\nattribute vec4 a_position;\\r\\nattribute vec2 a_texcoord;\\r\\n\\r\\nuniform mat4 u_matrix;\\r\\n\\r\\nvarying vec2 v_texcoord;\\r\\n\\r\\n// all shaders have a main function\\r\\nvoid main() {\\r\\n  gl_Position = u_matrix * a_position;\\r\\n\\r\\n  v_texcoord = a_texcoord;\\r\\n}\"","\"use strict\";\n\nvar stylesInDOM = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n\n  return updater;\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n/* istanbul ignore next  */\n\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n\n    memo[target] = styleTarget;\n  }\n\n  return memo[target];\n}\n/* istanbul ignore next  */\n\n\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n\n  target.appendChild(style);\n}\n\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\n\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\n\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n\n  var needLayer = typeof obj.layer !== \"undefined\";\n\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n\n  css += obj.css;\n\n  if (needLayer) {\n    css += \"}\";\n  }\n\n  if (obj.media) {\n    css += \"}\";\n  }\n\n  if (obj.supports) {\n    css += \"}\";\n  }\n\n  var sourceMap = obj.sourceMap;\n\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  options.styleTagTransform(css, styleElement, options.options);\n}\n\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n\n  styleElement.parentNode.removeChild(styleElement);\n}\n/* istanbul ignore next  */\n\n\nfunction domAPI(options) {\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\n\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\n\nmodule.exports = styleTagTransform;","var map = {\n\t\"./DSDEATH.wav\": 2037,\n\t\"./DSWKNIF.wav\": 1134,\n\t\"./M_BACK.wav\": 5321,\n\t\"./M_MOVE.wav\": 9635,\n\t\"./M_SELECT.wav\": 5299,\n\t\"./P_AMMO.wav\": 6025,\n\t\"./P_CGUN.wav\": 7784,\n\t\"./P_FOOD.wav\": 3165,\n\t\"./P_LIFE.wav\": 2727,\n\t\"./P_MEDKIT.wav\": 2640,\n\t\"./P_MGUN.wav\": 9757,\n\t\"./S_100.wav\": 486,\n\t\"./S_BONUSC.wav\": 3593,\n\t\"./THEME_LEVEL.mp3\": 8546,\n\t\"./THEME_MENU.mp3\": 1121,\n\t\"./THEME_SPLASH.mp3\": 9082,\n\t\"./T_CHEST.wav\": 3855,\n\t\"./T_CROSS.wav\": 2283,\n\t\"./T_CROWN.wav\": 4111,\n\t\"./T_CUP.wav\": 5422,\n\t\"./WSND0000.wav\": 5520,\n\t\"./WSND0001.wav\": 7688,\n\t\"./WSND0002.wav\": 2023,\n\t\"./WSND0003.wav\": 8715,\n\t\"./WSND0004.wav\": 6118,\n\t\"./WSND0005.wav\": 7768,\n\t\"./WSND0006.wav\": 1382,\n\t\"./WSND0012.wav\": 2506,\n\t\"./WSND0013.wav\": 1877,\n\t\"./WSND0014.wav\": 8391,\n\t\"./WSND0015.wav\": 670,\n\t\"./WSND0016.wav\": 5706,\n\t\"./WSND0021.wav\": 7721,\n\t\"./WSND0029.wav\": 2745,\n\t\"./WSND0030.wav\": 6813,\n\t\"./WSND0034.wav\": 4848,\n\t\"./WSND0035.wav\": 29,\n\t\"./WSND0039.wav\": 2942,\n\t\"./WSND0040.wav\": 9826,\n\t\"./WSND0041.wav\": 5856,\n\t\"./WSND0042.wav\": 2248\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1866;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./style.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./style.css\";\n       export default content && content.locals ? content.locals : undefined;\n","export default __webpack_public_path__ + \"src/assets/favicon.ico\";","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar MyAudio = /** @class */ (function () {\r\n    function MyAudio() {\r\n        this.sounds = {\r\n            P_AMMO: null,\r\n            P_MGUN: null,\r\n            P_CGUN: null,\r\n            P_FOOD: null,\r\n            P_MEDKIT: null,\r\n            P_LIFE: null,\r\n            T_CHEST: null,\r\n            T_CROSS: null,\r\n            T_CROWN: null,\r\n            T_CUP: null,\r\n            WSND0003: null,\r\n            WSND0002: null,\r\n            WSND0015: null,\r\n            WSND0030: null,\r\n            S_100: null,\r\n            S_BONUSC: null,\r\n            DSWKNIF: null,\r\n            WSND0005: null,\r\n            WSND0004: null,\r\n            WSND0006: null,\r\n            WSND0021: null,\r\n            WSND0014: null,\r\n            DSDEATH: null,\r\n            WSND0001: null,\r\n            WSND0029: null,\r\n            WSND0016: null,\r\n            WSND0012: null,\r\n            WSND0013: null,\r\n            WSND0034: null,\r\n            WSND0035: null,\r\n            WSND0039: null,\r\n            WSND0040: null,\r\n            WSND0041: null,\r\n            WSND0042: null,\r\n            WSND0000: null,\r\n            M_SELECT: null,\r\n            M_MOVE: null,\r\n            THEME_SPLASH: null,\r\n            THEME_MENU: null,\r\n            THEME_LEVEL: null\r\n        };\r\n    }\r\n    MyAudio.prototype.LoadAudios = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var renderTab, i, name_1, _b, _c;\r\n            var _d;\r\n            var _this = this;\r\n            return __generator(this, function (_e) {\r\n                switch (_e.label) {\r\n                    case 0:\r\n                        renderTab = [];\r\n                        i = 0;\r\n                        _e.label = 1;\r\n                    case 1:\r\n                        if (!(i < Object.keys(this.sounds).length)) return [3 /*break*/, 4];\r\n                        name_1 = Object.keys(this.sounds)[i];\r\n                        _c = (_b = renderTab).push;\r\n                        _d = { name: name_1 };\r\n                        return [4 /*yield*/, require(\"../audio/\" + name_1 + \".\" + (name_1.indexOf(\"THEME\") == -1 ? \"wav\" : \"mp3\")).default];\r\n                    case 2:\r\n                        _c.apply(_b, [(_d.src = _e.sent(), _d)]);\r\n                        _e.label = 3;\r\n                    case 3:\r\n                        i++;\r\n                        return [3 /*break*/, 1];\r\n                    case 4:\r\n                        ;\r\n                        renderTab.forEach(function (e) {\r\n                            var audio = new Audio(e.src);\r\n                            audio.volume = e.name.indexOf(\"THEME\") == -1 ? 0.25 : 0.05;\r\n                            _this.sounds[e.name] = audio;\r\n                        });\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    MyAudio.prototype.playAudio = function (name, loop) {\r\n        if (loop === void 0) { loop = false; }\r\n        if (this.sounds[name].currentTime != 0) {\r\n            this.stopAudio(name);\r\n            this.restartAudio(name);\r\n        }\r\n        this.sounds[name].play();\r\n        if (loop || name.indexOf(\"THEME\") != -1) {\r\n            this.sounds[name].loop = true;\r\n        }\r\n    };\r\n    MyAudio.prototype.stopAudio = function (name) {\r\n        if (this.sounds[name].currentTime != 0) {\r\n            this.sounds[name].pause();\r\n            this.sounds[name].loop = false;\r\n        }\r\n    };\r\n    MyAudio.prototype.restartAudio = function (name) {\r\n        this.sounds[name].currentTime = 0;\r\n    };\r\n    MyAudio.prototype.stopAll = function () {\r\n        for (var name_2 in this.sounds) {\r\n            this.stopAudio(name_2);\r\n        }\r\n    };\r\n    var _a;\r\n    _a = MyAudio;\r\n    MyAudio.instance = new _a;\r\n    return MyAudio;\r\n}());\r\nexport default MyAudio;\r\n","import MyAudio from \"./MyAudio\";\r\nvar wallSize = 100;\r\nexport var config = {\r\n    attributes: [\"a_position\", \"a_color\", \"a_texcoord\"],\r\n    uniforms: [\"u_color\", \"u_matrix\", \"u_texture\"],\r\n    wallSize: wallSize,\r\n    actionDistance: 1 * wallSize,\r\n    doorsAutoCloseTime: 5000,\r\n    mapCreatorItems: ['player', 'wall', 'enemy', 'door', 'pickable'],\r\n    textureSize: 64,\r\n    usedAmmoSpawnRange: 50,\r\n    enemyDetectShootRange: 7 * wallSize,\r\n    enemyFrontSpotRange: 15 * wallSize,\r\n    enemyBackSpotRange: 2 * wallSize,\r\n    enemyShootRange: 2 * wallSize,\r\n    enemyReloadTime: 500,\r\n    enemyDMG: 25,\r\n    enemyMissRange: 5 * wallSize,\r\n    sceneBorderWidth: 4,\r\n    faceBaseChangeSpeed: 750,\r\n    faceRandomRangeSpeed: 400,\r\n    noCollideFurnitures: [\"furniture_hangingLamp\", \"furniture_hangingCandlestick\", \"furniture_skullsPile\", \"furniture_lyingSkeleton\", \"furniture_pot\"],\r\n    redPixelsAmountInX: 200,\r\n    treasuresNames: [\"CROSS\", \"CHALICE\", \"CHEST\", \"CROWN\", \"EXTRA_LIFE\"]\r\n};\r\nexport var Scene2DColors = {\r\n    HIT: 'rgb(255,0,0)',\r\n    PICK: 'rgb(213, 213, 31)'\r\n};\r\nexport var AudioNames = {\r\n    PICKUP_AMMO: \"P_AMMO\",\r\n    PICKUP_MACHINEGUN: \"P_MGUN\",\r\n    PICKUP_CHAINGUN: \"P_CGUN\",\r\n    PICKUP_FOOD: \"P_FOOD\",\r\n    PICKUP_MEDKIT: \"P_MEDKIT\",\r\n    PICKUP_EXTRALIFE: \"P_LIFE\",\r\n    TREASURE_CHEST: \"T_CHEST\",\r\n    TREASURE_CROSS: \"T_CROSS\",\r\n    TREASURE_CROWN: \"T_CROWN\",\r\n    TREASURE_CUP: \"T_CUP\",\r\n    DOORS_OPEN: \"WSND0003\",\r\n    DOORS_CLOSE: \"WSND0002\",\r\n    DOORS_SECRET: \"WSND0015\",\r\n    ELEVATOR_SWITCH: \"WSND0030\",\r\n    END_100_BONUS: \"S_100\",\r\n    END_BONUS_POINTS: \"S_BONUSC\",\r\n    WEAPON_KNIFE: \"DSWKNIF\",\r\n    WEAPON_PISTOL: \"WSND0005\",\r\n    WEAPON_MACHINEGUN: \"WSND0004\",\r\n    WEAPON_CHAINGUN: \"WSND0006\",\r\n    GUARD_ATTACK: \"WSND0021\",\r\n    PLAYER_HIT: \"WSND0014\",\r\n    PLAYER_DEAD: \"DSDEATH\",\r\n    DOG_DETECT: \"WSND0001\",\r\n    DOG_ATTACK: \"WSND0029\",\r\n    DOG_DEATH: \"WSND0016\",\r\n    GUARD_DEAD_1: \"WSND0012\",\r\n    GUARD_DEAD_2: \"WSND0013\",\r\n    GUARD_DEAD_3: \"WSND0034\",\r\n    GUARD_DEAD_4: \"WSND0035\",\r\n    GUARD_DEAD_5: \"WSND0039\",\r\n    GUARD_DEAD_6: \"WSND0040\",\r\n    GUARD_DEAD_7: \"WSND0041\",\r\n    GUARD_DEAD_8: \"WSND0042\",\r\n    GUARD_DETECT: \"WSND0000\",\r\n    MENU_SELECT: \"M_SELECT\",\r\n    MENU_MOVE: \"M_MOVE\",\r\n    THEME_SPLASH: \"THEME_SPLASH\",\r\n    THEME_MENU: \"THEME_MENU\",\r\n    THEME_LEVEL: \"THEME_LEVEL\"\r\n};\r\nexport var animNames = {\r\n    ENEMY_SHOOT: \"ENEMY_SHOOT\",\r\n    ENEMY_DEAD: \"ENEMY_DEAD\",\r\n    ENEMY_RUN: \"ENEMY_RUN\",\r\n    ENEMY_STAND: \"ENEMY_STAND\",\r\n    ENEMY_HIT: \"ENEMY_HIT\",\r\n    WEAPON_DEFAULT: \"WEAPON_DEFAULT\",\r\n    WEAPON_PICK: \"WEAPON_PICK\",\r\n    WEAPON_SHOOT: \"WEAPON_SHOOT\",\r\n    WEAPON_HIDE: \"WEAPON_HIDE\"\r\n};\r\nexport var enemyActionTypes = {\r\n    STAND: \"STAND\",\r\n    RUN: \"RUN\",\r\n    HIT: \"HIT\",\r\n    DEAD: \"DEAD\",\r\n    SHOOT: \"SHOOT\"\r\n};\r\nexport var enemyAngleStatus = {\r\n    FRONT: 1,\r\n    FRONT_LEFT: 2,\r\n    LEFT: 3,\r\n    BACK_LEFT: 4,\r\n    BACK: 5,\r\n    BACK_RIGHT: 6,\r\n    RIGHT: 7,\r\n    FRONT_RIGHT: 8,\r\n};\r\nexport var weaponStatus = {\r\n    DEFAULT: \"DEFAULT\",\r\n    PICK: \"PICK\",\r\n    SHOOT: \"SHOOT\",\r\n    HIDE: \"HIDE\"\r\n};\r\nexport var weaponTypes = {\r\n    KNIFE: { id: 1, attackSpeed: 2.4, auto: false, range: 1 * config.wallSize, shootID: 0, damage: 50, needAmmo: false, makeNoise: false, audioName: AudioNames.WEAPON_KNIFE },\r\n    PISTOL: { id: 2, attackSpeed: 2.4, auto: false, range: 10 * config.wallSize, shootID: 1, damage: 100, needAmmo: true, makeNoise: true, audioName: AudioNames.WEAPON_PISTOL },\r\n    MACHINEGUN: { id: 3, attackSpeed: 6, auto: true, range: 14 * config.wallSize, shootID: 1, damage: 100, needAmmo: true, makeNoise: true, audioName: AudioNames.WEAPON_MACHINEGUN },\r\n    CHAINGUN: { id: 4, attackSpeed: 6, auto: true, range: 20 * config.wallSize, shootID: null, damage: 100, needAmmo: true, makeNoise: true, audioName: AudioNames.WEAPON_CHAINGUN },\r\n};\r\nexport var pickablesTypes = {\r\n    CLIP: { action: function (camera) { if (camera.ammo < 99) {\r\n            camera.addAMMO(8);\r\n            MyAudio.instance.playAudio(AudioNames.PICKUP_AMMO);\r\n            return true;\r\n        } return false; } },\r\n    USED_CLIP: { action: function (camera) { if (camera.ammo < 99) {\r\n            camera.addAMMO(4);\r\n            MyAudio.instance.playAudio(AudioNames.PICKUP_AMMO);\r\n            return true;\r\n        } return false; } },\r\n    DOG_FOOD: { action: function (camera) { if (camera.hp < 100) {\r\n            camera.addHP(4);\r\n            MyAudio.instance.playAudio(AudioNames.PICKUP_FOOD);\r\n            return true;\r\n        } return false; } },\r\n    CHICKEN_MEAL: { action: function (camera) { if (camera.hp < 100) {\r\n            camera.addHP(10);\r\n            MyAudio.instance.playAudio(AudioNames.PICKUP_FOOD);\r\n            return true;\r\n        } return false; } },\r\n    BLOOD: { action: function (camera) { if (camera.hp < 10) {\r\n            camera.addHP(1);\r\n            MyAudio.instance.playAudio(AudioNames.PICKUP_FOOD);\r\n            return true;\r\n        } return false; } },\r\n    BLOODY_SKELETON: { action: function (camera) { if (camera.hp < 10) {\r\n            camera.addHP(1);\r\n            MyAudio.instance.playAudio(AudioNames.PICKUP_FOOD);\r\n            return true;\r\n        } return false; } },\r\n    FIRST_AID_KIT: { action: function (camera) { if (camera.hp < 100) {\r\n            camera.addHP(25);\r\n            MyAudio.instance.playAudio(AudioNames.PICKUP_MEDKIT);\r\n            return true;\r\n        } return false; } },\r\n    CROSS: { action: function (camera) { camera.addPOINTS(100); MyAudio.instance.playAudio(AudioNames.TREASURE_CROSS); return true; } },\r\n    CHALICE: { action: function (camera) { camera.addPOINTS(500); MyAudio.instance.playAudio(AudioNames.TREASURE_CUP); return true; } },\r\n    CHEST: { action: function (camera) { camera.addPOINTS(1000); MyAudio.instance.playAudio(AudioNames.TREASURE_CHEST); return true; } },\r\n    CROWN: { action: function (camera) { camera.addPOINTS(5000); MyAudio.instance.playAudio(AudioNames.TREASURE_CROWN); return true; } },\r\n    EXTRA_LIFE: { action: function (camera) { camera.extraLife(); MyAudio.instance.playAudio(AudioNames.PICKUP_EXTRALIFE); return true; } },\r\n    KEY_SILVER: { action: function (camera) { if (!camera.silverKey) {\r\n            camera.addKEY('SILVER');\r\n            return true;\r\n        } return false; } },\r\n    KEY_GOLD: { action: function (camera) { if (!camera.goldKey) {\r\n            camera.addKEY('GOLD');\r\n            return true;\r\n        } return false; } },\r\n    MACHINEGUN: { action: function (camera) { if (camera.weapon.weaponID <= weaponTypes.MACHINEGUN.id) {\r\n            camera.weapon.changeWeapon(weaponTypes.MACHINEGUN);\r\n            MyAudio.instance.playAudio(AudioNames.PICKUP_MACHINEGUN);\r\n        } camera.addAMMO(6); return true; } },\r\n    CHAINGUN: { action: function (camera) { camera.weapon.changeWeapon(weaponTypes.CHAINGUN); MyAudio.instance.playAudio(AudioNames.PICKUP_CHAINGUN); camera.addAMMO(6); return true; } },\r\n};\r\nexport var pickablesNames = {\r\n    \"CLIP\": pickablesTypes.CLIP,\r\n    \"USED_CLIP\": pickablesTypes.USED_CLIP,\r\n    \"DOG_FOOD\": pickablesTypes.DOG_FOOD,\r\n    \"BLOOD\": pickablesTypes.BLOOD,\r\n    \"CROSS\": pickablesTypes.CROSS,\r\n    \"CHALICE\": pickablesTypes.CHALICE,\r\n    \"CHEST\": pickablesTypes.CHEST,\r\n    \"CROWN\": pickablesTypes.CROWN,\r\n    \"CHICKEN_MEAL\": pickablesTypes.CHICKEN_MEAL,\r\n    \"EXTRA_LIFE\": pickablesTypes.EXTRA_LIFE,\r\n    \"BLOODY_SKELETON\": pickablesTypes.BLOODY_SKELETON,\r\n    \"KEY_SILVER\": pickablesTypes.KEY_SILVER,\r\n    \"KEY_GOLD\": pickablesTypes.KEY_GOLD,\r\n    \"FIRST_AID_KIT\": pickablesTypes.FIRST_AID_KIT,\r\n    \"MACHINEGUN\": pickablesTypes.MACHINEGUN,\r\n    \"CHAINGUN\": pickablesTypes.CHAINGUN,\r\n};\r\nexport var hudImgNames = {\r\n    HUDBAR: \"hudBar\",\r\n    WEAPON_KNIFE: \"weapon_knife\",\r\n    WEAPON_PISTOL: \"weapon_pistol\",\r\n    WEAPON_MACHINEGUN: \"weapon_machingeun\",\r\n    WEAPON_CHAINGUN: \"weapon_chaingun\",\r\n    KEY_GOLD: \"key_gold\",\r\n    KEY_SILVER: \"key_silver\",\r\n    LOADER: \"loader\",\r\n    PAUSE: \"pause\",\r\n    FACE: \"face_dir_id\",\r\n    END_PLAYER: \"end_player_id\"\r\n};\r\nexport var MenuImgNames = {\r\n    BLUE_SCREEN_INFO: \"blueScreenInfo\",\r\n    GAME_TITLE_SCREEN: \"gameTitleScreen\",\r\n    CREDITS_SCREEN: \"creditsScreen\",\r\n    EPISODE_PICTURE: \"episode_picture_id\",\r\n    MENU_PISTOL_1: \"menu_pistol_1\",\r\n    MENU_PISTOL_2: \"menu_pistol_2\",\r\n    OPTIONS_DOWN_BANNER: \"options_down_banner\",\r\n    DIFFICULTY_FACE: \"difficulty_face_id\",\r\n    OPTION_ACTIVE: \"option_active\",\r\n    OPTION_DISACTIVE: \"option_disactive\",\r\n    TITLE_OPTIONS: \"title_options\",\r\n    TITLE_LOADING: \"title_loading\",\r\n    TITLE_HIGHSCORE: \"title_highScore\",\r\n    HIGHSCORE_CODE: \"highScore_code\",\r\n    HIGHSCORE_CODE2: \"highScore_code2\",\r\n    HIGHSCORE_LEVEL: \"highScore_level\",\r\n    HIGHSCORE_NAME: \"highScore_name\",\r\n    HIGHSCORE_SCORE: \"highScore_score\"\r\n};\r\nexport var MenuScreens = {\r\n    BLUEINFO: 1,\r\n    GAME_TITLE: 2,\r\n    CREDITS: 3,\r\n    OPTIONS: 4,\r\n    CHOOSE_EPISODE: 5,\r\n    CHOOSE_DIFFICULTY: 6\r\n};\r\nexport var menuFontColors = {\r\n    active: 'rgb(152,152,152)',\r\n    inactive: 'rgb(121,10,0)',\r\n    special: 'rgb(255,233,0)'\r\n};\r\nexport var MenuOptionsOptions = {\r\n    NEW_GAME: { id: 1, active: true },\r\n    SOUND: { id: 2, active: false },\r\n    CONTROL: { id: 3, active: false },\r\n    LOAD_GAME: { id: 4, active: false },\r\n    SAVE_GAME: { id: 5, active: false },\r\n    CHANGE_VIEW: { id: 6, active: false },\r\n    END_GAME: { id: 7, active: false },\r\n    BACK_TO_GAME: { id: 8, active: false, special: true },\r\n    QUIT: { id: 9, active: true }\r\n};\r\nexport var MenuDifficultyOptions = {\r\n    \"Can I play, Daddy?\": { id: 1, active: true },\r\n    \"Don't hurt me.\": { id: 2, active: true },\r\n    \"Bring 'em on!\": { id: 3, active: true },\r\n    \"I am Death incarnate!\": { id: 4, active: true }\r\n};\r\nexport var Scene2DStatus = {\r\n    MENU: \"MENU\",\r\n    GAME: \"GAME\"\r\n};\r\nexport var HUDStatus = {\r\n    LOADING: \"LOADING\",\r\n    GAMEPLAY: \"GAMEPLAY\",\r\n    ENDSCREEN: \"ENDSCREEN\"\r\n};\r\nexport var EnemyData = {\r\n    GUARD: { texture: \"ENEMY\", name: \"GUARD\", dmg: 20, hp: 100, moveSpeed: 3, dropAmmo: true, attackRange: 2 },\r\n    DOG: { texture: \"DOG\", name: \"DOG\", dmg: 10, hp: 1, moveSpeed: 5, dropAmmo: false, attackRange: 0.5 }\r\n};\r\n","var BoxPoint = /** @class */ (function () {\r\n    function BoxPoint(x, z) {\r\n        this.x = x;\r\n        this.z = z;\r\n    }\r\n    BoxPoint.prototype.distancePointToPoint = function (point) {\r\n        return Math.abs(Math.sqrt(Math.pow(point.x - this.x, 2) + Math.pow(point.z - this.z, 2)));\r\n    };\r\n    return BoxPoint;\r\n}());\r\nexport default BoxPoint;\r\n","import BoxPoint from \"./BoxPoint\";\r\nexport var LINE_TYPE;\r\n(function (LINE_TYPE) {\r\n    LINE_TYPE[\"FULL\"] = \"FULL\";\r\n    LINE_TYPE[\"ONLY_X\"] = \"ONLY_X\";\r\n    LINE_TYPE[\"ONLY_Y\"] = \"ONLY_Y\";\r\n})(LINE_TYPE || (LINE_TYPE = {}));\r\nvar BoxLine = /** @class */ (function () {\r\n    function BoxLine(p1, p2) {\r\n        this.p1 = p1;\r\n        this.p2 = p2;\r\n        this.type = (p1.x == p2.x ? LINE_TYPE.ONLY_X : p1.z == p2.z ? LINE_TYPE.ONLY_Y : LINE_TYPE.FULL);\r\n        if (this.type == LINE_TYPE.FULL || this.type == LINE_TYPE.ONLY_Y) {\r\n            this.a = (p2.z - p1.z) / (p2.x - p1.x);\r\n            this.b = p1.z - this.a * p1.x;\r\n        }\r\n        else {\r\n            this.a = p1.x;\r\n            this.b = 0;\r\n        }\r\n    }\r\n    BoxLine.prototype.calcCrossPoint = function (secLine) {\r\n        var x, z, nulled;\r\n        if (this.type == LINE_TYPE.ONLY_X && (secLine.type == LINE_TYPE.FULL || secLine.type == LINE_TYPE.ONLY_Y)) {\r\n            x = this.a;\r\n            z = secLine.a * x + secLine.b;\r\n        }\r\n        else if ((this.type == LINE_TYPE.FULL || this.type == LINE_TYPE.ONLY_Y) && secLine.type == LINE_TYPE.ONLY_X) {\r\n            x = secLine.a;\r\n            z = this.a * x + this.b;\r\n        }\r\n        else if ((this.type == LINE_TYPE.ONLY_X && secLine.type == LINE_TYPE.ONLY_X) || (this.type == LINE_TYPE.ONLY_Y && secLine.type == LINE_TYPE.ONLY_Y)) {\r\n            nulled = true;\r\n        }\r\n        else {\r\n            x = (secLine.b - this.b) / (this.a - secLine.a);\r\n            z = this.a * x + this.b;\r\n        }\r\n        return nulled ? null : new BoxPoint(x, z);\r\n    };\r\n    BoxLine.prototype.checkPointBetweenLimit = function (point) {\r\n        var limitTabX = [this.p1, this.p2].sort(function (a, b) { return a.x - b.x; });\r\n        var limitTabZ = [this.p1, this.p2].sort(function (a, b) { return a.z - b.z; });\r\n        return limitTabX[0].x <= point.x && point.x <= limitTabX[1].x && limitTabZ[0].z <= point.z && point.z <= limitTabZ[1].z;\r\n    };\r\n    BoxLine.prototype.distanceToPoint = function (point) {\r\n        var limitTabX = [this.p1, this.p2].sort(function (a, b) { return a.x - b.x; });\r\n        var limitTabZ = [this.p1, this.p2].sort(function (a, b) { return a.z - b.z; });\r\n        var ptX = Math.min(limitTabX[1].x, Math.max(limitTabX[0].x, point.x));\r\n        var ptZ = Math.min(limitTabZ[1].z, Math.max(limitTabZ[0].z, point.z));\r\n        var dst = new BoxPoint(ptX, ptZ).distancePointToPoint(point);\r\n        return dst;\r\n    };\r\n    BoxLine.prototype.calcPoint = function (type, val) {\r\n        if (this.type == LINE_TYPE.ONLY_X) {\r\n            if (type == \"x\") {\r\n                return null;\r\n            }\r\n            else {\r\n                return new BoxPoint(this.a, val);\r\n            }\r\n        }\r\n        else {\r\n            if (type == \"x\") {\r\n                var cross = this.a * val + this.b;\r\n                return new BoxPoint(val, cross);\r\n            }\r\n            else {\r\n                var cross = (val - this.b) / this.a;\r\n                return new BoxPoint(cross, val);\r\n            }\r\n        }\r\n    };\r\n    return BoxLine;\r\n}());\r\nexport default BoxLine;\r\n","import BoxLine from \"./BoxLine\";\r\nimport BoxPoint from \"./BoxPoint\";\r\nvar Box2D = /** @class */ (function () {\r\n    function Box2D(obj) {\r\n        this.obj = obj;\r\n        this.corners = {\r\n            TOP_LEFT: new BoxPoint(this.obj.pos.x - this.obj.width / 2, this.obj.pos.z - this.obj.deep / 2),\r\n            TOP_RIGHT: new BoxPoint(this.obj.pos.x + this.obj.width / 2, this.obj.pos.z - this.obj.deep / 2),\r\n            BOTTOM_LEFT: new BoxPoint(this.obj.pos.x - this.obj.width / 2, this.obj.pos.z + this.obj.deep / 2),\r\n            BOTTOM_RIGHT: new BoxPoint(this.obj.pos.x + this.obj.width / 2, this.obj.pos.z + this.obj.deep / 2)\r\n        };\r\n        this.lines = {\r\n            TOP: new BoxLine(this.corners.TOP_LEFT, this.corners.TOP_RIGHT),\r\n            RIGHT: new BoxLine(this.corners.TOP_RIGHT, this.corners.BOTTOM_RIGHT),\r\n            BOTTOM: new BoxLine(this.corners.BOTTOM_LEFT, this.corners.BOTTOM_RIGHT),\r\n            LEFT: new BoxLine(this.corners.TOP_LEFT, this.corners.BOTTOM_LEFT),\r\n        };\r\n    }\r\n    Box2D.prototype.checkPointInBox = function (point) {\r\n        var limitTabX = [this.corners.TOP_LEFT, this.corners.TOP_RIGHT].sort(function (a, b) { return a.x - b.x; });\r\n        var limitTabZ = [this.corners.TOP_LEFT, this.corners.BOTTOM_LEFT].sort(function (a, b) { return a.z - b.z; });\r\n        return limitTabX[0].x <= point.x && point.x <= limitTabX[1].x && limitTabZ[0].z <= point.z && point.z <= limitTabZ[1].z;\r\n    };\r\n    Box2D.prototype.isCornerCollision = function (point) {\r\n        var limitTabX = [this.corners.TOP_LEFT, this.corners.TOP_RIGHT].sort(function (a, b) { return a.x - b.x; });\r\n        var limitTabZ = [this.corners.TOP_LEFT, this.corners.BOTTOM_LEFT].sort(function (a, b) { return a.z - b.z; });\r\n        if ((limitTabX[0].x <= point.x && point.x <= limitTabX[1].x) || (limitTabZ[0].z <= point.z && point.z <= limitTabZ[1].z)) {\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    };\r\n    return Box2D;\r\n}());\r\nexport default Box2D;\r\n","var Vector3 = /** @class */ (function () {\r\n    function Vector3(x, y, z) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n    }\r\n    Vector3.prototype.clone = function () {\r\n        return new Vector3(this.x, this.y, this.z);\r\n    };\r\n    Vector3.prototype.set = function (vec) {\r\n        this.x = vec.x;\r\n        this.y = vec.y;\r\n        this.z = vec.z;\r\n        return this;\r\n    };\r\n    Vector3.prototype.normalize = function () {\r\n        var len = Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\r\n        if (len > 0.00001) {\r\n            this.x /= len;\r\n            this.y /= len;\r\n            this.z /= len;\r\n        }\r\n        else {\r\n            this.x = 0;\r\n            this.y = 0;\r\n            this.z = 0;\r\n        }\r\n        return this;\r\n    };\r\n    Vector3.prototype.sub = function (v) {\r\n        this.x -= v.x;\r\n        this.y -= v.y;\r\n        this.z -= v.z;\r\n        return this;\r\n    };\r\n    Vector3.prototype.add = function (v) {\r\n        this.x += v.x;\r\n        this.y += v.y;\r\n        this.z += v.z;\r\n        return this;\r\n    };\r\n    Vector3.prototype.translate = function (x, y, z) {\r\n        this.x += x;\r\n        this.y += y;\r\n        this.z += z;\r\n        return this;\r\n    };\r\n    Vector3.prototype.rotateY = function (angle) {\r\n        this.y += angle;\r\n    };\r\n    Vector3.prototype.inverse = function () {\r\n        this.multiply(-1);\r\n        return this;\r\n    };\r\n    Vector3.prototype.multiply = function (val) {\r\n        this.x *= val;\r\n        this.y *= val;\r\n        this.z *= val;\r\n        return this;\r\n    };\r\n    Vector3.prototype.divide = function (val) {\r\n        this.x /= val;\r\n        this.y /= val;\r\n        this.z /= val;\r\n        return this;\r\n    };\r\n    Vector3.prototype.zReverse = function () {\r\n        this.z *= -1;\r\n        return this;\r\n    };\r\n    Vector3.prototype.xReverse = function () {\r\n        this.x *= -1;\r\n        return this;\r\n    };\r\n    Vector3.cross = function (v1, v2) {\r\n        return new Vector3(v1.y * v2.z - v1.z * v2.y, v1.z * v2.x - v1.x * v2.z, v1.x * v2.y - v1.y * v2.x);\r\n    };\r\n    Vector3.prototype.transformMat4 = function (mat) {\r\n        var m = mat.matrix;\r\n        var w = m[3] * this.x + m[7] * this.y + m[11] * this.z + m[15];\r\n        w = w || 1.0;\r\n        var out = Vector3.zero();\r\n        out.x = (m[0] * this.x + m[4] * this.y + m[8] * this.z + m[12]) / w;\r\n        out.y = (m[1] * this.x + m[5] * this.y + m[9] * this.z + m[13]) / w;\r\n        out.z = (m[2] * this.x + m[6] * this.y + m[10] * this.z + m[14]) / w;\r\n        this.x = out.x;\r\n        this.y = out.y;\r\n        this.z = out.z;\r\n        return this;\r\n    };\r\n    Vector3.prototype.isEval = function (vec) {\r\n        if (vec.x == this.x && vec.y == this.y && vec.z == this.z) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    Vector3.prototype.flipXZ = function () {\r\n        var x = this.x;\r\n        var z = this.z;\r\n        this.x = z;\r\n        this.z = x;\r\n        return this;\r\n    };\r\n    Vector3.up = function () {\r\n        return new Vector3(0, 1, 0);\r\n    };\r\n    Vector3.forward = function () {\r\n        return new Vector3(0, 0, 1);\r\n    };\r\n    Vector3.backward = function () {\r\n        return new Vector3(0, 0, -1);\r\n    };\r\n    Vector3.down = function () {\r\n        return new Vector3(0, -1, 0);\r\n    };\r\n    Vector3.zero = function () {\r\n        return new Vector3(0, 0, 0);\r\n    };\r\n    Vector3.fromAngle = function (angle) {\r\n        angle = angle - Math.PI / 2;\r\n        return new Vector3(-Math.cos(angle), 0, Math.sin(angle));\r\n    };\r\n    Vector3.distance = function (v1, v2) {\r\n        return Math.sqrt(Math.pow(v2.x - v1.x, 2) + Math.pow(v2.z - v1.z, 2));\r\n    };\r\n    return Vector3;\r\n}());\r\nexport default Vector3;\r\n","import Vector3 from \"./Vector3\";\r\nvar Matrix4 = /** @class */ (function () {\r\n    function Matrix4(matrix) {\r\n        if (matrix === void 0) { matrix = null; }\r\n        this.matrix = matrix != null ? matrix : [\r\n            1, 0, 0, 0,\r\n            0, 1, 0, 0,\r\n            0, 0, 1, 0,\r\n            0, 0, 0, 1\r\n        ];\r\n    }\r\n    Matrix4.prototype.perspective = function (fieldOfView, aspect, near, far) {\r\n        var f = Math.tan(Math.PI * 0.5 - 0.5 * fieldOfView);\r\n        var rangeInv = 1.0 / (near - far);\r\n        this.matrix = [\r\n            f / aspect, 0, 0, 0,\r\n            0, f, 0, 0,\r\n            0, 0, (near + far) * rangeInv, -1,\r\n            0, 0, near * far * rangeInv * 2, 0\r\n        ];\r\n        return this;\r\n    };\r\n    Matrix4.prototype.translate = function (tx, ty, tz) {\r\n        this.multiply(Matrix4.translation(tx, ty, tz));\r\n        return this;\r\n    };\r\n    Matrix4.prototype.xRotate = function (angle) {\r\n        this.multiply(Matrix4.xRotation(angle));\r\n        return this;\r\n    };\r\n    Matrix4.prototype.yRotate = function (angle) {\r\n        this.multiply(Matrix4.yRotation(angle));\r\n        return this;\r\n    };\r\n    Matrix4.prototype.zRotate = function (angle) {\r\n        this.multiply(Matrix4.zRotation(angle));\r\n        return this;\r\n    };\r\n    Matrix4.prototype.scale = function (sx, sy, sz) {\r\n        this.multiply(Matrix4.scaling(sx, sy, sz));\r\n        return this;\r\n    };\r\n    Matrix4.lookAt = function (vec, target, up) {\r\n        var zAxis = vec.clone().sub(target).normalize();\r\n        var xAxis = Vector3.cross(up, zAxis).normalize();\r\n        var yAxis = Vector3.cross(zAxis, xAxis).normalize();\r\n        return new Matrix4([\r\n            xAxis.x, xAxis.y, xAxis.z, 0,\r\n            yAxis.x, yAxis.y, yAxis.z, 0,\r\n            zAxis.x, zAxis.y, zAxis.z, 0,\r\n            vec.x,\r\n            vec.y,\r\n            vec.z,\r\n            1,\r\n        ]);\r\n    };\r\n    Matrix4.prototype.clone = function () {\r\n        var mat = new Matrix4();\r\n        mat.matrix = Array.from(this.matrix);\r\n        return mat;\r\n    };\r\n    Matrix4.prototype.positionFromMatrix = function () {\r\n        return new Vector3(this.matrix[12], this.matrix[13], this.matrix[14]);\r\n    };\r\n    Matrix4.prototype.multiply = function (mat) {\r\n        var b00 = mat.matrix[0 * 4 + 0];\r\n        var b01 = mat.matrix[0 * 4 + 1];\r\n        var b02 = mat.matrix[0 * 4 + 2];\r\n        var b03 = mat.matrix[0 * 4 + 3];\r\n        var b10 = mat.matrix[1 * 4 + 0];\r\n        var b11 = mat.matrix[1 * 4 + 1];\r\n        var b12 = mat.matrix[1 * 4 + 2];\r\n        var b13 = mat.matrix[1 * 4 + 3];\r\n        var b20 = mat.matrix[2 * 4 + 0];\r\n        var b21 = mat.matrix[2 * 4 + 1];\r\n        var b22 = mat.matrix[2 * 4 + 2];\r\n        var b23 = mat.matrix[2 * 4 + 3];\r\n        var b30 = mat.matrix[3 * 4 + 0];\r\n        var b31 = mat.matrix[3 * 4 + 1];\r\n        var b32 = mat.matrix[3 * 4 + 2];\r\n        var b33 = mat.matrix[3 * 4 + 3];\r\n        var a00 = this.matrix[0 * 4 + 0];\r\n        var a01 = this.matrix[0 * 4 + 1];\r\n        var a02 = this.matrix[0 * 4 + 2];\r\n        var a03 = this.matrix[0 * 4 + 3];\r\n        var a10 = this.matrix[1 * 4 + 0];\r\n        var a11 = this.matrix[1 * 4 + 1];\r\n        var a12 = this.matrix[1 * 4 + 2];\r\n        var a13 = this.matrix[1 * 4 + 3];\r\n        var a20 = this.matrix[2 * 4 + 0];\r\n        var a21 = this.matrix[2 * 4 + 1];\r\n        var a22 = this.matrix[2 * 4 + 2];\r\n        var a23 = this.matrix[2 * 4 + 3];\r\n        var a30 = this.matrix[3 * 4 + 0];\r\n        var a31 = this.matrix[3 * 4 + 1];\r\n        var a32 = this.matrix[3 * 4 + 2];\r\n        var a33 = this.matrix[3 * 4 + 3];\r\n        this.matrix = [\r\n            b00 * a00 + b01 * a10 + b02 * a20 + b03 * a30,\r\n            b00 * a01 + b01 * a11 + b02 * a21 + b03 * a31,\r\n            b00 * a02 + b01 * a12 + b02 * a22 + b03 * a32,\r\n            b00 * a03 + b01 * a13 + b02 * a23 + b03 * a33,\r\n            b10 * a00 + b11 * a10 + b12 * a20 + b13 * a30,\r\n            b10 * a01 + b11 * a11 + b12 * a21 + b13 * a31,\r\n            b10 * a02 + b11 * a12 + b12 * a22 + b13 * a32,\r\n            b10 * a03 + b11 * a13 + b12 * a23 + b13 * a33,\r\n            b20 * a00 + b21 * a10 + b22 * a20 + b23 * a30,\r\n            b20 * a01 + b21 * a11 + b22 * a21 + b23 * a31,\r\n            b20 * a02 + b21 * a12 + b22 * a22 + b23 * a32,\r\n            b20 * a03 + b21 * a13 + b22 * a23 + b23 * a33,\r\n            b30 * a00 + b31 * a10 + b32 * a20 + b33 * a30,\r\n            b30 * a01 + b31 * a11 + b32 * a21 + b33 * a31,\r\n            b30 * a02 + b31 * a12 + b32 * a22 + b33 * a32,\r\n            b30 * a03 + b31 * a13 + b32 * a23 + b33 * a33,\r\n        ];\r\n        return this;\r\n    };\r\n    Matrix4.prototype.inverse = function () {\r\n        var m00 = this.matrix[0 * 4 + 0];\r\n        var m01 = this.matrix[0 * 4 + 1];\r\n        var m02 = this.matrix[0 * 4 + 2];\r\n        var m03 = this.matrix[0 * 4 + 3];\r\n        var m10 = this.matrix[1 * 4 + 0];\r\n        var m11 = this.matrix[1 * 4 + 1];\r\n        var m12 = this.matrix[1 * 4 + 2];\r\n        var m13 = this.matrix[1 * 4 + 3];\r\n        var m20 = this.matrix[2 * 4 + 0];\r\n        var m21 = this.matrix[2 * 4 + 1];\r\n        var m22 = this.matrix[2 * 4 + 2];\r\n        var m23 = this.matrix[2 * 4 + 3];\r\n        var m30 = this.matrix[3 * 4 + 0];\r\n        var m31 = this.matrix[3 * 4 + 1];\r\n        var m32 = this.matrix[3 * 4 + 2];\r\n        var m33 = this.matrix[3 * 4 + 3];\r\n        var tmp_0 = m22 * m33;\r\n        var tmp_1 = m32 * m23;\r\n        var tmp_2 = m12 * m33;\r\n        var tmp_3 = m32 * m13;\r\n        var tmp_4 = m12 * m23;\r\n        var tmp_5 = m22 * m13;\r\n        var tmp_6 = m02 * m33;\r\n        var tmp_7 = m32 * m03;\r\n        var tmp_8 = m02 * m23;\r\n        var tmp_9 = m22 * m03;\r\n        var tmp_10 = m02 * m13;\r\n        var tmp_11 = m12 * m03;\r\n        var tmp_12 = m20 * m31;\r\n        var tmp_13 = m30 * m21;\r\n        var tmp_14 = m10 * m31;\r\n        var tmp_15 = m30 * m11;\r\n        var tmp_16 = m10 * m21;\r\n        var tmp_17 = m20 * m11;\r\n        var tmp_18 = m00 * m31;\r\n        var tmp_19 = m30 * m01;\r\n        var tmp_20 = m00 * m21;\r\n        var tmp_21 = m20 * m01;\r\n        var tmp_22 = m00 * m11;\r\n        var tmp_23 = m10 * m01;\r\n        var t0 = (tmp_0 * m11 + tmp_3 * m21 + tmp_4 * m31) -\r\n            (tmp_1 * m11 + tmp_2 * m21 + tmp_5 * m31);\r\n        var t1 = (tmp_1 * m01 + tmp_6 * m21 + tmp_9 * m31) -\r\n            (tmp_0 * m01 + tmp_7 * m21 + tmp_8 * m31);\r\n        var t2 = (tmp_2 * m01 + tmp_7 * m11 + tmp_10 * m31) -\r\n            (tmp_3 * m01 + tmp_6 * m11 + tmp_11 * m31);\r\n        var t3 = (tmp_5 * m01 + tmp_8 * m11 + tmp_11 * m21) -\r\n            (tmp_4 * m01 + tmp_9 * m11 + tmp_10 * m21);\r\n        var d = 1.0 / (m00 * t0 + m10 * t1 + m20 * t2 + m30 * t3);\r\n        this.matrix = [\r\n            d * t0,\r\n            d * t1,\r\n            d * t2,\r\n            d * t3,\r\n            d * ((tmp_1 * m10 + tmp_2 * m20 + tmp_5 * m30) -\r\n                (tmp_0 * m10 + tmp_3 * m20 + tmp_4 * m30)),\r\n            d * ((tmp_0 * m00 + tmp_7 * m20 + tmp_8 * m30) -\r\n                (tmp_1 * m00 + tmp_6 * m20 + tmp_9 * m30)),\r\n            d * ((tmp_3 * m00 + tmp_6 * m10 + tmp_11 * m30) -\r\n                (tmp_2 * m00 + tmp_7 * m10 + tmp_10 * m30)),\r\n            d * ((tmp_4 * m00 + tmp_9 * m10 + tmp_10 * m20) -\r\n                (tmp_5 * m00 + tmp_8 * m10 + tmp_11 * m20)),\r\n            d * ((tmp_12 * m13 + tmp_15 * m23 + tmp_16 * m33) -\r\n                (tmp_13 * m13 + tmp_14 * m23 + tmp_17 * m33)),\r\n            d * ((tmp_13 * m03 + tmp_18 * m23 + tmp_21 * m33) -\r\n                (tmp_12 * m03 + tmp_19 * m23 + tmp_20 * m33)),\r\n            d * ((tmp_14 * m03 + tmp_19 * m13 + tmp_22 * m33) -\r\n                (tmp_15 * m03 + tmp_18 * m13 + tmp_23 * m33)),\r\n            d * ((tmp_17 * m03 + tmp_20 * m13 + tmp_23 * m23) -\r\n                (tmp_16 * m03 + tmp_21 * m13 + tmp_22 * m23)),\r\n            d * ((tmp_14 * m22 + tmp_17 * m32 + tmp_13 * m12) -\r\n                (tmp_16 * m32 + tmp_12 * m12 + tmp_15 * m22)),\r\n            d * ((tmp_20 * m32 + tmp_12 * m02 + tmp_19 * m22) -\r\n                (tmp_18 * m22 + tmp_21 * m32 + tmp_13 * m02)),\r\n            d * ((tmp_18 * m12 + tmp_23 * m32 + tmp_15 * m02) -\r\n                (tmp_22 * m32 + tmp_14 * m02 + tmp_19 * m12)),\r\n            d * ((tmp_22 * m22 + tmp_16 * m02 + tmp_21 * m12) -\r\n                (tmp_20 * m12 + tmp_23 * m22 + tmp_17 * m02))\r\n        ];\r\n        return this;\r\n    };\r\n    Matrix4.translation = function (tx, ty, tz) {\r\n        return new Matrix4([\r\n            1, 0, 0, 0,\r\n            0, 1, 0, 0,\r\n            0, 0, 1, 0,\r\n            tx, ty, tz, 1\r\n        ]);\r\n    };\r\n    Matrix4.xRotation = function (angle) {\r\n        var c = Math.cos(angle);\r\n        var s = Math.sin(angle);\r\n        return new Matrix4([\r\n            1, 0, 0, 0,\r\n            0, c, s, 0,\r\n            0, -s, c, 0,\r\n            0, 0, 0, 1\r\n        ]);\r\n    };\r\n    Matrix4.yRotation = function (angle) {\r\n        var c = Math.cos(angle);\r\n        var s = Math.sin(angle);\r\n        return new Matrix4([\r\n            c, 0, -s, 0,\r\n            0, 1, 0, 0,\r\n            s, 0, c, 0,\r\n            0, 0, 0, 1\r\n        ]);\r\n    };\r\n    Matrix4.zRotation = function (angle) {\r\n        var c = Math.cos(angle);\r\n        var s = Math.sin(angle);\r\n        return new Matrix4([\r\n            c, s, 0, 0,\r\n            -s, c, 0, 0,\r\n            0, 0, 1, 0,\r\n            0, 0, 0, 1\r\n        ]);\r\n    };\r\n    Matrix4.scaling = function (sx, sy, sz) {\r\n        return new Matrix4([\r\n            sx, 0, 0, 0,\r\n            0, sy, 0, 0,\r\n            0, 0, sz, 0,\r\n            0, 0, 0, 1,\r\n        ]);\r\n    };\r\n    return Matrix4;\r\n}());\r\nexport default Matrix4;\r\n","import { AudioNames, config, weaponTypes } from \"../Config\";\r\nimport Box2D from \"./boxHelper/Box2D\";\r\nimport BoxLine from \"./boxHelper/BoxLine\";\r\nimport BoxPoint from \"./boxHelper/BoxPoint\";\r\nimport Matrix4 from \"./Matrix4\";\r\nimport Vector3 from \"./Vector3\";\r\nimport MyAudio from \"../MyAudio\";\r\nvar Camera = /** @class */ (function () {\r\n    function Camera() {\r\n        this.pos = new Vector3(0, 0, 0);\r\n        this.rotation = new Vector3(0, 0, 0);\r\n        this.movementSpeed = 4 * config.wallSize;\r\n        this.rotateSpeed = Math.PI / 1.6;\r\n        this.collisionRadius = 0.3 * config.wallSize;\r\n        this.FOV = Math.PI / 3;\r\n        this.zNear = 1;\r\n        this.zFar = 20 * config.wallSize;\r\n        this.projectionMatrix;\r\n        this.hp = 100;\r\n        this.ammo = 8;\r\n        this.points = 0;\r\n        this.lives = 3;\r\n        this.level = 1;\r\n        this.dead = false;\r\n        this.killer = undefined;\r\n        this.killCount = 0;\r\n        this.treasuresFound = 0;\r\n        this.hiddenWalls = 0;\r\n        this.startTime = Date.now();\r\n        this.hitted = false;\r\n        this.smoothRotateSpeed = 2;\r\n        this.goldKey = false;\r\n        this.silverKey = false;\r\n    }\r\n    Camera.prototype.updateProjectionMatrix = function (aspect) {\r\n        this.projectionMatrix = new Matrix4().perspective(this.FOV, aspect, this.zNear, this.zFar);\r\n    };\r\n    Camera.prototype.move = function (dir, deltaTime, blockObj) {\r\n        var matRot = new Matrix4().yRotate(this.rotation.y);\r\n        var deltaPos = dir.clone().normalize().multiply(-this.movementSpeed * deltaTime).transformMat4(matRot);\r\n        var futurePosX = this.pos.clone().translate(deltaPos.x, deltaPos.y, 0);\r\n        // this.pos.set(futurePosX)\r\n        this.pos.set(this.checkColliding(futurePosX, blockObj));\r\n        var futurePosZ = this.pos.clone().translate(0, 0, deltaPos.z);\r\n        // this.pos.set(futurePosZ)\r\n        this.pos.set(this.checkColliding(futurePosZ, blockObj));\r\n    };\r\n    Camera.prototype.rotate = function (dir, deltaTime) {\r\n        this.rotation.rotateY((this.rotateSpeed * deltaTime * dir.y));\r\n    };\r\n    Camera.prototype.angleTo = function (target) {\r\n        var lookDir = Vector3.fromAngle(this.rotation.y);\r\n        var toTargetDir = target.clone().sub(this.pos).normalize();\r\n        var angleToLook = Math.atan2(lookDir.z, lookDir.x);\r\n        var angleToTarget = Math.atan2(toTargetDir.z, toTargetDir.x);\r\n        var diff = angleToLook - angleToTarget;\r\n        if (diff > Math.PI)\r\n            diff -= 2 * Math.PI;\r\n        if (diff < -Math.PI)\r\n            diff += 2 * Math.PI;\r\n        return diff;\r\n    };\r\n    Camera.prototype.isLookingAt = function (enemy) {\r\n        var lookDir = Vector3.fromAngle(this.rotation.y);\r\n        var targetXDir = Vector3.cross(lookDir, Vector3.up()).normalize();\r\n        var enemyLeftPoint = enemy.pos.clone().sub(targetXDir.clone().multiply(enemy.width / 2));\r\n        var enemyRightPoint = enemy.pos.clone().add(targetXDir.clone().multiply(enemy.width / 2));\r\n        var angleLeft = this.angleTo(enemyLeftPoint);\r\n        var angleRight = this.angleTo(enemyRightPoint);\r\n        var look = 0 < angleLeft && angleLeft < Math.PI / 2 && -Math.PI / 2 < angleRight && angleRight < 0;\r\n        return look;\r\n    };\r\n    Camera.prototype.checkColliding = function (futPos, obj) {\r\n        var closestPointDistance = Infinity;\r\n        var closestOb = null;\r\n        var closestLine = null;\r\n        var futurePos = futPos.clone();\r\n        var futurePoint = new BoxPoint(futurePos.x, futurePos.z);\r\n        obj.forEach(function (ob) {\r\n            if (Vector3.distance(futurePos, ob.pos) <= config.wallSize * 1.5) {\r\n                var box_1 = new Box2D(ob);\r\n                Object.keys(box_1.lines).forEach(function (line) {\r\n                    var len = box_1.lines[line].distanceToPoint(futurePoint);\r\n                    if (len < closestPointDistance) {\r\n                        closestPointDistance = len;\r\n                        closestOb = ob;\r\n                        closestLine = line;\r\n                    }\r\n                });\r\n                if (box_1.checkPointInBox(futurePoint)) {\r\n                    closestPointDistance = 0;\r\n                }\r\n            }\r\n        });\r\n        if (closestPointDistance <= this.collisionRadius) {\r\n            var box_2 = new Box2D(closestOb);\r\n            var closestPoint = void 0;\r\n            if (box_2.isCornerCollision(futurePoint)) {\r\n                var closestCorner_1;\r\n                var closestDst_1 = Infinity;\r\n                Object.keys(box_2.corners).forEach(function (point) {\r\n                    var dst = box_2.corners[point].distancePointToPoint(futurePoint);\r\n                    if (dst < closestDst_1) {\r\n                        closestDst_1 = dst;\r\n                        closestCorner_1 = point;\r\n                    }\r\n                });\r\n                var vec = this.pos.sub(new Vector3(box_2.corners[closestCorner_1].x, 0, box_2.corners[closestCorner_1].z));\r\n                if (closestCorner_1 == \"TOP_LEFT\") {\r\n                    return Math.abs(vec.x) > Math.abs(vec.z) ?\r\n                        new Vector3(box_2.corners[closestCorner_1].x - this.collisionRadius, 0, futurePoint.z) :\r\n                        new Vector3(futurePoint.x, 0, box_2.corners[closestCorner_1].z - this.collisionRadius);\r\n                }\r\n                else if (closestCorner_1 == \"TOP_RIGHT\") {\r\n                    return Math.abs(vec.x) > Math.abs(vec.z) ?\r\n                        new Vector3(box_2.corners[closestCorner_1].x + this.collisionRadius, 0, futurePoint.z) :\r\n                        new Vector3(futurePoint.x, 0, box_2.corners[closestCorner_1].z - this.collisionRadius);\r\n                }\r\n                else if (closestCorner_1 == \"BOTTOM_LEFT\") {\r\n                    return Math.abs(vec.x) > Math.abs(vec.z) ?\r\n                        new Vector3(box_2.corners[closestCorner_1].x - this.collisionRadius, 0, futurePoint.z) :\r\n                        new Vector3(futurePoint.x, 0, box_2.corners[closestCorner_1].z + this.collisionRadius);\r\n                }\r\n                else if (closestCorner_1 == \"BOTTOM_RIGHT\") {\r\n                    return Math.abs(vec.x) > Math.abs(vec.z) ?\r\n                        new Vector3(box_2.corners[closestCorner_1].x + this.collisionRadius, 0, futurePoint.z) :\r\n                        new Vector3(futurePoint.x, 0, box_2.corners[closestCorner_1].z + this.collisionRadius);\r\n                }\r\n            }\r\n            else {\r\n                closestPoint = new BoxLine(futurePoint, new BoxPoint(closestOb.pos.x, closestOb.pos.z)).calcCrossPoint(box_2.lines[closestLine]);\r\n                if (closestPoint && closestLine) {\r\n                    if (closestLine == \"TOP\") {\r\n                        return new Vector3(futurePos.x, 0, closestPoint.z - this.collisionRadius);\r\n                    }\r\n                    else if (closestLine == \"BOTTOM\") {\r\n                        return new Vector3(futurePos.x, 0, closestPoint.z + this.collisionRadius);\r\n                    }\r\n                    else if (closestLine == \"LEFT\") {\r\n                        return new Vector3(closestPoint.x - this.collisionRadius, 0, futurePos.z);\r\n                    }\r\n                    else if (closestLine == \"RIGHT\") {\r\n                        return new Vector3(closestPoint.x + this.collisionRadius, 0, futurePos.z);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return futurePos;\r\n    };\r\n    Camera.prototype.inRenderingRange = function (object) {\r\n        return Vector3.distance(this.pos, object.pos) <= this.zFar * 1.1;\r\n    };\r\n    Camera.prototype.preparePlayer = function () {\r\n        this.ammo = 9;\r\n        this.hp = 100;\r\n    };\r\n    Camera.prototype.onShoot = function () {\r\n        if (this.weapon.needAmmo) {\r\n            this.ammo--;\r\n            if (this.ammo <= 0) {\r\n                this.ammo = 0;\r\n                this.weapon.forceChange = true;\r\n            }\r\n        }\r\n    };\r\n    Camera.prototype.addHP = function (hp) {\r\n        this.hp = Math.min(100, this.hp + hp);\r\n    };\r\n    Camera.prototype.addAMMO = function (ammo) {\r\n        if (this.ammo == 0) {\r\n            this.checkToRetriveWeapon();\r\n        }\r\n        MyAudio.instance.playAudio(AudioNames.PICKUP_AMMO);\r\n        this.ammo = Math.min(99, this.ammo + ammo);\r\n    };\r\n    Camera.prototype.addPOINTS = function (points, enemy) {\r\n        if (enemy === void 0) { enemy = false; }\r\n        this.points = this.points + points;\r\n        if (enemy == false) {\r\n            this.treasuresFound++;\r\n        }\r\n    };\r\n    Camera.prototype.addLIFE = function () {\r\n        this.lives += 1;\r\n    };\r\n    Camera.prototype.addKEY = function (type) {\r\n        if (type == 'SILVER') {\r\n            this.silverKey = true;\r\n        }\r\n        else {\r\n            this.goldKey = true;\r\n        }\r\n    };\r\n    Camera.prototype.extraLife = function () {\r\n        this.hp = 100;\r\n        this.addAMMO(25);\r\n        this.addLIFE();\r\n        this.treasuresFound++;\r\n    };\r\n    Camera.prototype.checkToRetriveWeapon = function () {\r\n        if (this.weapon.weaponID < this.weapon.highestWeaponID) {\r\n            for (var type in weaponTypes) {\r\n                if (this.weapon.highestWeaponID == weaponTypes[type].id) {\r\n                    this.weapon.changeWeapon(weaponTypes[type]);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Camera.prototype.hit = function (enemy) {\r\n        var dist = Vector3.distance(this.pos, enemy.pos);\r\n        var correctlyHit;\r\n        if (dist < config.enemyMissRange) {\r\n            correctlyHit = this.isEnemyCorrectlyHit(100);\r\n        }\r\n        else {\r\n            correctlyHit = this.isEnemyCorrectlyHit(25);\r\n        }\r\n        if (correctlyHit) {\r\n            var dmg = Math.round((0.80 + Math.random() * 0.4) * enemy.DMG);\r\n            this.hp -= dmg;\r\n            this.hitted = true;\r\n            if (this.hp <= 0) {\r\n                this.hp = 0;\r\n                this.dead = true;\r\n                this.killer = enemy;\r\n                MyAudio.instance.playAudio(AudioNames.PLAYER_DEAD);\r\n            }\r\n            else {\r\n                MyAudio.instance.playAudio(AudioNames.PLAYER_HIT);\r\n            }\r\n        }\r\n    };\r\n    Camera.prototype.isEnemyCorrectlyHit = function (chance) {\r\n        var rand = Math.random() * 100;\r\n        if (rand < chance) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    Camera.prototype.smoothLookAt = function (obj, deltaTime) {\r\n        var dirToTarget = obj.pos.clone().sub(this.pos).normalize();\r\n        var angleToTarget = Math.atan2(dirToTarget.z, dirToTarget.x);\r\n        var dir = Vector3.fromAngle(this.rotation.y);\r\n        var angleToLook = Math.atan2(dir.z, dir.x);\r\n        var diff = angleToTarget - angleToLook;\r\n        var move = Math.sign(-diff) * Math.min(Math.abs(diff), this.smoothRotateSpeed * deltaTime);\r\n        this.rotation.rotateY(move);\r\n        var isLook = Math.abs(diff) <= 0.001;\r\n        return isLook;\r\n        // return move <= 0.01 ? true : false\r\n    };\r\n    Camera.prototype.respawn = function (newGame) {\r\n        if (newGame === void 0) { newGame = false; }\r\n        this.refresh();\r\n        this.lives = Math.max(0, this.lives - 1);\r\n        newGame ? this.lives = 3 : null;\r\n    };\r\n    Camera.prototype.refresh = function () {\r\n        this.hitted = false;\r\n        this.hp = 100;\r\n        this.ammo = 9;\r\n        this.points = 0;\r\n        this.killCount = 0;\r\n        this.treasuresFound = 0;\r\n        this.hiddenWalls = 0;\r\n        if (this.weapon) {\r\n            this.weapon.changeWeapon(weaponTypes.PISTOL);\r\n        }\r\n        this.dead = false;\r\n        this.startTime = Date.now();\r\n    };\r\n    return Camera;\r\n}());\r\nexport default Camera;\r\n","var Vector2 = /** @class */ (function () {\r\n    function Vector2(x, z) {\r\n        this.x = x;\r\n        this.z = z;\r\n    }\r\n    Vector2.prototype.clone = function () {\r\n        return new Vector2(this.x, this.z);\r\n    };\r\n    Vector2.prototype.multiplyX = function (val) {\r\n        this.x *= val;\r\n        return this;\r\n    };\r\n    Vector2.prototype.multiplyZ = function (val) {\r\n        this.z *= val;\r\n        return this;\r\n    };\r\n    Vector2.prototype.add = function (v2) {\r\n        this.x += v2.x;\r\n        this.z += v2.z;\r\n        return this;\r\n    };\r\n    return Vector2;\r\n}());\r\nexport default Vector2;\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport MyAudio from \"./MyAudio\";\r\nvar Library = /** @class */ (function () {\r\n    function Library() {\r\n        this.shaders = {\r\n            vertShader: null,\r\n            fragShader: null\r\n        };\r\n        this.graphics = {\r\n            WALL: null,\r\n            ENEMY: null,\r\n            DOG: null,\r\n            WEAPON: null,\r\n            OBJECT: null,\r\n            HUD: null,\r\n            PLAYER: null,\r\n            MAPCREATOR: null,\r\n            MENU: null,\r\n            MENUFONT: null,\r\n            ENDFONT: null\r\n        };\r\n        this.levels = {\r\n            level1: null\r\n        };\r\n        this.data = {\r\n            graphicsData: null,\r\n            graphics2DData: null,\r\n            animationsData: null\r\n        };\r\n        this.audio = new MyAudio();\r\n    }\r\n    Library.prototype.Load = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.LoadShaders()\r\n                .then(function () {\r\n                resolve();\r\n            });\r\n        });\r\n    };\r\n    Library.prototype.LoadShaders = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var vertS, vertF;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0: return [4 /*yield*/, require(\"../shaders/shader.vert\")];\r\n                    case 1:\r\n                        vertS = _b.sent();\r\n                        return [4 /*yield*/, require(\"../shaders/shader.frag\")];\r\n                    case 2:\r\n                        vertF = _b.sent();\r\n                        this.shaders.vertShader = vertS;\r\n                        this.shaders.fragShader = vertF;\r\n                        return [4 /*yield*/, this.LoadGraphics()];\r\n                    case 3:\r\n                        _b.sent();\r\n                        return [4 /*yield*/, this.LoadData()];\r\n                    case 4:\r\n                        _b.sent();\r\n                        return [4 /*yield*/, this.LoadLevels()];\r\n                    case 5:\r\n                        _b.sent();\r\n                        return [4 /*yield*/, MyAudio.instance.LoadAudios()];\r\n                    case 6:\r\n                        _b.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Library.prototype.LoadGraphics = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var renderTab, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, i, img;\r\n            var _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9;\r\n            return __generator(this, function (_10) {\r\n                switch (_10.label) {\r\n                    case 0:\r\n                        renderTab = [];\r\n                        _c = (_b = renderTab).push;\r\n                        _z = { name: \"WALL\" };\r\n                        return [4 /*yield*/, require(\"../assets/wallsMain.png\").default];\r\n                    case 1:\r\n                        _c.apply(_b, [(_z.src = _10.sent(), _z)]);\r\n                        _e = (_d = renderTab).push;\r\n                        _0 = { name: \"ENEMY\" };\r\n                        return [4 /*yield*/, require(\"../assets/enemy.png\").default];\r\n                    case 2:\r\n                        _e.apply(_d, [(_0.src = _10.sent(), _0)]);\r\n                        _g = (_f = renderTab).push;\r\n                        _1 = { name: \"DOG\" };\r\n                        return [4 /*yield*/, require(\"../assets/dog.png\").default];\r\n                    case 3:\r\n                        _g.apply(_f, [(_1.src = _10.sent(), _1)]);\r\n                        _j = (_h = renderTab).push;\r\n                        _2 = { name: \"WEAPON\" };\r\n                        return [4 /*yield*/, require(\"../assets/weapons.png\").default];\r\n                    case 4:\r\n                        _j.apply(_h, [(_2.src = _10.sent(), _2)]);\r\n                        _l = (_k = renderTab).push;\r\n                        _3 = { name: \"OBJECT\" };\r\n                        return [4 /*yield*/, require(\"../assets/objects.png\").default];\r\n                    case 5:\r\n                        _l.apply(_k, [(_3.src = _10.sent(), _3)]);\r\n                        _o = (_m = renderTab).push;\r\n                        _4 = { name: \"HUD\" };\r\n                        return [4 /*yield*/, require(\"../assets/hud.png\").default];\r\n                    case 6:\r\n                        _o.apply(_m, [(_4.src = _10.sent(), _4)]);\r\n                        _q = (_p = renderTab).push;\r\n                        _5 = { name: \"PLAYER\" };\r\n                        return [4 /*yield*/, require(\"../assets/player.png\").default];\r\n                    case 7:\r\n                        _q.apply(_p, [(_5.src = _10.sent(), _5)]);\r\n                        _s = (_r = renderTab).push;\r\n                        _6 = { name: \"MAPCREATOR\" };\r\n                        return [4 /*yield*/, require(\"../assets/mapCreator.png\").default];\r\n                    case 8:\r\n                        _s.apply(_r, [(_6.src = _10.sent(), _6)]);\r\n                        _u = (_t = renderTab).push;\r\n                        _7 = { name: \"MENU\" };\r\n                        return [4 /*yield*/, require(\"../assets/menu.png\").default];\r\n                    case 9:\r\n                        _u.apply(_t, [(_7.src = _10.sent(), _7)]);\r\n                        _w = (_v = renderTab).push;\r\n                        _8 = { name: \"MENUFONT\" };\r\n                        return [4 /*yield*/, require(\"../assets/menuFont.png\").default];\r\n                    case 10:\r\n                        _w.apply(_v, [(_8.src = _10.sent(), _8)]);\r\n                        _y = (_x = renderTab).push;\r\n                        _9 = { name: \"ENDFONT\" };\r\n                        return [4 /*yield*/, require(\"../assets/endFont.png\").default];\r\n                    case 11:\r\n                        _y.apply(_x, [(_9.src = _10.sent(), _9)]);\r\n                        i = 0;\r\n                        _10.label = 12;\r\n                    case 12:\r\n                        if (!(i < renderTab.length)) return [3 /*break*/, 15];\r\n                        img = new Image();\r\n                        img.src = renderTab[i].src;\r\n                        return [4 /*yield*/, img.decode()];\r\n                    case 13:\r\n                        _10.sent();\r\n                        this.graphics[renderTab[i].name] = img;\r\n                        _10.label = 14;\r\n                    case 14:\r\n                        i++;\r\n                        return [3 /*break*/, 12];\r\n                    case 15: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Library.prototype.LoadData = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var textureData, texture2DData, animationsData;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0: return [4 /*yield*/, require(\"../textureData.json\")];\r\n                    case 1:\r\n                        textureData = _b.sent();\r\n                        return [4 /*yield*/, require(\"../texture2DData.json\")];\r\n                    case 2:\r\n                        texture2DData = _b.sent();\r\n                        return [4 /*yield*/, require(\"../animationsData.json\")];\r\n                    case 3:\r\n                        animationsData = _b.sent();\r\n                        this.data.graphicsData = textureData;\r\n                        this.data.graphics2DData = texture2DData;\r\n                        this.data.animationsData = animationsData;\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Library.prototype.LoadLevels = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var level1;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0: return [4 /*yield*/, require('../levels/Level1.json')];\r\n                    case 1:\r\n                        level1 = _b.sent();\r\n                        // let level1 = await require('../defaultMap.json');\r\n                        this.levels.level1 = level1;\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    var _a;\r\n    _a = Library;\r\n    Library.instance = new _a;\r\n    return Library;\r\n}());\r\nexport default Library;\r\n","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport Vector2 from \"../Vector2\";\r\nimport Library from \"../../Library\";\r\nvar Object3D = /** @class */ (function () {\r\n    function Object3D() {\r\n    }\r\n    Object3D.prototype.textureSet = function (type, name, wall, shadow) {\r\n        if (shadow === void 0) { shadow = false; }\r\n        var texData = this.getTextureData(type);\r\n        if (texData != null) {\r\n            if (wall == undefined) {\r\n                this.textureName = name;\r\n                var newPos = this.CalculateNewTexture(this.startTextureCoords, texData.sizeX, texData.sizeY, texData.pos[name].x, texData.pos[name].y, true);\r\n                this.tempTextureCoords = Array.from(newPos);\r\n            }\r\n            else {\r\n                var tab = this.startTextureCoords.filter(function (e, i) { return i >= wall * 12 && i < (wall + 1) * 12; });\r\n                var newPos = this.CalculateNewTexture(tab, texData.sizeX, texData.sizeY, texData.pos[name].x + (wall == 3 || wall == 4 ? 1 : 0), texData.pos[name].y, false, shadow);\r\n                var newPosTab = __spreadArray(__spreadArray(__spreadArray([], this.tempTextureCoords.filter(function (e, i) { return i < wall * 12; }), true), newPos, true), this.tempTextureCoords.filter(function (e, i) { return i >= (wall + 1) * 12; }), true);\r\n                this.tempTextureCoords = Array.from(newPosTab);\r\n            }\r\n        }\r\n        this.applyTexture();\r\n    };\r\n    Object3D.prototype.CalculateNewTexture = function (array, width, height, x, y, checkShadow, forceShadow) {\r\n        if (checkShadow === void 0) { checkShadow = false; }\r\n        if (forceShadow === void 0) { forceShadow = false; }\r\n        var tab = [];\r\n        for (var i = 0; i < array.length; i += 2) {\r\n            var v2 = new Vector2(array[i], array[i + 1]);\r\n            v2.multiplyX(1 / width);\r\n            v2.multiplyZ(1 / height);\r\n            var tX = forceShadow == true ? 1 / width * (x + 1) : checkShadow == false ? 1 / width * x : i >= 3 * 12 && i < 5 * 12 ? 1 / width * (x + 1) : 1 / width * x;\r\n            var tY = 1 / height * y;\r\n            v2.add(new Vector2(tX, tY));\r\n            tab.push.apply(tab, [this.RoundTo(1 / width, v2.x), this.RoundTo(1 / height, v2.z)]);\r\n        }\r\n        return tab;\r\n    };\r\n    Object3D.prototype.RoundTo = function (by, value) {\r\n        return value - (value % by);\r\n    };\r\n    Object3D.prototype.getTextureData = function (type) {\r\n        if (Library.instance.data.graphicsData) {\r\n            if (type == \"WALL\") {\r\n                return Library.instance.data.graphicsData.WALL;\r\n            }\r\n            else if (type == \"ENEMY\") {\r\n                return Library.instance.data.graphicsData.ENEMY;\r\n            }\r\n            else if (type == \"DOG\") {\r\n                return Library.instance.data.graphicsData.DOG;\r\n            }\r\n            else if (type == \"ENEMY\") {\r\n                return Library.instance.data.graphicsData.ENEMY;\r\n            }\r\n            else if (type == \"WEAPON\") {\r\n                return Library.instance.data.graphicsData.WEAPON;\r\n            }\r\n            else if (type == \"OBJECT\") {\r\n                return Library.instance.data.graphicsData.OBJECT;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    Object3D.prototype.applyTexture = function () {\r\n        this.textureArray = new Float32Array(this.tempTextureCoords);\r\n    };\r\n    Object3D.prototype.lookAtCamera = function (target) {\r\n        this.rotation.y = target.rotation.y;\r\n    };\r\n    Object3D.prototype.angleToTarget = function (pos) {\r\n        var targetPos = pos.clone().sub(this.pos);\r\n        var angleToTarget = Math.atan2(targetPos.z, targetPos.x);\r\n        var diff = angleToTarget - Math.PI / 2;\r\n        return diff;\r\n    };\r\n    return Object3D;\r\n}());\r\nexport default Object3D;\r\n","var Vector4 = /** @class */ (function () {\r\n    function Vector4(x, y, z, w) {\r\n        if (w === void 0) { w = 1; }\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        this.w = w;\r\n        this.tab = [x, y, z, w];\r\n    }\r\n    Vector4.vectorMultiply = function (v, m) {\r\n        var dst = [];\r\n        for (var i = 0; i < 4; ++i) {\r\n            dst[i] = 0.0;\r\n            for (var j = 0; j < 4; ++j) {\r\n                dst[i] += v.tab[j] * m.matrix[j * 4 + i];\r\n            }\r\n        }\r\n        return new Vector4(dst[0], dst[1], dst[2], dst[3]);\r\n    };\r\n    Vector4.prototype.updateTab = function () {\r\n        this.tab = [this.x, this.y, this.z, this.w];\r\n    };\r\n    return Vector4;\r\n}());\r\nexport default Vector4;\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport Matrix4 from '../Matrix4';\r\nimport Object3D from './Object3D';\r\nimport Vector3 from '../Vector3';\r\nimport Vector4 from '../Vector4';\r\nimport { AudioNames, config } from '../../Config';\r\nimport MyAudio from '../../MyAudio';\r\nvar Door = /** @class */ (function (_super) {\r\n    __extends(Door, _super);\r\n    function Door(x, y, z, width, deep, rotated) {\r\n        var _this = _super.call(this) || this;\r\n        _this.pos = new Vector3(x, y, z);\r\n        _this.scale = new Vector3(1, 1, 1);\r\n        _this.rotation = new Vector3(0, 0, 0);\r\n        _this.width = width;\r\n        _this.deep = deep;\r\n        _this.rotated = rotated;\r\n        _this.texture = 'WALL';\r\n        _this.textureName = '';\r\n        _this.open = false;\r\n        _this.moveSpeed = 1 * config.wallSize;\r\n        _this.futurePos = new Vector3(x, y, z);\r\n        _this.startPos = new Vector3(x, y, z);\r\n        _this.autoClose = undefined;\r\n        _this.posArray = new Float32Array();\r\n        _this.startTextureCoords = [];\r\n        _this.tempTextureCoords = [];\r\n        _this.textureArray = new Float32Array();\r\n        _this.wallTypes = {\r\n            \"FRONT\": 0,\r\n            \"TOP\": 1,\r\n            \"BOTTOM\": 2,\r\n            \"LEFT\": 3,\r\n            \"RIGHT\": 4,\r\n            \"BACK\": 5,\r\n        };\r\n        _this.count = 6 * 6;\r\n        _this.calcPos();\r\n        _this.calcTexture();\r\n        return _this;\r\n    }\r\n    Door.prototype.calcPos = function () {\r\n        var midDeepFront = (this.width / 2) - (this.deep / 2);\r\n        var midDeepBack = (this.width / 2) + (this.deep / 2);\r\n        this.posArray = new Float32Array([\r\n            //front\r\n            0, 0, midDeepFront,\r\n            0, this.width, midDeepFront,\r\n            this.width, 0, midDeepFront,\r\n            0, this.width, midDeepFront,\r\n            this.width, this.width, midDeepFront,\r\n            this.width, 0, midDeepFront,\r\n            //top\r\n            0, 0, midDeepFront,\r\n            this.width, 0, midDeepFront,\r\n            0, 0, midDeepBack,\r\n            this.width, 0, midDeepFront,\r\n            this.width, 0, midDeepBack,\r\n            0, 0, midDeepBack,\r\n            //bottom\r\n            0, this.width, midDeepFront,\r\n            0, this.width, midDeepBack,\r\n            this.width, this.width, midDeepFront,\r\n            0, this.width, midDeepBack,\r\n            this.width, this.width, midDeepBack,\r\n            this.width, this.width, midDeepFront,\r\n            //left\r\n            0, 0, midDeepBack,\r\n            0, this.width, midDeepBack,\r\n            0, 0, midDeepFront,\r\n            0, this.width, midDeepBack,\r\n            0, this.width, midDeepFront,\r\n            0, 0, midDeepFront,\r\n            //right\r\n            this.width, 0, midDeepFront,\r\n            this.width, this.width, midDeepFront,\r\n            this.width, 0, midDeepBack,\r\n            this.width, this.width, midDeepFront,\r\n            this.width, this.width, midDeepBack,\r\n            this.width, 0, midDeepBack,\r\n            //back\r\n            0, 0, midDeepBack,\r\n            this.width, 0, midDeepBack,\r\n            0, this.width, midDeepBack,\r\n            0, this.width, midDeepBack,\r\n            this.width, 0, midDeepBack,\r\n            this.width, this.width, midDeepBack,\r\n        ]);\r\n        var matrix = new Matrix4().xRotate(Math.PI);\r\n        matrix.translate(-(this.width / 2), -(this.width / 2), -(this.width / 2));\r\n        for (var i = 0; i < this.posArray.length; i += 3) {\r\n            var vec = Vector4.vectorMultiply(new Vector4(this.posArray[i + 0], this.posArray[i + 1], this.posArray[i + 2]), matrix);\r\n            this.posArray[i + 0] = vec.x;\r\n            this.posArray[i + 1] = vec.y;\r\n            this.posArray[i + 2] = vec.z;\r\n        }\r\n        if (this.rotated) {\r\n            var width = this.width;\r\n            this.width = this.deep;\r\n            this.deep = width;\r\n        }\r\n    };\r\n    Door.prototype.calcTexture = function () {\r\n        var tab = [];\r\n        new Array(5).fill(null).map(function (e) { return tab.push.apply(tab, [\r\n            0, 0,\r\n            0, 1,\r\n            1, 0,\r\n            0, 1,\r\n            1, 1,\r\n            1, 0\r\n        ]); });\r\n        tab.push.apply(tab, [\r\n            0, 0,\r\n            1, 0,\r\n            0, 1,\r\n            0, 1,\r\n            1, 0,\r\n            1, 1,\r\n        ]);\r\n        this.startTextureCoords = Array.from(tab);\r\n        this.tempTextureCoords = Array.from(tab);\r\n    };\r\n    Door.prototype.forceOpen = function () {\r\n        var _this = this;\r\n        if (this.autoClose != undefined) {\r\n            clearTimeout(this.autoClose);\r\n            this.autoClose = undefined;\r\n        }\r\n        this.open = true;\r\n        this.futurePos.set(new Vector3(this.startPos.x + (this.rotated ? 0 : config.wallSize + 5), this.startPos.y, this.startPos.z + (this.rotated ? config.wallSize + 5 : 0)));\r\n        this.autoClose = setTimeout(function () {\r\n            _this.move();\r\n        }, config.doorsAutoCloseTime);\r\n    };\r\n    Door.prototype.move = function (camera) {\r\n        var _this = this;\r\n        if (this.autoClose != undefined) {\r\n            clearTimeout(this.autoClose);\r\n            this.autoClose = undefined;\r\n        }\r\n        this.open = !this.open;\r\n        if (this.open) {\r\n            this.futurePos.set(new Vector3(this.startPos.x + (this.rotated ? 0 : config.wallSize + 5), this.startPos.y, this.startPos.z + (this.rotated ? config.wallSize + 5 : 0)));\r\n            this.autoClose = setTimeout(function () {\r\n                _this.move(camera);\r\n            }, config.doorsAutoCloseTime);\r\n        }\r\n        else {\r\n            this.scale.set(new Vector3(1, 1, 1));\r\n            this.futurePos.set(this.startPos);\r\n        }\r\n        if (camera && Vector3.distance(camera.pos, this.pos) < 500) {\r\n            if (this.open) {\r\n                MyAudio.instance.playAudio(AudioNames.DOORS_OPEN);\r\n            }\r\n            else {\r\n                MyAudio.instance.playAudio(AudioNames.DOORS_CLOSE);\r\n            }\r\n        }\r\n    };\r\n    Door.prototype.update = function (deltaTime) {\r\n        if (this.pos.x != this.futurePos.x) {\r\n            if (Math.abs(this.futurePos.x - this.pos.x) < deltaTime * this.moveSpeed && this.open == true) {\r\n                this.scale.x = 0.5;\r\n            }\r\n            this.pos.x += Math.sign(this.futurePos.x - this.pos.x) * Math.min(deltaTime * this.moveSpeed, Math.abs(this.futurePos.x - this.pos.x));\r\n        }\r\n        if (this.pos.z != this.futurePos.z) {\r\n            if (Math.abs(this.futurePos.z - this.pos.z) < deltaTime * this.moveSpeed && this.open == true) {\r\n                this.scale.z = 0.5;\r\n            }\r\n            this.pos.z += Math.sign(this.futurePos.z - this.pos.z) * Math.min(deltaTime * this.moveSpeed, Math.abs(this.futurePos.z - this.pos.z));\r\n        }\r\n    };\r\n    return Door;\r\n}(Object3D));\r\nexport default Door;\r\n","import { config } from \"../Config\";\r\nimport BoxLine from \"./boxHelper/BoxLine\";\r\nimport BoxPoint from \"./boxHelper/BoxPoint\";\r\nimport Matrix4 from \"./Matrix4\";\r\nimport Vector3 from \"./Vector3\";\r\nvar Raycaster = /** @class */ (function () {\r\n    function Raycaster(camera) {\r\n        this.camera = camera;\r\n        this.gridSize = config.wallSize;\r\n        this.slowLogOffset = 100;\r\n        this.lastSlowLog = Date.now();\r\n    }\r\n    Raycaster.prototype.create = function (S, length, collideObjects, target) {\r\n        if (target === void 0) { target = null; }\r\n        var E;\r\n        var dir;\r\n        var rayLine;\r\n        if (target == null) {\r\n            var matRot = new Matrix4().yRotate(this.camera.rotation.y);\r\n            dir = Vector3.backward().clone().normalize().transformMat4(matRot).normalize();\r\n            var forwardPos = S.clone().add(dir.clone().multiply(1));\r\n            E = S.clone().add(dir.clone().multiply(length));\r\n            rayLine = new BoxLine(new BoxPoint(S.x, S.z), new BoxPoint(forwardPos.x, forwardPos.z));\r\n        }\r\n        else {\r\n            dir = target.clone().sub(S).normalize();\r\n            E = target.clone();\r\n            rayLine = new BoxLine(new BoxPoint(S.x, S.z), new BoxPoint(E.x, E.z));\r\n        }\r\n        var startPosPoint = new BoxPoint(S.x, S.z);\r\n        var currBlockPos = this.toBlockPosition(startPosPoint);\r\n        var currBlock = collideObjects.find(function (e) { return e.pos.x == currBlockPos.x && e.pos.z == currBlockPos.z; });\r\n        var targetBlockPos = this.toBlockPosition(new BoxPoint(E.x, E.z));\r\n        var collideFound = false;\r\n        while ((currBlockPos.x != targetBlockPos.x || currBlockPos.z != targetBlockPos.z) && collideFound == false) {\r\n            var newX = dir.x > 0 ? currBlockPos.x + config.wallSize / 2 : currBlockPos.x - config.wallSize / 2;\r\n            var newZ = dir.z > 0 ? currBlockPos.z + config.wallSize / 2 : currBlockPos.z - config.wallSize / 2;\r\n            var pointCrossZ = rayLine.calcPoint('x', newX);\r\n            var pointCrossX = rayLine.calcPoint('z', newZ);\r\n            var distToX = pointCrossX != null ? startPosPoint.distancePointToPoint(pointCrossX) : Infinity;\r\n            var distToZ = pointCrossZ != null ? startPosPoint.distancePointToPoint(pointCrossZ) : Infinity;\r\n            if (distToX < distToZ) {\r\n                var newS = new Vector3(pointCrossX.x, 0, pointCrossX.z).add(dir.clone().multiply(0.1));\r\n                startPosPoint = new BoxPoint(newS.x, newS.z);\r\n            }\r\n            else {\r\n                var newS = new Vector3(pointCrossZ.x, 0, pointCrossZ.z).add(dir.clone().multiply(0.1));\r\n                startPosPoint = new BoxPoint(newS.x, newS.z);\r\n            }\r\n            currBlockPos = this.toBlockPosition(startPosPoint);\r\n            // currBlock = collideObjects.find(e => e.pos.isEval(new Vector3(currBlockPos.x, 0, currBlockPos.z)) || (e instanceof Door && e.startPos.isEval(new Vector3(currBlockPos.x, 0, currBlockPos.z))));\r\n            currBlock = collideObjects.find(function (e) { return e.pos.x == currBlockPos.x && e.pos.z == currBlockPos.z; });\r\n            if (currBlock != undefined) {\r\n                collideFound = true;\r\n            }\r\n        }\r\n        var dist = collideFound ? new BoxPoint(S.x, S.z).distancePointToPoint(startPosPoint) : new BoxPoint(S.x, S.z).distancePointToPoint(new BoxPoint(E.x, E.z));\r\n        return { dist: dist, collide: collideFound };\r\n    };\r\n    Raycaster.prototype.toBlockPosition = function (p) {\r\n        var newX = Math.sign(p.x) * ((Math.abs(p.x) + this.gridSize / 2) - ((Math.abs(p.x) + this.gridSize / 2) % this.gridSize));\r\n        var newY = Math.sign(p.z) * ((Math.abs(p.z) + this.gridSize / 2) - ((Math.abs(p.z) + this.gridSize / 2) % this.gridSize));\r\n        return new BoxPoint(newX, newY);\r\n    };\r\n    return Raycaster;\r\n}());\r\nexport default Raycaster;\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport Matrix4 from '../Matrix4';\r\nimport Object3D from './Object3D';\r\nimport Vector3 from '../Vector3';\r\nimport Vector4 from '../Vector4';\r\nimport { animNames, AudioNames, config, enemyActionTypes, enemyAngleStatus } from '../../Config';\r\nimport Raycaster from '../Raycaster';\r\nimport MyAudio from '../../MyAudio';\r\nvar Enemy = /** @class */ (function (_super) {\r\n    __extends(Enemy, _super);\r\n    function Enemy(lvlCreator, pathFinder, animManager, x, y, z, width, action, enemyData) {\r\n        var _this = _super.call(this) || this;\r\n        _this.pos = new Vector3(x, y, z);\r\n        _this.rotation = new Vector3(0, 0, 0);\r\n        _this.scale = new Vector3(1, 1, 1);\r\n        _this.width = width;\r\n        _this.deep = 0;\r\n        _this.texture = enemyData.texture;\r\n        _this.name = enemyData.name;\r\n        // this.texture = 'ENEMY';\r\n        _this.textureName = '';\r\n        _this.count = 6 * 2;\r\n        _this.spotted = false;\r\n        _this.moveSpeed = enemyData.moveSpeed * config.wallSize;\r\n        _this.startPos = new Vector3(x, y, z);\r\n        _this.patrolTarget = undefined;\r\n        _this.targetPos = new Vector3(x, y, z);\r\n        _this.lastTarget = new Vector3(x, y, z);\r\n        _this.path = [];\r\n        _this.pathIndex = 0;\r\n        _this.action = action;\r\n        _this.angleStatus = enemyAngleStatus.FRONT;\r\n        _this.lastShoot = 0;\r\n        _this.DMG = enemyData.dmg;\r\n        _this.attackRange = enemyData.attackRange * config.wallSize;\r\n        _this.dropAmmo = enemyData.dropAmmo;\r\n        _this.lvlCreator = lvlCreator;\r\n        _this.pathFinder = pathFinder;\r\n        _this.animManager = animManager;\r\n        _this.hp = enemyData.hp;\r\n        _this.dead = false;\r\n        _this.posArray = new Float32Array();\r\n        _this.startTextureCoords = [];\r\n        _this.tempTextureCoords = [];\r\n        _this.textureArray = new Float32Array();\r\n        _this.calsPos();\r\n        _this.calcTexture();\r\n        return _this;\r\n    }\r\n    Enemy.prototype.calsPos = function () {\r\n        this.posArray = new Float32Array([\r\n            0,\r\n            0,\r\n            this.width / 2,\r\n            0,\r\n            this.width,\r\n            this.width / 2,\r\n            this.width,\r\n            0,\r\n            this.width / 2,\r\n            0,\r\n            this.width,\r\n            this.width / 2,\r\n            this.width,\r\n            this.width,\r\n            this.width / 2,\r\n            this.width,\r\n            0,\r\n            this.width / 2,\r\n            0,\r\n            0,\r\n            this.width / 2,\r\n            this.width,\r\n            0,\r\n            this.width / 2,\r\n            0,\r\n            this.width,\r\n            this.width / 2,\r\n            0,\r\n            this.width,\r\n            this.width / 2,\r\n            this.width,\r\n            0,\r\n            this.width / 2,\r\n            this.width,\r\n            this.width,\r\n            this.width / 2,\r\n        ]);\r\n        var matrix = new Matrix4().xRotate(Math.PI);\r\n        matrix.translate(-(this.width / 2), -(this.width / 2), -(this.width / 2));\r\n        for (var i = 0; i < this.posArray.length; i += 3) {\r\n            var vec = Vector4.vectorMultiply(new Vector4(this.posArray[i + 0], this.posArray[i + 1], this.posArray[i + 2]), matrix);\r\n            this.posArray[i + 0] = vec.x;\r\n            this.posArray[i + 1] = vec.y;\r\n            this.posArray[i + 2] = vec.z;\r\n        }\r\n    };\r\n    Enemy.prototype.calcTexture = function () {\r\n        var tab = [];\r\n        tab.push.apply(tab, [\r\n            0, 0,\r\n            0, 1,\r\n            1, 0,\r\n            0, 1,\r\n            1, 1,\r\n            1, 0\r\n        ]);\r\n        tab.push.apply(tab, [\r\n            0, 0,\r\n            1, 0,\r\n            0, 1,\r\n            1, 1,\r\n            1, 0,\r\n            1, 1,\r\n        ]);\r\n        this.startTextureCoords = Array.from(tab);\r\n        this.tempTextureCoords = Array.from(tab);\r\n    };\r\n    Enemy.prototype.update = function (deltaTime, camera) {\r\n        if (this.dead == false) {\r\n            if (this.action == enemyActionTypes.RUN || this.action == enemyActionTypes.STAND) {\r\n                this.moveManager(deltaTime, camera);\r\n                var ang = this.checkViewAngleToTarget(camera);\r\n                this.toAngleStatus(ang);\r\n            }\r\n            if (this.spotted == true) {\r\n                this.checkShoot(camera) == false && this.checkDistancedShoot(camera) ? this.shootManage(camera) : null;\r\n            }\r\n            this.checkSpot(camera);\r\n        }\r\n    };\r\n    Enemy.prototype.checkDistancedShoot = function (camera) {\r\n        if ((Vector3.distance(camera.pos, this.pos) <= this.attackRange && this.name == \"DOG\") || this.name == \"GUARD\") {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    Enemy.prototype.setDMG = function (numb) {\r\n        this.DMG = numb;\r\n    };\r\n    Enemy.prototype.moveManager = function (deltaTime, camera) {\r\n        if (this.spotted) {\r\n            this.goToPlayer(camera);\r\n            if (this.pos.isEval(this.targetPos) == false) {\r\n                if (Vector3.distance(this.pos, camera.pos) > this.attackRange || this.checkShoot(camera) == true) {\r\n                    this.changeAction(enemyActionTypes.RUN);\r\n                    this.enemyLookAt(this.targetPos);\r\n                    this.move(deltaTime);\r\n                }\r\n                else {\r\n                    this.changeAction(enemyActionTypes.STAND);\r\n                    this.enemyLookAt(camera.pos);\r\n                }\r\n            }\r\n            else {\r\n                this.nextPathTarget();\r\n            }\r\n        }\r\n        else if (this.patrolTarget) {\r\n            // this.patrolArea();\r\n            if (this.pos.isEval(this.targetPos) == false) {\r\n                this.enemyLookAt(this.targetPos);\r\n                this.move(deltaTime, true);\r\n            }\r\n            else {\r\n                this.nextPathTarget(true);\r\n            }\r\n        }\r\n    };\r\n    Enemy.prototype.changeAction = function (actionName, camera) {\r\n        var _this = this;\r\n        this.action = actionName;\r\n        switch (actionName) {\r\n            case enemyActionTypes.HIT: {\r\n                this.animManager.change(this, animNames.ENEMY_HIT, function (aD) { if (aD.animation.index == 0 && aD.animation.fullPlayed) {\r\n                    _this.changeAction(enemyActionTypes.RUN);\r\n                    return false;\r\n                } return true; });\r\n                break;\r\n            }\r\n            case enemyActionTypes.DEAD: {\r\n                this.animManager.change(this, animNames.ENEMY_DEAD, function (animD) { if (animD.animation.index == 0 && animD.animation.fullPlayed) {\r\n                    _this.animManager.remove(_this);\r\n                    return false;\r\n                } return true; });\r\n                break;\r\n            }\r\n            case enemyActionTypes.RUN: {\r\n                this.animManager.change(this, animNames.ENEMY_RUN);\r\n                break;\r\n            }\r\n            case enemyActionTypes.STAND: {\r\n                this.animManager.change(this, animNames.ENEMY_STAND);\r\n                break;\r\n            }\r\n            case enemyActionTypes.SHOOT: {\r\n                this.animManager.change(this, animNames.ENEMY_SHOOT, function (animD) {\r\n                    // let lastAction = this.action;\r\n                    if (animD.animation.index == 0 && animD.animation.fullPlayed) {\r\n                        _this.changeAction(enemyActionTypes.STAND);\r\n                        return false;\r\n                    }\r\n                    else if (animD.animation.index == 2) {\r\n                        _this.shootPlayer(camera);\r\n                    }\r\n                    return true;\r\n                });\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    Enemy.prototype.shootManage = function (camera) {\r\n        // if (Date.now() > this.lastShoot + config.enemyReloadTime && rayData.collide == false && this.action != enemyActionTypes.HIT) {\r\n        if (Date.now() > this.lastShoot + config.enemyReloadTime && this.action != enemyActionTypes.HIT) {\r\n            this.changeAction(enemyActionTypes.SHOOT, camera);\r\n        }\r\n    };\r\n    Enemy.prototype.checkShoot = function (camera) {\r\n        var blocks = __spreadArray(__spreadArray([], this.lvlCreator.objects.walls, true), this.lvlCreator.objects.doors, true);\r\n        var raycaster = new Raycaster(camera);\r\n        var rayData = raycaster.create(this.pos, 1, blocks, camera.pos);\r\n        return rayData.collide;\r\n    };\r\n    Enemy.prototype.shootPlayer = function (camera) {\r\n        this.lastShoot = Date.now() + config.enemyReloadTime;\r\n        MyAudio.instance.playAudio(this.name == 'GUARD' ? AudioNames.GUARD_ATTACK : AudioNames.DOG_ATTACK);\r\n        camera.hit(this);\r\n    };\r\n    Enemy.prototype.nextPathTarget = function (patrol) {\r\n        if (patrol === void 0) { patrol = false; }\r\n        if (this.pathIndex + 1 < this.path.length) {\r\n            this.pathIndex++;\r\n            this.targetPos = this.path[this.pathIndex];\r\n            this.checkToDoorsOpen();\r\n            this.enemyLookAt(this.targetPos);\r\n        }\r\n        else if (patrol == true) {\r\n            this.patrolArea();\r\n        }\r\n    };\r\n    Enemy.prototype.checkToDoorsOpen = function () {\r\n        var _this = this;\r\n        this.lvlCreator.objects.doors.forEach(function (e) {\r\n            if (e.startPos.isEval(_this.targetPos)) {\r\n                e.forceOpen();\r\n            }\r\n        });\r\n    };\r\n    Enemy.prototype.move = function (deltaTime, slow) {\r\n        if (slow === void 0) { slow = false; }\r\n        this.pos.x += Math.sign(this.targetPos.x - this.pos.x) * Math.min(deltaTime * (this.moveSpeed / (slow ? 2 : 1)), Math.abs(this.targetPos.x - this.pos.x));\r\n        this.pos.z += Math.sign(this.targetPos.z - this.pos.z) * Math.min(deltaTime * (this.moveSpeed / (slow ? 2 : 1)), Math.abs(this.targetPos.z - this.pos.z));\r\n    };\r\n    Enemy.prototype.checkSpot = function (camera) {\r\n        if (this.spotted == false) {\r\n            var angleString = this.angleStatusToString();\r\n            var spotRange = config.enemyFrontSpotRange;\r\n            if (angleString) {\r\n                if (angleString.indexOf(\"FRONT\") == -1) {\r\n                    spotRange = config.enemyBackSpotRange;\r\n                }\r\n                var blocks = __spreadArray(__spreadArray([], this.lvlCreator.objects.walls, true), this.lvlCreator.objects.doors, true);\r\n                var raycaster = new Raycaster(camera);\r\n                var rayData = raycaster.create(this.pos, spotRange, blocks, camera.pos);\r\n                if (rayData.collide == false && rayData.dist < spotRange) {\r\n                    this.detectPlayer(camera);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Enemy.prototype.angleStatusToString = function () {\r\n        var _this = this;\r\n        var angle = undefined;\r\n        Object.keys(enemyAngleStatus).forEach(function (e) {\r\n            if (enemyAngleStatus[e] == _this.angleStatus) {\r\n                angle = e;\r\n            }\r\n        });\r\n        return angle;\r\n    };\r\n    Enemy.prototype.checkViewAngleToTarget = function (obj) {\r\n        var lookDir = Vector3.fromAngle(this.rotation.y);\r\n        var targetPos = obj.pos.clone().sub(this.pos);\r\n        var angleToLook = Math.atan2(lookDir.z, lookDir.x);\r\n        var angleToTarget = Math.atan2(targetPos.z, targetPos.x);\r\n        var diff = angleToLook - angleToTarget;\r\n        if (diff > Math.PI)\r\n            diff -= 2 * Math.PI;\r\n        if (diff < -Math.PI)\r\n            diff += 2 * Math.PI;\r\n        return diff + Math.PI;\r\n    };\r\n    Enemy.prototype.toAngleStatus = function (angle) {\r\n        angle = angle * 180 / Math.PI;\r\n        if (angle >= 157.5 && angle <= 202.5)\r\n            this.changeAngle(enemyAngleStatus.FRONT);\r\n        else if (angle >= 202.5 && angle <= 247.5)\r\n            this.changeAngle(enemyAngleStatus.FRONT_LEFT);\r\n        else if (angle >= 247.5 && angle <= 292.5)\r\n            this.changeAngle(enemyAngleStatus.LEFT);\r\n        else if (angle >= 292.5 && angle <= 337.5)\r\n            this.changeAngle(enemyAngleStatus.BACK_LEFT);\r\n        else if (angle <= 22.5 || angle >= 337.5)\r\n            this.changeAngle(enemyAngleStatus.BACK);\r\n        else if (angle >= 22.5 && angle <= 67.5)\r\n            this.changeAngle(enemyAngleStatus.BACK_RIGHT);\r\n        else if (angle >= 67.5 && angle <= 112.5)\r\n            this.changeAngle(enemyAngleStatus.RIGHT);\r\n        else if (angle >= 112.5 && angle <= 157.5)\r\n            this.changeAngle(enemyAngleStatus.FRONT_RIGHT);\r\n    };\r\n    Enemy.prototype.changeAngle = function (angleStatus) {\r\n        if (this.angleStatus != angleStatus) {\r\n            this.angleStatus = angleStatus;\r\n            this.animManager.changeEnemyAnimationTextures(this);\r\n        }\r\n    };\r\n    Enemy.prototype.detectPlayer = function (camera) {\r\n        if (this.spotted == false) {\r\n            MyAudio.instance.playAudio(this.name == 'GUARD' ? AudioNames.GUARD_DETECT : AudioNames.DOG_DETECT);\r\n            this.spotted = true;\r\n            this.goToPlayer(camera);\r\n            this.changeAction(enemyActionTypes.RUN);\r\n            this.lastShoot = Date.now() + (config.enemyReloadTime / 2);\r\n        }\r\n        // this.animManager.change(this, animNames.ENEMY_RUN);\r\n    };\r\n    Enemy.prototype.goToPlayer = function (camera) {\r\n        if (this.pathFinder.toAdvancePathPosition(camera.pos).isEval(this.lastTarget) == false) {\r\n            this.lastTarget = this.pathFinder.toAdvancePathPosition(camera.pos);\r\n            var tab = this.pathFinder.findPath(this.pos, camera.pos);\r\n            var path = this.pathToPos(tab);\r\n            if (path.length > 0) {\r\n                this.path = Array.from(path);\r\n                this.targetPos = this.path[0];\r\n                this.pathIndex = 0;\r\n                this.checkToDoorsOpen();\r\n                this.enemyLookAt(this.targetPos);\r\n            }\r\n        }\r\n    };\r\n    Enemy.prototype.enemyLookAt = function (vec) {\r\n        this.rotation.y = -this.angleToTarget(vec) + Math.PI;\r\n    };\r\n    Enemy.prototype.pathToPos = function (tab) {\r\n        var pos = [];\r\n        tab.map(function (e) { return pos.push(new Vector3(e.x * config.wallSize, 0, e.z * config.wallSize)); });\r\n        return pos;\r\n    };\r\n    Enemy.prototype.setPatrol = function (pos) {\r\n        this.patrolTarget = pos;\r\n        // this.patrolArea();\r\n    };\r\n    Enemy.prototype.patrolArea = function () {\r\n        if (this.patrolTarget) {\r\n            var path = void 0;\r\n            if (this.path.length == 0 || this.path[this.path.length - 1].isEval(this.startPos)) {\r\n                var tab = this.pathFinder.findPath(this.pos, this.patrolTarget);\r\n                path = this.pathToPos(tab);\r\n            }\r\n            else {\r\n                var tab = this.pathFinder.findPath(this.pos, this.startPos);\r\n                path = this.pathToPos(tab);\r\n            }\r\n            if (path.length > 0) {\r\n                this.path = Array.from(path);\r\n                this.targetPos = this.path[0];\r\n                this.pathIndex = 0;\r\n                this.checkToDoorsOpen();\r\n                this.enemyLookAt(this.targetPos);\r\n            }\r\n        }\r\n    };\r\n    Enemy.prototype.hit = function (dmg) {\r\n        dmg = (9.5 + Math.random()) / 10 * dmg;\r\n        var angleString = this.angleStatusToString();\r\n        if (angleString.indexOf(\"BACK\") != -1) {\r\n            dmg *= 2;\r\n        }\r\n        this.hp -= dmg;\r\n        if (this.hp <= 0) {\r\n            this.hp = 0;\r\n            this.dead = true;\r\n            this.changeAction(enemyActionTypes.DEAD);\r\n            if (this.name == \"DOG\")\r\n                MyAudio.instance.playAudio(AudioNames.DOG_DEATH);\r\n            else\r\n                this.randomEnemyDeadSound();\r\n        }\r\n        else {\r\n            this.changeAction(enemyActionTypes.HIT);\r\n        }\r\n        return this.dead;\r\n    };\r\n    Enemy.prototype.randomEnemyDeadSound = function () {\r\n        var rand = Math.ceil(Math.random() * 8);\r\n        if (rand == 1)\r\n            MyAudio.instance.playAudio(AudioNames.GUARD_DEAD_1);\r\n        else if (rand == 2)\r\n            MyAudio.instance.playAudio(AudioNames.GUARD_DEAD_2);\r\n        else if (rand == 3)\r\n            MyAudio.instance.playAudio(AudioNames.GUARD_DEAD_3);\r\n        else if (rand == 4)\r\n            MyAudio.instance.playAudio(AudioNames.GUARD_DEAD_4);\r\n        else if (rand == 5)\r\n            MyAudio.instance.playAudio(AudioNames.GUARD_DEAD_5);\r\n        else if (rand == 6)\r\n            MyAudio.instance.playAudio(AudioNames.GUARD_DEAD_6);\r\n        else if (rand == 7)\r\n            MyAudio.instance.playAudio(AudioNames.GUARD_DEAD_7);\r\n        else\r\n            MyAudio.instance.playAudio(AudioNames.GUARD_DEAD_8);\r\n    };\r\n    return Enemy;\r\n}(Object3D));\r\nexport default Enemy;\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport Matrix4 from '../Matrix4';\r\nimport Object3D from './Object3D';\r\nimport Vector3 from '../Vector3';\r\nimport Vector4 from '../Vector4';\r\nimport { AudioNames, config } from '../../Config';\r\nimport MyAudio from '../../MyAudio';\r\nvar Wall = /** @class */ (function (_super) {\r\n    __extends(Wall, _super);\r\n    function Wall(x, y, z, width) {\r\n        var _this = _super.call(this) || this;\r\n        _this.pos = new Vector3(x, y, z);\r\n        _this.scale = new Vector3(1, 1, 1);\r\n        _this.rotation = new Vector3(0, 0, 0);\r\n        _this.width = width;\r\n        _this.deep = width;\r\n        _this.secretWall = false;\r\n        _this.futurePos = new Vector3(x, y, z);\r\n        _this.moveSpeed = 0.5 * config.wallSize;\r\n        _this.texture = 'WALL';\r\n        _this.textureName = '';\r\n        _this.moved = false;\r\n        _this.posArray = new Float32Array();\r\n        _this.startTextureCoords = [];\r\n        _this.tempTextureCoords = [];\r\n        _this.textureArray = new Float32Array();\r\n        _this.wallTypes = {\r\n            \"FRONT\": 0,\r\n            \"TOP\": 1,\r\n            \"BOTTOM\": 2,\r\n            \"LEFT\": 3,\r\n            \"RIGHT\": 4,\r\n            \"BACK\": 5,\r\n        };\r\n        _this.count = 6 * 6;\r\n        _this.calcPos();\r\n        _this.calcTexture();\r\n        return _this;\r\n    }\r\n    Wall.prototype.calcPos = function () {\r\n        this.posArray = new Float32Array([\r\n            //front\r\n            0, 0, 0,\r\n            0, this.width, 0,\r\n            this.width, 0, 0,\r\n            0, this.width, 0,\r\n            this.width, this.width, 0,\r\n            this.width, 0, 0,\r\n            // // back\r\n            // 0, 0, this.width,\r\n            // 0, this.width, this.width,\r\n            // this.width, 0, this.width,\r\n            // 0, this.width, this.width,\r\n            // this.width, this.width, this.width,\r\n            // this.width, 0, this.width,\r\n            //top\r\n            0, 0, 0,\r\n            this.width, 0, 0,\r\n            0, 0, this.width,\r\n            this.width, 0, 0,\r\n            this.width, 0, this.width,\r\n            0, 0, this.width,\r\n            //bottom\r\n            0, this.width, 0,\r\n            0, this.width, this.width,\r\n            this.width, this.width, 0,\r\n            0, this.width, this.width,\r\n            this.width, this.width, this.width,\r\n            this.width, this.width, 0,\r\n            //left\r\n            0, 0, this.width,\r\n            0, this.width, this.width,\r\n            0, 0, 0,\r\n            0, this.width, this.width,\r\n            0, this.width, 0,\r\n            0, 0, 0,\r\n            //right\r\n            this.width, 0, 0,\r\n            this.width, this.width, 0,\r\n            this.width, 0, this.width,\r\n            this.width, this.width, 0,\r\n            this.width, this.width, this.width,\r\n            this.width, 0, this.width,\r\n            //back\r\n            0, 0, this.width,\r\n            this.width, 0, this.width,\r\n            0, this.width, this.width,\r\n            0, this.width, this.width,\r\n            this.width, 0, this.width,\r\n            this.width, this.width, this.width,\r\n        ]);\r\n        var matrix = new Matrix4().xRotate(Math.PI);\r\n        matrix.translate(-(this.width / 2), -(this.width / 2), -(this.width / 2));\r\n        for (var i = 0; i < this.posArray.length; i += 3) {\r\n            var vec = Vector4.vectorMultiply(new Vector4(this.posArray[i + 0], this.posArray[i + 1], this.posArray[i + 2]), matrix);\r\n            this.posArray[i + 0] = vec.x;\r\n            this.posArray[i + 1] = vec.y;\r\n            this.posArray[i + 2] = vec.z;\r\n        }\r\n    };\r\n    Wall.prototype.calcTexture = function () {\r\n        var tab = [];\r\n        new Array(5).fill(null).map(function (e) { return tab.push.apply(tab, [\r\n            0, 0,\r\n            0, 1,\r\n            1, 0,\r\n            0, 1,\r\n            1, 1,\r\n            1, 0\r\n        ]); });\r\n        tab.push.apply(tab, [\r\n            1, 0,\r\n            0, 0,\r\n            1, 1,\r\n            1, 1,\r\n            0, 0,\r\n            0, 1,\r\n        ]);\r\n        this.startTextureCoords = Array.from(tab);\r\n        this.tempTextureCoords = Array.from(tab);\r\n    };\r\n    Wall.prototype.setAsSecretWall = function (targetPos) {\r\n        this.secretWall = true;\r\n        this.targetPos = targetPos.clone();\r\n    };\r\n    Wall.prototype.move = function () {\r\n        if (this.moved == false) {\r\n            MyAudio.instance.playAudio(AudioNames.DOORS_SECRET);\r\n        }\r\n        this.futurePos = this.targetPos.clone();\r\n        this.moved = true;\r\n    };\r\n    Wall.prototype.update = function (deltaTime) {\r\n        if (this.secretWall) {\r\n            if (this.pos.x != this.futurePos.x) {\r\n                this.pos.x += Math.sign(this.futurePos.x - this.pos.x) * Math.min(deltaTime * this.moveSpeed, Math.abs(this.futurePos.x - this.pos.x));\r\n            }\r\n            if (this.pos.z != this.futurePos.z) {\r\n                this.pos.z += Math.sign(this.futurePos.z - this.pos.z) * Math.min(deltaTime * this.moveSpeed, Math.abs(this.futurePos.z - this.pos.z));\r\n            }\r\n        }\r\n    };\r\n    return Wall;\r\n}(Object3D));\r\nexport default Wall;\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport Object3D from './Object3D';\r\nimport Vector3 from '../Vector3';\r\nimport { AudioNames } from '../../Config';\r\nimport Box2D from '../boxHelper/Box2D';\r\nimport BoxPoint from '../boxHelper/BoxPoint';\r\nimport Wall from './Wall';\r\nimport Door from './Door';\r\nimport MyAudio from '../../MyAudio';\r\nvar End = /** @class */ (function (_super) {\r\n    __extends(End, _super);\r\n    function End(x, y, z, width, neighboursList) {\r\n        var _this = _super.call(this) || this;\r\n        _this.pos = new Vector3(x, y, z);\r\n        _this.width = width;\r\n        _this.deep = width;\r\n        _this.neighbours = { FRONT: undefined, LEFT: undefined, RIGHT: undefined };\r\n        _this.playerIn = false;\r\n        _this.UpdateNeighTextures(neighboursList);\r\n        return _this;\r\n    }\r\n    End.prototype.UpdateNeighTextures = function (neigh) {\r\n        this.FindRightNeighbours(neigh);\r\n        this.neighbours.FRONT ? this.neighbours.FRONT.textureSet(this.neighbours.FRONT.texture, 'wall_elevatorPins_off') : null;\r\n        this.neighbours.LEFT ? this.neighbours.LEFT.textureSet(this.neighbours.FRONT.texture, 'wall_elevatorPins_side') : null;\r\n        this.neighbours.RIGHT ? this.neighbours.RIGHT.textureSet(this.neighbours.FRONT.texture, 'wall_elevatorPins_side') : null;\r\n    };\r\n    End.prototype.FindRightNeighbours = function (neigh) {\r\n        var door = neigh.find(function (e) { return e instanceof Door; });\r\n        var front;\r\n        if (door) {\r\n            var frontPos_1 = this.pos.clone().add(door.pos.clone().sub(this.pos).multiply(-1));\r\n            front = neigh.find(function (e) { return e.pos.isEval(frontPos_1); });\r\n            if (front) {\r\n                front = neigh.find(function (e) { return e instanceof Wall; });\r\n            }\r\n        }\r\n        else {\r\n            front = neigh.find(function (e) { return e instanceof Wall; });\r\n        }\r\n        var toFront = front.pos.clone().sub(this.pos);\r\n        var leftPos = this.pos.clone().add(toFront.z != 0 ? toFront.clone().flipXZ() : toFront.clone().flipXZ().multiply(-1));\r\n        var rightPos = this.pos.clone().add(toFront.z != 0 ? toFront.clone().flipXZ().multiply(-1) : toFront.clone().flipXZ());\r\n        var left = neigh.find(function (e) { return e.pos.isEval(leftPos); });\r\n        var right = neigh.find(function (e) { return e.pos.isEval(rightPos); });\r\n        this.neighbours.FRONT = front;\r\n        this.neighbours.LEFT = left;\r\n        this.neighbours.RIGHT = right;\r\n    };\r\n    End.prototype.checkPlayerIn = function (camera) {\r\n        var box = new Box2D(this);\r\n        var camIn = box.checkPointInBox(new BoxPoint(camera.pos.x, camera.pos.z));\r\n        this.playerIn = camIn;\r\n    };\r\n    End.prototype.change = function () {\r\n        MyAudio.instance.playAudio(AudioNames.ELEVATOR_SWITCH);\r\n        this.neighbours.FRONT ? this.neighbours.FRONT.textureSet(this.neighbours.FRONT.texture, 'wall_elevatorPins_on') : null;\r\n    };\r\n    End.prototype.update = function (deltaTime, camera) {\r\n        this.checkPlayerIn(camera);\r\n    };\r\n    return End;\r\n}(Object3D));\r\nexport default End;\r\n","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport { animNames, AudioNames, config, HUDStatus, Scene2DStatus, weaponStatus, weaponTypes } from \"../Config\";\r\nimport Door from \"./objects/Door\";\r\nimport Enemy from \"./objects/Enemy\";\r\nimport Raycaster from \"./Raycaster\";\r\nimport Vector3 from \"./Vector3\";\r\nimport Wall from \"./objects/Wall\";\r\nimport End from \"./objects/End\";\r\nimport MyAudio from \"../MyAudio\";\r\nvar KEYS;\r\n(function (KEYS) {\r\n    KEYS[\"left\"] = \"KeyA\";\r\n    KEYS[\"up\"] = \"KeyW\";\r\n    KEYS[\"right\"] = \"KeyD\";\r\n    KEYS[\"down\"] = \"KeyS\";\r\n    KEYS[\"shoot\"] = \"Space\";\r\n    KEYS[\"action\"] = \"KeyE\";\r\n    KEYS[\"Digit1\"] = \"Digit1\";\r\n    KEYS[\"Digit2\"] = \"Digit2\";\r\n    KEYS[\"Digit3\"] = \"Digit3\";\r\n    KEYS[\"Digit4\"] = \"Digit4\";\r\n    KEYS[\"ctrl\"] = \"ControlLeft\";\r\n    KEYS[\"ArrowUp\"] = \"ArrowUp\";\r\n    KEYS[\"ArrowDown\"] = \"ArrowDown\";\r\n    KEYS[\"Escape\"] = \"Escape\";\r\n})(KEYS || (KEYS = {}));\r\nvar Keyboard = /** @class */ (function () {\r\n    function Keyboard(camera, animManager, levelCreator, scene2D) {\r\n        this.camera = camera;\r\n        this.animManager = animManager;\r\n        this.levelCreator = levelCreator;\r\n        this.objects = null;\r\n        this.scene2D = scene2D;\r\n        this.bools = {\r\n            up: { status: false, offset: 1, nextAction: 0 },\r\n            down: { status: false, offset: 1, nextAction: 0 },\r\n            left: { status: false, offset: 1, nextAction: 0 },\r\n            right: { status: false, offset: 1, nextAction: 0 },\r\n            shoot: { status: false, offset: 300, nextAction: 0 },\r\n            action: { status: false, offset: 300, nextAction: 0 },\r\n            ctrl: { status: false, offset: 1, nextAction: 0 },\r\n            ArrowUp: { status: false, offset: 300, nextAction: 0 },\r\n            ArrowDown: { status: false, offset: 300, nextAction: 0 },\r\n            Escape: { status: false, offset: 300, nextAction: 0 }\r\n        };\r\n        this.addEvents();\r\n    }\r\n    Keyboard.prototype.addEvents = function () {\r\n        var _this = this;\r\n        document.body.onkeydown = function (e) {\r\n            switch (e.code) {\r\n                case KEYS.up:\r\n                    _this.bools.up.status = true;\r\n                    break;\r\n                case KEYS.down:\r\n                    _this.bools.down.status = true;\r\n                    break;\r\n                case KEYS.left:\r\n                    _this.bools.left.status = true;\r\n                    break;\r\n                case KEYS.right:\r\n                    _this.bools.right.status = true;\r\n                    break;\r\n                case KEYS.shoot:\r\n                    if (_this.bools.shoot.status == false && _this.scene2D.sceneStatus == Scene2DStatus.GAME && _this.scene2D.HUD.status == HUDStatus.GAMEPLAY) {\r\n                        _this.startShoot();\r\n                    }\r\n                    _this.bools.shoot.status = true;\r\n                    break;\r\n                case KEYS.action:\r\n                    _this.bools.action.status = true;\r\n                    break;\r\n                case KEYS.Digit1:\r\n                    _this.camera.weapon.changeWeapon(weaponTypes.KNIFE);\r\n                    break;\r\n                case KEYS.Digit2:\r\n                    _this.camera.weapon.changeWeapon(weaponTypes.PISTOL);\r\n                    break;\r\n                case KEYS.Digit3:\r\n                    _this.camera.weapon.changeWeapon(weaponTypes.MACHINEGUN);\r\n                    break;\r\n                case KEYS.Digit4:\r\n                    _this.camera.weapon.changeWeapon(weaponTypes.CHAINGUN);\r\n                    break;\r\n                case KEYS.ctrl:\r\n                    _this.bools.ctrl.status = true;\r\n                    break;\r\n                case KEYS.ArrowUp:\r\n                    _this.bools.ArrowUp.status = true;\r\n                    break;\r\n                case KEYS.ArrowDown:\r\n                    _this.bools.ArrowDown.status = true;\r\n                    break;\r\n                case KEYS.Escape:\r\n                    _this.bools.Escape.status = true;\r\n                    break;\r\n            }\r\n        };\r\n        document.body.onkeyup = function (e) {\r\n            switch (e.code) {\r\n                case KEYS.up:\r\n                    _this.bools.up.status = false;\r\n                    break;\r\n                case KEYS.down:\r\n                    _this.bools.down.status = false;\r\n                    break;\r\n                case KEYS.left:\r\n                    _this.bools.left.status = false;\r\n                    break;\r\n                case KEYS.right:\r\n                    _this.bools.right.status = false;\r\n                    break;\r\n                case KEYS.shoot:\r\n                    if (_this.bools.shoot.status == true) {\r\n                        _this.endShoot();\r\n                    }\r\n                    _this.bools.shoot.status = false;\r\n                    break;\r\n                case KEYS.action:\r\n                    _this.bools.action.status = false;\r\n                    break;\r\n                case KEYS.ctrl:\r\n                    _this.bools.ctrl.status = false;\r\n                    break;\r\n                case KEYS.ArrowUp:\r\n                    _this.bools.ArrowUp.status = false;\r\n                    break;\r\n                case KEYS.ArrowDown:\r\n                    _this.bools.ArrowDown.status = false;\r\n                    break;\r\n                case KEYS.Escape:\r\n                    _this.bools.Escape.status = false;\r\n                    break;\r\n            }\r\n        };\r\n    };\r\n    Keyboard.prototype.deleteNoCollideFurnitures = function (objList) {\r\n        var tab = [];\r\n        objList.forEach(function (e) { return config.noCollideFurnitures.includes(e.textureName) == false ? tab.push(e) : null; });\r\n        return tab;\r\n    };\r\n    Keyboard.prototype.update = function (deltaTime, objects) {\r\n        var _this = this;\r\n        if (this.scene2D.smoothAction) {\r\n            return;\r\n        }\r\n        this.objects = objects;\r\n        var collisionObjects = __spreadArray(__spreadArray(__spreadArray([], objects.walls, true), objects.doors, true), this.deleteNoCollideFurnitures(objects.furnitures), true);\r\n        var actionObjects = __spreadArray(__spreadArray(__spreadArray([], objects.doors, true), objects.end, true), objects.walls.filter(function (e) { return e.secretWall == true; }), true);\r\n        if (this.bools.up.status) {\r\n            this.camera.move(Vector3.forward(), deltaTime, collisionObjects.filter(function (e) { return _this.camera.inRenderingRange(e); }));\r\n        }\r\n        if (this.bools.down.status) {\r\n            this.camera.move(Vector3.backward(), deltaTime, collisionObjects.filter(function (e) { return _this.camera.inRenderingRange(e); }));\r\n        }\r\n        if (this.bools.left.status) {\r\n            this.camera.rotate(Vector3.up(), deltaTime);\r\n        }\r\n        if (this.bools.right.status) {\r\n            this.camera.rotate(Vector3.down(), deltaTime);\r\n        }\r\n        if (this.scene2D.sceneStatus == Scene2DStatus.MENU || (this.scene2D.sceneStatus == Scene2DStatus.GAME && this.scene2D.HUD.status == HUDStatus.ENDSCREEN)) {\r\n            if (this.bools.shoot.status && Date.now() > this.bools.shoot.nextAction) {\r\n                this.scene2D.enter();\r\n                this.bools.shoot.nextAction = Date.now() + this.bools.shoot.offset;\r\n            }\r\n        }\r\n        else {\r\n            if (this.scene2D.HUD.status == HUDStatus.GAMEPLAY) {\r\n                if (this.bools.shoot.status && this.camera.weapon.status == weaponStatus.DEFAULT && this.camera.weapon.auto == true) {\r\n                    this.startShoot();\r\n                }\r\n            }\r\n        }\r\n        if (this.bools.action.status && Date.now() > this.bools.action.nextAction && this.scene2D.sceneStatus == Scene2DStatus.GAME && this.scene2D.HUD.status == HUDStatus.GAMEPLAY) {\r\n            actionObjects.forEach(function (e) {\r\n                if (e instanceof Door) {\r\n                    var dist = Vector3.distance(_this.camera.pos, e.startPos);\r\n                    if (dist <= config.actionDistance) {\r\n                        e.move(_this.camera);\r\n                    }\r\n                }\r\n                else if (e instanceof Wall) {\r\n                    var dist = Vector3.distance(_this.camera.pos, e.pos);\r\n                    if (dist < config.actionDistance * 1.2) {\r\n                        e.move();\r\n                    }\r\n                }\r\n                else if (e instanceof End) {\r\n                    if (e.playerIn) {\r\n                        e.change();\r\n                        setTimeout(function () {\r\n                            _this.scene2D.enableSmoothAction(function () { _this.scene2D.HUD.status = HUDStatus.ENDSCREEN; MyAudio.instance.stopAll(); MyAudio.instance.playAudio(AudioNames.THEME_SPLASH); });\r\n                        }, 500);\r\n                    }\r\n                }\r\n            });\r\n            this.bools.action.nextAction = Date.now() + this.bools.action.offset;\r\n        }\r\n        if (this.bools.ArrowUp.status && Date.now() > this.bools.ArrowUp.nextAction) {\r\n            this.scene2D.moveUp();\r\n            this.bools.ArrowUp.nextAction = Date.now() + this.bools.ArrowUp.offset;\r\n        }\r\n        if (this.bools.ArrowDown.status && Date.now() > this.bools.ArrowDown.nextAction) {\r\n            this.scene2D.moveDown();\r\n            this.bools.ArrowDown.nextAction = Date.now() + this.bools.ArrowDown.offset;\r\n        }\r\n        if (this.bools.Escape.status && Date.now() > this.bools.Escape.nextAction && this.scene2D.sceneStatus == Scene2DStatus.GAME && this.scene2D.HUD.status == HUDStatus.GAMEPLAY) {\r\n            this.scene2D.enableOptions();\r\n            this.bools.Escape.nextAction = Date.now() + this.bools.Escape.offset;\r\n        }\r\n    };\r\n    Keyboard.prototype.startShoot = function () {\r\n        this.animManager.change(this.camera.weapon, animNames.WEAPON_SHOOT, this.weaponShoot.bind(this));\r\n    };\r\n    Keyboard.prototype.weaponShoot = function () {\r\n        var _this = this;\r\n        MyAudio.instance.playAudio(this.camera.weapon.audioName);\r\n        var collisionObjects = __spreadArray(__spreadArray([], this.objects.walls, true), this.objects.doors, true);\r\n        var enemies = __spreadArray([], this.objects.enemies.filter(function (e) { return e.dead == false; }), true);\r\n        var raycaster = new Raycaster(this.camera);\r\n        var rayData = raycaster.create(this.camera.pos, this.camera.weapon.range, collisionObjects);\r\n        enemies.filter(function (e) { return e.dead == false; }).forEach(function (e) {\r\n            if (e instanceof Enemy) {\r\n                var dist = Vector3.distance(_this.camera.pos, e.pos);\r\n                if (dist <= rayData.dist) {\r\n                    var look = _this.camera.isLookingAt(e);\r\n                    if (look) {\r\n                        var isDead = e.hit(_this.camera.weapon.damage);\r\n                        if (isDead) {\r\n                            if (e.dropAmmo) {\r\n                                _this.levelCreator.addUsedClip(e.pos.clone());\r\n                            }\r\n                            _this.camera.addPOINTS(100, true);\r\n                            _this.camera.killCount++;\r\n                        }\r\n                        else {\r\n                            e.detectPlayer(_this.camera);\r\n                        }\r\n                    }\r\n                }\r\n                if (_this.camera.weapon.makeNoise) {\r\n                    if (e.spotted == false && dist < config.enemyDetectShootRange && e.dead == false) {\r\n                        e.detectPlayer(_this.camera);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        this.bools.shoot.nextAction = Date.now() + this.bools.shoot.offset;\r\n        this.camera.onShoot();\r\n    };\r\n    Keyboard.prototype.endShoot = function () {\r\n        this.animManager.change(this.camera.weapon, animNames.WEAPON_DEFAULT);\r\n    };\r\n    return Keyboard;\r\n}());\r\nexport default Keyboard;\r\n","var Element2D = /** @class */ (function () {\r\n    function Element2D() {\r\n    }\r\n    return Element2D;\r\n}());\r\nexport default Element2D;\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport Element2D from \"../Element2D\";\r\nvar Crosshair = /** @class */ (function (_super) {\r\n    __extends(Crosshair, _super);\r\n    function Crosshair() {\r\n        var _this = _super.call(this) || this;\r\n        _this.color = 'red';\r\n        _this.size = 10;\r\n        return _this;\r\n    }\r\n    Crosshair.prototype.update = function (ctx) {\r\n        ctx.rect(ctx.canvas.width / 2 - (this.size / 2), ctx.canvas.height / 2 - (this.size / 2), this.size, this.size);\r\n        ctx.fillStyle = 'red';\r\n        ctx.fill();\r\n    };\r\n    return Crosshair;\r\n}(Element2D));\r\nexport default Crosshair;\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { animNames, weaponStatus, weaponTypes } from \"../../Config\";\r\nimport Matrix4 from \"../Matrix4\";\r\nimport Vector3 from \"../Vector3\";\r\nimport Vector4 from \"../Vector4\";\r\nimport Object3D from \"./Object3D\";\r\nvar Weapon = /** @class */ (function (_super) {\r\n    __extends(Weapon, _super);\r\n    function Weapon(type, animManager) {\r\n        var _this = _super.call(this) || this;\r\n        _this.pos = new Vector3(0, -0.21, -2);\r\n        _this.scale = new Vector3(0.1, 0.1, 0.1);\r\n        _this.rotation = new Vector3(0, 0, 0);\r\n        _this.width = 12;\r\n        _this.deep = 0;\r\n        _this.count = 6;\r\n        _this.texture = 'WEAPON';\r\n        _this.textureName = '';\r\n        _this.weaponID = type.id;\r\n        _this.fireRate = type.attackSpeed;\r\n        _this.auto = type.auto;\r\n        _this.range = type.range;\r\n        _this.shootID = type.shootID;\r\n        _this.damage = type.damage;\r\n        _this.needAmmo = type.needAmmo;\r\n        _this.makeNoise = type.makeNoise;\r\n        _this.audioName = type.audioName;\r\n        _this.forceStop = false;\r\n        _this.forceChange = false;\r\n        _this.highestWeaponID = type.id;\r\n        _this.status = weaponStatus.DEFAULT;\r\n        _this.animManger = animManager;\r\n        _this.posArray = new Float32Array();\r\n        _this.startTextureCoords = [];\r\n        _this.tempTextureCoords = [];\r\n        _this.textureArray = new Float32Array();\r\n        _this.calsPos();\r\n        _this.calcTexture();\r\n        return _this;\r\n    }\r\n    Weapon.prototype.calsPos = function () {\r\n        this.posArray = new Float32Array([\r\n            0, 0, 0,\r\n            0, this.width, 0,\r\n            this.width, 0, 0,\r\n            0, this.width, 0,\r\n            this.width, this.width, 0,\r\n            this.width, 0, 0,\r\n        ]);\r\n        var matrix = new Matrix4().xRotate(Math.PI);\r\n        matrix.translate(-(this.width / 2), -(this.width / 2), -(this.width / 2));\r\n        for (var i = 0; i < this.posArray.length; i += 3) {\r\n            var vec = Vector4.vectorMultiply(new Vector4(this.posArray[i + 0], this.posArray[i + 1], this.posArray[i + 2]), matrix);\r\n            this.posArray[i + 0] = vec.x;\r\n            this.posArray[i + 1] = vec.y;\r\n            this.posArray[i + 2] = vec.z;\r\n        }\r\n    };\r\n    Weapon.prototype.calcTexture = function () {\r\n        var tab = [\r\n            0, 0,\r\n            0, 1,\r\n            1, 0,\r\n            0, 1,\r\n            1, 1,\r\n            1, 0\r\n        ];\r\n        this.startTextureCoords = Array.from(tab);\r\n        this.tempTextureCoords = Array.from(tab);\r\n    };\r\n    Weapon.prototype.changeWeapon = function (type) {\r\n        if (this.weaponID != type.id) {\r\n            this.weaponID = type.id;\r\n            this.fireRate = type.attackSpeed;\r\n            this.auto = type.auto;\r\n            this.range = type.range;\r\n            this.shootID = type.shootID;\r\n            this.damage = type.damage;\r\n            this.needAmmo = type.needAmmo;\r\n            this.makeNoise = type.makeNoise;\r\n            this.audioName = type.audioName;\r\n            this.highestWeaponID = Math.max(type.id, this.highestWeaponID);\r\n            this.animManger.remove(this);\r\n            this.animManger.add(this, animNames.WEAPON_DEFAULT);\r\n        }\r\n    };\r\n    Weapon.prototype.onForceChange = function () {\r\n        if (this.forceChange == true) {\r\n            this.forceChange = false;\r\n            this.changeWeapon(weaponTypes.KNIFE);\r\n        }\r\n    };\r\n    Weapon.prototype.changeStatus = function (status) {\r\n        this.status = status;\r\n    };\r\n    Weapon.prototype.update = function () {\r\n    };\r\n    return Weapon;\r\n}(Object3D));\r\nexport default Weapon;\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport Matrix4 from '../Matrix4';\r\nimport Object3D from './Object3D';\r\nimport Vector3 from '../Vector3';\r\nimport Vector4 from '../Vector4';\r\nvar Pickable = /** @class */ (function (_super) {\r\n    __extends(Pickable, _super);\r\n    function Pickable(action, x, y, z, width) {\r\n        var _this = _super.call(this) || this;\r\n        _this.pos = new Vector3(x, y, z);\r\n        _this.rotation = new Vector3(0, 0, 0);\r\n        _this.scale = new Vector3(1, 1, 1);\r\n        _this.width = width;\r\n        _this.deep = 0;\r\n        _this.texture = 'OBJECT';\r\n        _this.textureName = '';\r\n        _this.count = 6;\r\n        _this.action = action;\r\n        _this.toDelete = false;\r\n        _this.posArray = new Float32Array();\r\n        _this.startTextureCoords = [];\r\n        _this.tempTextureCoords = [];\r\n        _this.textureArray = new Float32Array();\r\n        _this.calsPos();\r\n        _this.calcTexture();\r\n        return _this;\r\n    }\r\n    Pickable.prototype.calsPos = function () {\r\n        this.posArray = new Float32Array([\r\n            0,\r\n            0,\r\n            this.width / 2,\r\n            0,\r\n            this.width,\r\n            this.width / 2,\r\n            this.width,\r\n            0,\r\n            this.width / 2,\r\n            0,\r\n            this.width,\r\n            this.width / 2,\r\n            this.width,\r\n            this.width,\r\n            this.width / 2,\r\n            this.width,\r\n            0,\r\n            this.width / 2,\r\n        ]);\r\n        var matrix = new Matrix4().xRotate(Math.PI);\r\n        matrix.translate(-(this.width / 2), -(this.width / 2), -(this.width / 2));\r\n        for (var i = 0; i < this.posArray.length; i += 3) {\r\n            var vec = Vector4.vectorMultiply(new Vector4(this.posArray[i + 0], this.posArray[i + 1], this.posArray[i + 2]), matrix);\r\n            this.posArray[i + 0] = vec.x;\r\n            this.posArray[i + 1] = vec.y;\r\n            this.posArray[i + 2] = vec.z;\r\n        }\r\n    };\r\n    Pickable.prototype.calcTexture = function () {\r\n        var tab = [\r\n            0, 0,\r\n            0, 1,\r\n            1, 0,\r\n            0, 1,\r\n            1, 1,\r\n            1, 0\r\n        ];\r\n        this.startTextureCoords = Array.from(tab);\r\n        this.tempTextureCoords = Array.from(tab);\r\n    };\r\n    Pickable.prototype.pick = function (camera) {\r\n        var action = this.action(camera);\r\n        action ? this.toDelete = true : null;\r\n    };\r\n    Pickable.prototype.update = function (camera) {\r\n        if (Vector3.distance(camera.pos, this.pos) < camera.collisionRadius * 2) {\r\n            this.pick(camera);\r\n        }\r\n    };\r\n    return Pickable;\r\n}(Object3D));\r\nexport default Pickable;\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport Matrix4 from '../Matrix4';\r\nimport Object3D from './Object3D';\r\nimport Vector3 from '../Vector3';\r\nimport Vector4 from '../Vector4';\r\nvar Furniture = /** @class */ (function (_super) {\r\n    __extends(Furniture, _super);\r\n    function Furniture(x, y, z, width) {\r\n        var _this = _super.call(this) || this;\r\n        _this.pos = new Vector3(x, y, z);\r\n        _this.rotation = new Vector3(0, 0, 0);\r\n        _this.scale = new Vector3(1, 1, 1);\r\n        _this.width = width;\r\n        _this.deep = width;\r\n        _this.texture = 'OBJECT';\r\n        _this.textureName = '';\r\n        _this.count = 6;\r\n        _this.posArray = new Float32Array();\r\n        _this.startTextureCoords = [];\r\n        _this.tempTextureCoords = [];\r\n        _this.textureArray = new Float32Array();\r\n        _this.calsPos();\r\n        _this.calcTexture();\r\n        return _this;\r\n    }\r\n    Furniture.prototype.calsPos = function () {\r\n        this.posArray = new Float32Array([\r\n            0,\r\n            0,\r\n            this.width / 2,\r\n            0,\r\n            this.width,\r\n            this.width / 2,\r\n            this.width,\r\n            0,\r\n            this.width / 2,\r\n            0,\r\n            this.width,\r\n            this.width / 2,\r\n            this.width,\r\n            this.width,\r\n            this.width / 2,\r\n            this.width,\r\n            0,\r\n            this.width / 2,\r\n        ]);\r\n        var matrix = new Matrix4().xRotate(Math.PI);\r\n        matrix.translate(-(this.width / 2), -(this.width / 2), -(this.width / 2));\r\n        for (var i = 0; i < this.posArray.length; i += 3) {\r\n            var vec = Vector4.vectorMultiply(new Vector4(this.posArray[i + 0], this.posArray[i + 1], this.posArray[i + 2]), matrix);\r\n            this.posArray[i + 0] = vec.x;\r\n            this.posArray[i + 1] = vec.y;\r\n            this.posArray[i + 2] = vec.z;\r\n        }\r\n    };\r\n    Furniture.prototype.calcTexture = function () {\r\n        var tab = [\r\n            0, 0,\r\n            0, 1,\r\n            1, 0,\r\n            0, 1,\r\n            1, 1,\r\n            1, 0\r\n        ];\r\n        this.startTextureCoords = Array.from(tab);\r\n        this.tempTextureCoords = Array.from(tab);\r\n    };\r\n    Furniture.prototype.update = function (deltaTime, camera) {\r\n        this.lookAtCamera(camera);\r\n    };\r\n    return Furniture;\r\n}(Object3D));\r\nexport default Furniture;\r\n","import { config } from '../Config';\r\nimport Enemy from './objects/Enemy';\r\nimport Matrix4 from './Matrix4';\r\nimport Crosshair from '../HUDElements/helpers/Crosshair';\r\nimport Weapon from './objects/Weapon';\r\nimport Pickable from './objects/Pickable';\r\nimport Furniture from './objects/Furniture';\r\nvar Scene = /** @class */ (function () {\r\n    function Scene(root, camera) {\r\n        this.scene = document.createElement('canvas');\r\n        this.scene.id = 'scene';\r\n        // root.appendChild(this.scene);\r\n        this.camera = camera;\r\n        this.gl = this.scene.getContext('webgl', { antialias: false });\r\n        this.program;\r\n        this.locations = { attributes: {}, uniforms: {} };\r\n        this.items = [];\r\n        this.textures = {};\r\n        this.library;\r\n        this.marginHorizontal = 0;\r\n        this.marginVertical = 0;\r\n        this.goodWidth = 0;\r\n        this.goodHeight = 0;\r\n        this.crosshair = new Crosshair();\r\n        this.lastTexture = null;\r\n        this.lastTexcoords = null;\r\n        this.updateCamera();\r\n    }\r\n    Scene.prototype.add = function (item) {\r\n        this.items.push(item);\r\n        this.items = this.items.sort(function (a, b) {\r\n            if (a.texture > b.texture) {\r\n                return -1;\r\n            }\r\n            if (b.texture > a.texture) {\r\n                return 1;\r\n            }\r\n            return 0;\r\n        });\r\n    };\r\n    Scene.prototype.remove = function (item) {\r\n        this.items = this.items.filter(function (e) { return e != item; });\r\n    };\r\n    Scene.prototype.clear = function () {\r\n        this.items = [];\r\n    };\r\n    Scene.prototype.startProgram = function (library) {\r\n        this.library = library;\r\n        this.updateCamera();\r\n        var vertexShader = this.createShader(this.gl, this.gl.VERTEX_SHADER, this.library.shaders.vertShader);\r\n        var fragShader = this.createShader(this.gl, this.gl.FRAGMENT_SHADER, this.library.shaders.fragShader);\r\n        this.program = this.createProgram(this.gl, vertexShader, fragShader);\r\n        this.positionBuffer = this.gl.createBuffer();\r\n        this.texcoordBuffer = this.gl.createBuffer();\r\n        this.getLocations();\r\n        this.CreateTextures();\r\n    };\r\n    Scene.prototype.drawScene = function (deltaTime) {\r\n        var _this = this;\r\n        this.applyBaseSettings();\r\n        var viewProjectionMatrix = this.CalcViewProjectionMatrix();\r\n        this.lastTexture = null;\r\n        var lastPosArray = null;\r\n        this.items.forEach(function (e, i) {\r\n            if (_this.camera.inRenderingRange(e) || e instanceof Weapon) {\r\n                _this.gl.bindBuffer(_this.gl.ARRAY_BUFFER, _this.positionBuffer);\r\n                if (!_this.FloatArrayIsEval(e.posArray, lastPosArray)) {\r\n                    _this.gl.bufferData(_this.gl.ARRAY_BUFFER, e.posArray, _this.gl.STATIC_DRAW);\r\n                    lastPosArray = e.posArray.slice(0);\r\n                }\r\n                _this.gl.vertexAttribPointer(_this.locations.attributes['a_position'], 3, _this.gl.FLOAT, false, 0, 0);\r\n                _this.prepareImg(e, _this.texcoordBuffer);\r\n                var matrix = void 0;\r\n                if (e instanceof Weapon) {\r\n                    matrix = _this.camera.projectionMatrix.clone();\r\n                }\r\n                else {\r\n                    matrix = viewProjectionMatrix.clone();\r\n                }\r\n                matrix.translate(e.pos.x, e.pos.y, e.pos.z);\r\n                if (e instanceof Enemy || e instanceof Pickable || e instanceof Furniture) {\r\n                    matrix.yRotate(_this.camera.rotation.y);\r\n                }\r\n                else {\r\n                    matrix.yRotate(e.rotation.y);\r\n                }\r\n                matrix.xRotate(e.rotation.x);\r\n                matrix.zRotate(e.rotation.z);\r\n                matrix.scale(e.scale.x, e.scale.y, e.scale.z);\r\n                _this.gl.uniformMatrix4fv(_this.locations.uniforms['u_matrix'], false, matrix.matrix);\r\n                _this.gl.uniform1i(_this.locations.uniforms['u_texture'], 0);\r\n                _this.gl.drawArrays(_this.gl.TRIANGLES, 0, e.count);\r\n            }\r\n        });\r\n    };\r\n    Scene.prototype.prepareImg = function (element, buffer) {\r\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, buffer);\r\n        if (element.texture != this.lastTexture || !this.FloatArrayIsEval(element.textureArray, this.lastTexcoords)) {\r\n            this.gl.bindTexture(this.gl.TEXTURE_2D, this.textures[element.texture]);\r\n            this.lastTexture = element.texture;\r\n            this.lastTexcoords = element.textureArray.slice(0);\r\n            this.gl.vertexAttribPointer(this.locations.attributes['a_texcoord'], 2, this.gl.FLOAT, false, 0, 0);\r\n            this.gl.bufferData(this.gl.ARRAY_BUFFER, element.textureArray, this.gl.STATIC_DRAW);\r\n        }\r\n    };\r\n    Scene.prototype.CreateTextures = function () {\r\n        for (var key in this.library.graphics) {\r\n            var image = this.library.graphics[key];\r\n            var texture = this.gl.createTexture();\r\n            this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\r\n            this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\r\n            this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, 1, 1, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, new Uint8Array([255, 0, 0, 255]));\r\n            this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.gl.RGBA, this.gl.UNSIGNED_BYTE, image);\r\n            this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\r\n            this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\r\n            this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.NEAREST_MIPMAP_LINEAR);\r\n            this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.NEAREST);\r\n            if (this.isPowerOf2(image.width) && this.isPowerOf2(image.height)) {\r\n                this.gl.generateMipmap(this.gl.TEXTURE_2D);\r\n            }\r\n            this.textures[key] = texture;\r\n        }\r\n    };\r\n    Scene.prototype.CalcViewProjectionMatrix = function () {\r\n        var cameraMatrix = new Matrix4();\r\n        cameraMatrix.translate(this.camera.pos.x, this.camera.pos.y, this.camera.pos.z);\r\n        cameraMatrix.yRotate(this.camera.rotation.y);\r\n        cameraMatrix.inverse();\r\n        return this.camera.projectionMatrix.clone().multiply(cameraMatrix);\r\n    };\r\n    Scene.prototype.updateCamera = function () {\r\n        if (this.camera && this.gl) {\r\n            this.camera.updateProjectionMatrix(this.scene.width / this.scene.height);\r\n        }\r\n    };\r\n    Scene.prototype.getLocations = function () {\r\n        var _this = this;\r\n        config.attributes.forEach(function (e) {\r\n            return (_this.locations.attributes[e] = _this.gl.getAttribLocation(_this.program, e));\r\n        });\r\n        config.uniforms.forEach(function (e) {\r\n            return (_this.locations.uniforms[e] = _this.gl.getUniformLocation(_this.program, e));\r\n        });\r\n        this.gl.enableVertexAttribArray(this.locations.attributes['a_position']);\r\n        this.gl.enableVertexAttribArray(this.locations.attributes['a_texcoord']);\r\n    };\r\n    Scene.prototype.applyBaseSettings = function () {\r\n        this.gl.viewport(0, 0, this.gl.canvas.width, this.gl.canvas.height);\r\n        this.gl.clear(this.gl.COLOR_BUFFER_BIT | this.gl.DEPTH_BUFFER_BIT);\r\n        this.gl.useProgram(this.program);\r\n        this.gl.enable(this.gl.CULL_FACE);\r\n        this.gl.enable(this.gl.DEPTH_TEST);\r\n        this.gl.enable(this.gl.BLEND);\r\n        this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\r\n    };\r\n    Scene.prototype.createShader = function (gl, type, source) {\r\n        var shader = gl.createShader(type);\r\n        gl.shaderSource(shader, source);\r\n        gl.compileShader(shader);\r\n        var success = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\r\n        if (success) {\r\n            return shader;\r\n        }\r\n        console.log(gl.getShaderInfoLog(shader));\r\n        gl.deleteShader(shader);\r\n    };\r\n    Scene.prototype.createProgram = function (gl, vertexShader, fragmentShader) {\r\n        var program = gl.createProgram();\r\n        gl.attachShader(program, vertexShader);\r\n        gl.attachShader(program, fragmentShader);\r\n        gl.linkProgram(program);\r\n        var success = gl.getProgramParameter(program, gl.LINK_STATUS);\r\n        if (success) {\r\n            return program;\r\n        }\r\n        console.log(gl.getProgramInfoLog(program));\r\n        gl.deleteProgram(program);\r\n    };\r\n    Scene.prototype.isPowerOf2 = function (val) {\r\n        return (val & (val - 1)) == 0;\r\n    };\r\n    Scene.prototype.FloatArrayIsEval = function (array1, array2) {\r\n        if (array1 == null || array2 == null) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < array1.length; i++) {\r\n            if (array1[i] != array2[i]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    return Scene;\r\n}());\r\nexport default Scene;\r\n","var Field = /** @class */ (function () {\r\n    function Field(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.div = document.createElement('div');\r\n        this.div.classList.add(\"field\");\r\n        this.div.style.backgroundColor = 'transparent';\r\n    }\r\n    Field.prototype.setData = function (data) {\r\n        this.data = data;\r\n    };\r\n    Field.prototype.removeData = function () {\r\n        this.data = undefined;\r\n        this.div.style.backgroundColor = 'transparent';\r\n        this.div.style.backgroundImage = 'none';\r\n        this.div.style.backgroundSize = '0';\r\n        this.div.style.backgroundPosition = '0';\r\n        this.div.style.backgroundPositionY = '0';\r\n        this.div.style.transform = \"rotate(0deg)\";\r\n        this.lastActiveData = undefined;\r\n        this.difficulty = undefined;\r\n        this.alive = undefined;\r\n        if (this.child) {\r\n            this.child.removeData();\r\n            this.removeChild();\r\n        }\r\n        if (this.parent) {\r\n            this.parent.removeChild();\r\n            this.removeParent();\r\n        }\r\n    };\r\n    Field.prototype.setSize = function (size) {\r\n        this.div.style.width = size + \"px\";\r\n        this.div.style.height = size + \"px\";\r\n    };\r\n    Field.prototype.setImg = function (activeElement) {\r\n        this.lastActiveData = activeElement;\r\n        this.div.style.backgroundImage = \"url(\" + activeElement.imgUrl + \")\";\r\n        this.div.style.backgroundSize = this.div.clientWidth * activeElement.imgSizeX + \"px \" + this.div.clientHeight * activeElement.imgSizeY + \"px\";\r\n        this.div.style.backgroundPosition = \"-\" + this.div.clientWidth * activeElement.x + \"px\";\r\n        this.div.style.backgroundPositionY = \"-\" + this.div.clientHeight * activeElement.y + \"px\";\r\n    };\r\n    Field.prototype.updateBackgroundSize = function () {\r\n        if (this.lastActiveData) {\r\n            this.div.style.backgroundSize = this.div.clientWidth * this.lastActiveData.imgSizeX + \"px \" + this.div.clientHeight * this.lastActiveData.imgSizeY + \"px\";\r\n            this.div.style.backgroundPosition = \"-\" + this.div.clientWidth * this.lastActiveData.x + \"px\";\r\n            this.div.style.backgroundPositionY = \"-\" + this.div.clientHeight * this.lastActiveData.y + \"px\";\r\n        }\r\n    };\r\n    Field.prototype.rotateBackground = function (deg) {\r\n        this.div.style.transform = \"rotate(\" + deg + \"deg)\";\r\n    };\r\n    Field.prototype.setParent = function (field) {\r\n        this.parent = field;\r\n    };\r\n    Field.prototype.setChild = function (field) {\r\n        if (this.child) {\r\n            this.child.removeData();\r\n            this.removeChild();\r\n        }\r\n        this.child = field;\r\n    };\r\n    Field.prototype.removeParent = function () {\r\n        this.parent = undefined;\r\n    };\r\n    Field.prototype.removeChild = function () {\r\n        this.child = undefined;\r\n    };\r\n    Field.prototype.setAlive = function (bool) {\r\n        this.alive = bool;\r\n    };\r\n    Field.prototype.setDifficulty = function (diff) {\r\n        this.difficulty = diff;\r\n    };\r\n    return Field;\r\n}());\r\nexport default Field;\r\n","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport Field from \"./Field\";\r\nimport Library from \"../Library\";\r\nvar MapCreator = /** @class */ (function () {\r\n    function MapCreator(parent, root, keyboard) {\r\n        this.parent = parent;\r\n        this.root = root;\r\n        this.keyboard = keyboard;\r\n        this.div = document.createElement(\"div\");\r\n        this.div.id = \"mapCreator\";\r\n        this.div.classList.add(\"displayNone\");\r\n        this.mapSizeDiv = document.createElement(\"div\");\r\n        this.mapSizeDiv.id = \"mapSizeDiv\";\r\n        this.board = document.createElement(\"div\");\r\n        this.board.id = \"creatorBoard\";\r\n        this.div.appendChild(this.mapSizeDiv);\r\n        this.div.appendChild(this.board);\r\n        this.mapSizeSetting();\r\n        this.mouseDown = false;\r\n        this.rightDown = false;\r\n        this.currX = 0;\r\n        this.currY = 0;\r\n        this.fieldsList = [];\r\n        root.appendChild(this.div);\r\n    }\r\n    MapCreator.prototype.mapSizeSetting = function () {\r\n        var _this = this;\r\n        var fromJson = document.createElement(\"button\");\r\n        fromJson.innerHTML = \"FROM JSON\";\r\n        this.mapSizeDiv.appendChild(fromJson);\r\n        var inputX = document.createElement(\"input\");\r\n        inputX.placeholder = \"x\";\r\n        inputX.value = '10';\r\n        this.mapSizeDiv.appendChild(inputX);\r\n        var inputY = document.createElement(\"input\");\r\n        inputY.placeholder = \"y\";\r\n        inputY.value = '10';\r\n        this.mapSizeDiv.appendChild(inputY);\r\n        var btn = document.createElement(\"button\");\r\n        btn.innerHTML = \"CREATE\";\r\n        this.mapSizeDiv.appendChild(btn);\r\n        btn.onclick = function () {\r\n            var x = parseInt(inputX.value);\r\n            var y = parseInt(inputY.value);\r\n            _this.createCreator(x, y);\r\n        };\r\n        fromJson.onclick = function () {\r\n            _this.importJSON();\r\n        };\r\n    };\r\n    MapCreator.prototype.active = function () {\r\n        this.div.classList.toggle(\"displayNone\");\r\n    };\r\n    MapCreator.prototype.createCreator = function (x, y) {\r\n        var _this = this;\r\n        this.boardArea = undefined;\r\n        this.board.innerHTML = '';\r\n        this.fieldsList = [];\r\n        this.currX = x;\r\n        this.currY = y;\r\n        var menu = document.createElement('div');\r\n        menu.id = \"creatorMenu\";\r\n        this.board.appendChild(menu);\r\n        this.boardArea = document.createElement('div');\r\n        this.boardArea.id = \"creatorBoardArea\";\r\n        this.board.appendChild(this.boardArea);\r\n        var topMenu = document.createElement(\"div\");\r\n        topMenu.id = \"topMenu\";\r\n        menu.appendChild(topMenu);\r\n        // let el = document.createElement('div'); el.innerHTML = 'CREATE'; el.classList.add('menuElement'); topMenu.appendChild(el);\r\n        // el.style.backgroundColor = '#455A64'; el.style.color = '#FF5252';\r\n        // el.onclick = () => { this.createNewGameMap() }\r\n        var el2 = document.createElement('div');\r\n        el2.innerHTML = 'TO JSON';\r\n        el2.classList.add('menuElement');\r\n        topMenu.appendChild(el2);\r\n        el2.style.backgroundColor = '#455A64';\r\n        el2.style.color = '#FF5252';\r\n        el2.onclick = function () { _this.generateJSON(); };\r\n        this.createButtons(menu);\r\n        var fieldsBoard = document.createElement('div');\r\n        fieldsBoard.id = \"fieldsBoard\";\r\n        var fieldSize = Math.min((this.boardArea.clientHeight - 20) / y, (this.boardArea.clientWidth - 20) / x);\r\n        window.onmouseup = function (e) {\r\n            if (e.button == 0) {\r\n                _this.mouseDown = false;\r\n            }\r\n            else if (e.button == 2) {\r\n                _this.rightDown = false;\r\n            }\r\n        };\r\n        for (var i = 1; i <= x; i++) {\r\n            var column = document.createElement('div');\r\n            column.classList.add('boardColumn');\r\n            this.fieldsList[i] = [];\r\n            var _loop_1 = function (j) {\r\n                var field = new Field(i, j);\r\n                field.setSize(fieldSize);\r\n                column.appendChild(field.div);\r\n                this_1.fieldsList[i][j] = field;\r\n                field.div.onmousedown = function (e) {\r\n                    if (e.button == 0) {\r\n                        _this.mouseDown = true;\r\n                        _this.clickAction(e, field);\r\n                    }\r\n                    else if (e.button == 2) {\r\n                        field.removeData();\r\n                        _this.rightDown = true;\r\n                    }\r\n                };\r\n                field.div.onmouseover = function (e) {\r\n                    _this.fieldsList.forEach(function (e) { return e.forEach(function (p) { return p.div.classList.remove('helperClassAfter'); }); });\r\n                    if (_this.mouseDown == true && _this.activeElement) {\r\n                        _this.clickAction(e, field);\r\n                        // this.fillField(field);\r\n                    }\r\n                    else if (_this.rightDown) {\r\n                        field.removeData();\r\n                    }\r\n                    if (field.parent) {\r\n                        field.parent.div.classList.add('helperClassAfter');\r\n                    }\r\n                    if (field.child) {\r\n                        field.child.div.classList.add('helperClassAfter');\r\n                    }\r\n                };\r\n                field.div.onclick = function () {\r\n                    // this.clickAction(field);\r\n                };\r\n                field.div.oncontextmenu = function (e) {\r\n                    e.preventDefault();\r\n                    field.removeData();\r\n                };\r\n            };\r\n            var this_1 = this;\r\n            for (var j = 1; j <= y; j++) {\r\n                _loop_1(j);\r\n            }\r\n            fieldsBoard.appendChild(column);\r\n        }\r\n        this.boardArea.appendChild(fieldsBoard);\r\n    };\r\n    MapCreator.prototype.clickAction = function (e, field) {\r\n        if (this.keyboard.bools.ctrl.status) {\r\n            if (field.data && (field.data.type == 'wall' || field.data.type == 'enemy' || field.data.type == 'player')) {\r\n                this.createAdditionalMenu(e, field);\r\n            }\r\n        }\r\n        else if (this.activeElement) {\r\n            this.fillField(field);\r\n        }\r\n    };\r\n    MapCreator.prototype.createButtons = function (menuDiv) {\r\n        var _this = this;\r\n        var walls = Library.instance.data.graphicsData.WALL.pos;\r\n        var obj = Library.instance.data.graphicsData.OBJECT.pos;\r\n        var btnsData = { SPECIAL: [], CREATURES: [], WALLS: [], PICKABLES: [], FURNITURES: [] };\r\n        for (var name_1 in walls) {\r\n            var imgData = Library.instance.data.graphicsData.WALL;\r\n            var type = name_1.indexOf('door') != 0 ? 'wall' : 'door';\r\n            btnsData.WALLS.push({ type: type, name: name_1, x: walls[name_1].x, y: walls[name_1].y, imgUrl: Library.instance.graphics.WALL.src, imgX: imgData.sizeX, imgY: imgData.sizeY });\r\n        }\r\n        for (var name_2 in obj) {\r\n            var imgData = Library.instance.data.graphicsData.OBJECT;\r\n            if (name_2.indexOf('pickable') == -1) {\r\n                btnsData.FURNITURES.push({ type: 'furniture', name: name_2, x: obj[name_2].x, y: obj[name_2].y, imgUrl: Library.instance.graphics.OBJECT.src, imgX: imgData.sizeX, imgY: imgData.sizeY });\r\n            }\r\n            else {\r\n                btnsData.PICKABLES.push({ type: 'pickable', name: name_2, x: obj[name_2].x, y: obj[name_2].y, imgUrl: Library.instance.graphics.OBJECT.src, imgX: imgData.sizeX, imgY: imgData.sizeY });\r\n            }\r\n        }\r\n        btnsData.CREATURES.push({\r\n            type: 'player',\r\n            name: Object.keys(Library.instance.data.graphicsData.PLAYER.pos)[0],\r\n            x: 0,\r\n            y: 0,\r\n            imgUrl: Library.instance.graphics.PLAYER.src,\r\n            imgX: Library.instance.data.graphicsData.PLAYER.sizeX,\r\n            imgY: Library.instance.data.graphicsData.PLAYER.sizeY,\r\n        });\r\n        btnsData.CREATURES.push({\r\n            type: 'enemy',\r\n            name: Object.keys(Library.instance.data.graphicsData.ENEMY.pos)[0],\r\n            x: 0,\r\n            y: 0,\r\n            imgUrl: Library.instance.graphics.ENEMY.src,\r\n            imgX: Library.instance.data.graphicsData.ENEMY.sizeX,\r\n            imgY: Library.instance.data.graphicsData.ENEMY.sizeY,\r\n        });\r\n        btnsData.SPECIAL.push({\r\n            type: 'end',\r\n            name: 'end_game',\r\n            x: Library.instance.data.graphicsData.MAPCREATOR.pos['end_game'].x,\r\n            y: Library.instance.data.graphicsData.MAPCREATOR.pos['end_game'].y,\r\n            imgUrl: Library.instance.graphics.MAPCREATOR.src,\r\n            imgX: Library.instance.data.graphicsData.MAPCREATOR.sizeX,\r\n            imgY: Library.instance.data.graphicsData.MAPCREATOR.sizeY,\r\n        });\r\n        var _loop_2 = function (type) {\r\n            var groupTitle = document.createElement('div');\r\n            groupTitle.classList.add('mapBtnGroupTitle');\r\n            groupTitle.innerHTML = type;\r\n            menuDiv.appendChild(groupTitle);\r\n            var btnsGroup = document.createElement('div');\r\n            btnsGroup.classList.add('menuBtnGroup');\r\n            menuDiv.appendChild(btnsGroup);\r\n            var tabData = btnsData[type];\r\n            tabData.forEach(function (btn) {\r\n                var btnDiv = document.createElement('div');\r\n                btnDiv.classList.add('smallMenuBtn');\r\n                btnsGroup.appendChild(btnDiv);\r\n                btnDiv.style.backgroundImage = \"url(\" + btn.imgUrl + \")\";\r\n                btnDiv.style.backgroundSize = btnDiv.clientWidth * btn.imgX + \"px \" + btnDiv.clientHeight * btn.imgY + \"px\";\r\n                btnDiv.style.backgroundPosition = \"-\" + btnDiv.clientWidth * btn.x + \"px\";\r\n                btnDiv.style.backgroundPositionY = \"-\" + btnDiv.clientHeight * btn.y + \"px\";\r\n                btnDiv.onclick = function () {\r\n                    _this.activeElement = {\r\n                        type: btn.type,\r\n                        texture: btn.name,\r\n                        imgUrl: btn.imgUrl,\r\n                        imgSizeX: btn.imgX,\r\n                        imgSizeY: btn.imgY,\r\n                        x: btn.x,\r\n                        y: btn.y,\r\n                        name: btn.type == \"pickable\" ? _this.getPickableName(btn.name) : null,\r\n                        look: btn.type == \"enemy\" || btn.type == 'player' ? \"DOWN\" : null,\r\n                        alive: btn.type == 'enemy' ? true : null,\r\n                        difficulty: btn.type == 'enemy' ? 1 : null\r\n                    };\r\n                };\r\n            });\r\n        };\r\n        for (var type in btnsData) {\r\n            _loop_2(type);\r\n        }\r\n    };\r\n    MapCreator.prototype.getPickableName = function (textureName) {\r\n        switch (textureName) {\r\n            case \"pickable_clip\": return 'CLIP';\r\n            case \"pickable_dog_food\": return 'DOG_FOOD';\r\n            case \"pickable_blood\": return 'BLOOD';\r\n            case \"pickable_cross\": return 'CROSS';\r\n            case \"pickable_chalice\": return 'CHALICE';\r\n            case \"pickable_chest\": return 'CHEST';\r\n            case \"pickable_crown\": return 'CROWN';\r\n            case \"pickable_chicken_meal\": return 'CHICKEN_MEAL';\r\n            case \"pickable_extra_life\": return 'EXTRA_LIFE';\r\n            case \"pickable_bloody_skeleton\": return 'BLOODY_SKELETON';\r\n            case \"pickable_key_silver\": return 'KEY_SILVER';\r\n            case \"pickable_key_gold\": return 'KEY_GOLD';\r\n            case \"pickable_first_aid_kit\": return 'FIRST_AID_KIT';\r\n            case \"pickable_machinegun\": return 'MACHINEGUN';\r\n            case \"pickable_chaingun\": return 'CHAINGUN';\r\n        }\r\n    };\r\n    MapCreator.prototype.fillField = function (field) {\r\n        if (this.activeElement.type == 'player' && this.inFields('player')) {\r\n            return;\r\n        }\r\n        // if ((this.activeElement.type != 'player' || !this.inFields('player')) || (this.activeElement.type != 'end' && !this.inFields('end'))) || ( )) {\r\n        field.setData({\r\n            type: this.activeElement.type,\r\n            texture: this.activeElement.texture,\r\n            name: this.activeElement.name,\r\n            look: this.activeElement.look\r\n        });\r\n        field.setImg(this.activeElement);\r\n        if (this.activeElement.type == 'target') {\r\n            field.setParent(this.activeElement.from);\r\n            this.activeElement.from.setChild(field);\r\n            this.activeElement = undefined;\r\n        }\r\n        // }\r\n    };\r\n    MapCreator.prototype.inFields = function (type) {\r\n        return this.fieldsList.flat().filter(function (e) { return e.data && e.data.type == type; }).length != 0;\r\n    };\r\n    MapCreator.prototype.createNewGameMap = function () {\r\n        var mapData = this.toMapObject();\r\n        if (mapData != null) {\r\n            this.board.innerHTML = '';\r\n            this.active();\r\n            this.parent.creatorActive = false;\r\n            this.parent.createLevel(JSON.stringify(mapData));\r\n        }\r\n        else {\r\n            alert(\"NIE STWORZONO PLAYERA\");\r\n        }\r\n    };\r\n    MapCreator.prototype.updateFieldsSize = function () {\r\n        var fieldSize = Math.min((this.boardArea.clientHeight - 20) / this.currY, (this.boardArea.clientWidth - 20) / this.currX);\r\n        this.fieldsList.flat().forEach(function (e) {\r\n            e.setSize(fieldSize);\r\n            e.updateBackgroundSize();\r\n        });\r\n    };\r\n    MapCreator.prototype.toMapObject = function () {\r\n        var array = [];\r\n        var playerFound = false;\r\n        this.fieldsList.flat().forEach(function (e) {\r\n            if (e.data) {\r\n                if (e.data.type == \"player\")\r\n                    playerFound = true;\r\n                if (e.data.type != 'target') {\r\n                    array.push({\r\n                        x: e.x,\r\n                        z: e.y,\r\n                        type: e.data.type,\r\n                        texture: e.data.texture,\r\n                        name: e.data.name ? e.data.name : undefined,\r\n                        look: e.data.look ? e.data.look : undefined,\r\n                        goTo: e.child ? { x: e.child.x, z: e.child.y } : undefined,\r\n                        alive: e.alive != undefined ? e.alive : undefined,\r\n                        difficulty: e.difficulty != undefined ? e.difficulty : undefined\r\n                    });\r\n                }\r\n            }\r\n        });\r\n        array = __spreadArray(__spreadArray(__spreadArray([], array.filter(function (e) { return e.type == 'wall'; }), true), array.filter(function (e) { return e.type == \"door\"; }), true), array.filter(function (e) { return e.type != 'wall' && e.type != \"door\"; }), true);\r\n        var data = {\r\n            sizeX: this.currX,\r\n            sizeY: this.currY,\r\n            objectData: array\r\n        };\r\n        return playerFound ? data : null;\r\n    };\r\n    MapCreator.prototype.generateJSON = function () {\r\n        var mapData = this.toMapObject();\r\n        if (mapData != null) {\r\n            var name_3 = prompt('Podaj nazwę pliku');\r\n            name_3 = name_3 == '' ? 'level' : name_3;\r\n            var jsonData = JSON.stringify(mapData);\r\n            var blob = new Blob([jsonData], { type: \"application/json\" });\r\n            var url = URL.createObjectURL(blob);\r\n            var a = document.createElement(\"a\");\r\n            a.href = url;\r\n            a.download = name_3;\r\n            a.click();\r\n        }\r\n        else {\r\n            alert(\"NIE STWORZONO PLAYERA\");\r\n        }\r\n    };\r\n    MapCreator.prototype.importJSON = function () {\r\n        var _this = this;\r\n        var reader = new FileReader();\r\n        reader.onload = function (e) {\r\n            //@ts-ignore\r\n            var newData = JSON.parse(e.currentTarget.result);\r\n            _this.generateMapFromJSON(newData);\r\n        };\r\n        var fileInput = document.createElement('input');\r\n        fileInput.type = \"file\";\r\n        fileInput.onchange = function () {\r\n            var file = fileInput.files[0];\r\n            reader.readAsText(file, 'utf-8');\r\n        };\r\n        fileInput.click();\r\n    };\r\n    MapCreator.prototype.generateMapFromJSON = function (data) {\r\n        this.createCreator(data.sizeX, data.sizeY);\r\n        var _loop_3 = function (item) {\r\n            var currItem = data.objectData[item];\r\n            var imgData = this_2.getImgInfo(currItem.type);\r\n            var field = this_2.fieldsList.flat().find(function (e) { return e.x == currItem.x && e.y == currItem.z; });\r\n            if (field) {\r\n                field.setData({\r\n                    type: currItem.type,\r\n                    texture: currItem.texture,\r\n                    name: currItem.name ? currItem.name : undefined,\r\n                    look: currItem.look ? currItem.look : undefined,\r\n                });\r\n                if (currItem.goTo) {\r\n                    var target = this_2.fieldsList.flat().find(function (e) { return e.x == currItem.goTo.x && e.y == currItem.goTo.z; });\r\n                    if (target) {\r\n                        this_2.setSpecialTarget(field);\r\n                        this_2.fillField(target);\r\n                    }\r\n                }\r\n                if (currItem.alive != undefined) {\r\n                    this_2.changeAliveStatus(field, currItem.alive);\r\n                }\r\n                if (currItem.difficulty != undefined) {\r\n                    this_2.changeDifficulty(field, currItem.difficulty);\r\n                }\r\n                if (currItem.look) {\r\n                    this_2.changeDirection(field, currItem.look);\r\n                }\r\n                field.setImg({\r\n                    type: currItem.type,\r\n                    texture: currItem.texture,\r\n                    imgUrl: imgData.imgURL,\r\n                    imgSizeX: imgData.imgData.sizeX,\r\n                    imgSizeY: imgData.imgData.sizeY,\r\n                    x: imgData.imgData.pos[currItem.texture].x,\r\n                    y: imgData.imgData.pos[currItem.texture].y,\r\n                    name: currItem.name ? currItem.name : undefined,\r\n                    difficulty: null,\r\n                    alive: null\r\n                });\r\n            }\r\n        };\r\n        var this_2 = this;\r\n        for (var item in data.objectData) {\r\n            _loop_3(item);\r\n        }\r\n    };\r\n    MapCreator.prototype.getImgInfo = function (type) {\r\n        switch (type) {\r\n            case 'wall': {\r\n                return { imgURL: Library.instance.graphics.WALL.src, imgData: Library.instance.data.graphicsData.WALL };\r\n            }\r\n            case 'door': {\r\n                return { imgURL: Library.instance.graphics.WALL.src, imgData: Library.instance.data.graphicsData.WALL };\r\n            }\r\n            case 'player': {\r\n                return { imgURL: Library.instance.graphics.PLAYER.src, imgData: Library.instance.data.graphicsData.PLAYER };\r\n            }\r\n            case 'enemy': {\r\n                return { imgURL: Library.instance.graphics.ENEMY.src, imgData: Library.instance.data.graphicsData.ENEMY };\r\n            }\r\n            case 'pickable': {\r\n                return { imgURL: Library.instance.graphics.OBJECT.src, imgData: Library.instance.data.graphicsData.OBJECT };\r\n            }\r\n            case 'furniture': {\r\n                return { imgURL: Library.instance.graphics.OBJECT.src, imgData: Library.instance.data.graphicsData.OBJECT };\r\n            }\r\n            case 'end': {\r\n                return { imgURL: Library.instance.graphics.MAPCREATOR.src, imgData: Library.instance.data.graphicsData.MAPCREATOR };\r\n            }\r\n        }\r\n    };\r\n    MapCreator.prototype.createAdditionalMenu = function (e, field) {\r\n        var _this = this;\r\n        var addMenu = document.getElementById('additionalMenu');\r\n        if (addMenu)\r\n            this.removeAddMenu(addMenu);\r\n        var additionalMenu = document.createElement('div');\r\n        additionalMenu.id = \"additionalMenu\";\r\n        this.boardArea.appendChild(additionalMenu);\r\n        var menuTitle = document.createElement('div');\r\n        menuTitle.id = 'additionalMenuTitle';\r\n        menuTitle.innerHTML = field.data.type.toUpperCase();\r\n        additionalMenu.appendChild(menuTitle);\r\n        var closeBtn = document.createElement('div');\r\n        closeBtn.id = 'additionalMenuClose';\r\n        closeBtn.innerHTML = \"X\";\r\n        menuTitle.appendChild(closeBtn);\r\n        var menuContext = document.createElement('div');\r\n        menuContext.id = 'additionalMenuContext';\r\n        additionalMenu.appendChild(menuContext);\r\n        if (field.data.type != 'wall') {\r\n            var directionLabel = document.createElement('label');\r\n            directionLabel.classList.add('enemyMenuCreatorLabel');\r\n            directionLabel.innerText = \"Direction:\";\r\n            menuContext.appendChild(directionLabel);\r\n            var direction_1 = document.createElement('select');\r\n            direction_1.id = 'enemyDirection';\r\n            directionLabel.appendChild(direction_1);\r\n            ['UP', \"LEFT\", \"DOWN\", \"RIGHT\"].forEach(function (e) {\r\n                var option = document.createElement('option');\r\n                option.value = e;\r\n                option.innerHTML = e;\r\n                field.data.look == e ? option.selected = true : null;\r\n                direction_1.appendChild(option);\r\n            });\r\n            direction_1.onchange = function () { _this.changeDirection(field, direction_1.value); };\r\n        }\r\n        if (field.data.type == 'enemy') {\r\n            var aliveLabel = document.createElement('label');\r\n            aliveLabel.classList.add('enemyMenuCreatorLabel');\r\n            aliveLabel.innerText = \"Alive:\";\r\n            menuContext.appendChild(aliveLabel);\r\n            var alive_1 = document.createElement('select');\r\n            alive_1.id = \"enemyAlive\";\r\n            aliveLabel.appendChild(alive_1);\r\n            ['TRUE', 'FALSE'].forEach(function (e) {\r\n                var option = document.createElement('option');\r\n                option.value = e;\r\n                option.innerHTML = e;\r\n                field.alive == false && e == 'FALSE' ? option.selected = true : null;\r\n                alive_1.appendChild(option);\r\n            });\r\n            alive_1.onchange = function () { _this.changeAliveStatus(field, alive_1.value == \"TRUE\"); };\r\n            var difficultyLabel = document.createElement('label');\r\n            difficultyLabel.classList.add('enemyMenuCreatorLabel');\r\n            difficultyLabel.innerText = \"On difficulty:\";\r\n            menuContext.appendChild(difficultyLabel);\r\n            var difficulty_1 = document.createElement('select');\r\n            difficulty_1.id = 'enemySpawnDiff';\r\n            difficultyLabel.appendChild(difficulty_1);\r\n            [1, 2, 3, 4].forEach(function (e) {\r\n                var option = document.createElement('option');\r\n                option.value = e.toString();\r\n                option.innerHTML = e.toString();\r\n                field.difficulty && e == field.difficulty ? option.selected = true : null;\r\n                difficulty_1.appendChild(option);\r\n            });\r\n            difficulty_1.onchange = function () { _this.changeDifficulty(field, parseInt(difficulty_1.value)); };\r\n        }\r\n        if (field.data.type != 'player') {\r\n            var target = document.createElement('button');\r\n            target.id = 'additionalMenuTargetBtn';\r\n            target.innerHTML = \"SET TARGET\";\r\n            menuContext.appendChild(target);\r\n            target.onclick = function () { _this.setSpecialTarget(field, additionalMenu); };\r\n        }\r\n        closeBtn.onclick = function () {\r\n            _this.removeAddMenu(additionalMenu);\r\n        };\r\n    };\r\n    MapCreator.prototype.removeAddMenu = function (menu) {\r\n        this.boardArea.removeChild(menu);\r\n    };\r\n    MapCreator.prototype.setSpecialTarget = function (field, menu) {\r\n        if (menu)\r\n            this.removeAddMenu(menu);\r\n        this.activeElement = {\r\n            type: 'target',\r\n            texture: field.data.type == 'wall' ? 'wall_target' : 'enemy_target',\r\n            imgUrl: Library.instance.graphics.MAPCREATOR.src,\r\n            imgSizeX: Library.instance.data.graphicsData.MAPCREATOR.sizeX,\r\n            imgSizeY: Library.instance.data.graphicsData.MAPCREATOR.sizeY,\r\n            x: field.data.type == 'wall' ? 1 : 0,\r\n            y: 0,\r\n            from: field,\r\n            difficulty: undefined,\r\n            alive: undefined\r\n        };\r\n    };\r\n    MapCreator.prototype.changeDirection = function (field, dir) {\r\n        field.data.look = dir;\r\n        if (dir == 'DOWN') {\r\n            field.rotateBackground(0);\r\n        }\r\n        else if (dir == 'LEFT') {\r\n            field.rotateBackground(90);\r\n        }\r\n        else if (dir == 'UP') {\r\n            field.rotateBackground(180);\r\n        }\r\n        else {\r\n            field.rotateBackground(270);\r\n        }\r\n        ;\r\n    };\r\n    MapCreator.prototype.changeDifficulty = function (field, diff) {\r\n        field.setDifficulty(diff);\r\n    };\r\n    MapCreator.prototype.changeAliveStatus = function (field, bool) {\r\n        field.setAlive(bool);\r\n    };\r\n    return MapCreator;\r\n}());\r\nexport default MapCreator;\r\n","import Vector3 from \"../Vector3\";\r\nvar PathField = /** @class */ (function () {\r\n    function PathField(x, z) {\r\n        this.x = x;\r\n        this.z = z;\r\n        this.gCost = 0;\r\n        this.hCost = 0;\r\n        this.fCost = 0;\r\n        this.block = false;\r\n    }\r\n    PathField.prototype.clearCosts = function () {\r\n        this.gCost = 0;\r\n        this.hCost = 0;\r\n        this.fCost = 0;\r\n        this.parent = undefined;\r\n    };\r\n    PathField.prototype.setGCost = function (v) {\r\n        this.gCost = v;\r\n    };\r\n    PathField.prototype.setHCost = function (v) {\r\n        this.hCost = v;\r\n    };\r\n    PathField.prototype.calcFCost = function () {\r\n        this.fCost = this.gCost + this.hCost;\r\n    };\r\n    PathField.prototype.distance = function (target) {\r\n        return Math.abs(target.x - this.x) + Math.abs(target.z - this.z);\r\n    };\r\n    PathField.prototype.advanceDistance = function (target) {\r\n        return Vector3.distance(new Vector3(this.x, 0, this.z), new Vector3(target.x, 0, target.z));\r\n    };\r\n    return PathField;\r\n}());\r\nexport default PathField;\r\n","import { config } from \"../../Config\";\r\nimport Vector3 from \"../Vector3\";\r\nimport PathField from \"./PathField\";\r\nvar PathFinder = /** @class */ (function () {\r\n    function PathFinder(levelCreator) {\r\n        this.levelCreator = levelCreator;\r\n        this.blockObj = [];\r\n        this.baseTab = [];\r\n    }\r\n    PathFinder.prototype.updateObjects = function (ob) {\r\n        this.blockObj = ob;\r\n        this.prepareBaseTab();\r\n    };\r\n    PathFinder.prototype.clearCosts = function () {\r\n        this.baseTab.map(function (x) { return x.map(function (z) { return z.clearCosts(); }); });\r\n    };\r\n    PathFinder.prototype.prepareBaseTab = function () {\r\n        var _this = this;\r\n        this.baseTab = [];\r\n        for (var x = 0; x < (this.levelCreator.mapSizeX + 2); x++) {\r\n            this.baseTab[x] = [];\r\n            for (var z = 0; z < (this.levelCreator.mapSizeZ + 2); z++) {\r\n                this.baseTab[x][z] = new PathField(x, z);\r\n            }\r\n        }\r\n        this.blockObj.forEach(function (e) {\r\n            var pos = _this.toBasePathPosition(e.pos);\r\n            _this.baseTab[pos.x][pos.z].block = true;\r\n        });\r\n    };\r\n    PathFinder.prototype.toBasePathPosition = function (vec) {\r\n        return new Vector3(vec.x / config.wallSize, vec.y, vec.z / config.wallSize);\r\n    };\r\n    PathFinder.prototype.toAdvancePathPosition = function (vec) {\r\n        vec = vec.clone().add(new Vector3(config.wallSize / 2, 0, config.wallSize / 2));\r\n        var newX = (vec.x - (vec.x % config.wallSize)) / config.wallSize;\r\n        var newZ = (vec.z - (vec.z % config.wallSize)) / config.wallSize;\r\n        return new Vector3(newX, 0, newZ);\r\n    };\r\n    PathFinder.prototype.inGoodRange = function (x, z) {\r\n        if (x >= 0 && x <= this.baseTab.length - 1 && z >= 0 && z <= this.baseTab[x].length - 1) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    PathFinder.prototype.findPath = function (from, target) {\r\n        this.clearCosts();\r\n        var startPos = this.toAdvancePathPosition(from);\r\n        var endPos = this.toAdvancePathPosition(target);\r\n        var start = this.baseTab.flat().find(function (e) { return e.x == startPos.x && e.z == startPos.z; });\r\n        var end = this.baseTab.flat().find(function (e) { return e.x == endPos.x && e.z == endPos.z; });\r\n        var openTab = [start];\r\n        var closeTab = [];\r\n        var targetFound = false;\r\n        do {\r\n            var list = openTab.sort(function (a, b) { return a.fCost - b.fCost; });\r\n            var current = list[0];\r\n            openTab.splice(openTab.indexOf(current), 1);\r\n            closeTab.push(current);\r\n            if (current == end) {\r\n                targetFound = true;\r\n                openTab = [];\r\n            }\r\n            else {\r\n                for (var i = -1; i <= 1; i++) {\r\n                    for (var j = -1; j <= 1; j++) {\r\n                        if (this.inGoodRange(current.x + i, current.z + j) && (i == 0 || j == 0)) {\r\n                            if (i == 0 && j == 0) { }\r\n                            else {\r\n                                var neigh = this.baseTab[current.x + i][current.z + j];\r\n                                if (neigh && current && start && end && neigh.block == false && closeTab.includes(neigh) == false) {\r\n                                    var neighGCost = neigh.advanceDistance(current) + current.gCost;\r\n                                    var neighHCost = neigh.advanceDistance(end);\r\n                                    var neighFCost = neighGCost + neighHCost;\r\n                                    if (openTab.includes(neigh) == false || neigh.fCost > neighFCost || (neigh.fCost == neighFCost && neighHCost < neigh.hCost)) {\r\n                                        neigh.setGCost(neighGCost);\r\n                                        neigh.setHCost(neighHCost);\r\n                                        neigh.calcFCost();\r\n                                        neigh.parent = current;\r\n                                        if (openTab.includes(neigh) == false) {\r\n                                            openTab.push(neigh);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } while (openTab.length > 0);\r\n        var tab = [];\r\n        var field = end;\r\n        while (field && field.parent) {\r\n            tab.push(field);\r\n            field = field.parent;\r\n        }\r\n        tab = tab.reverse();\r\n        return tab;\r\n    };\r\n    return PathFinder;\r\n}());\r\nexport default PathFinder;\r\n","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport { animNames, config, enemyActionTypes, EnemyData, pickablesNames, weaponTypes } from \"../Config\";\r\nimport Door from \"./objects/Door\";\r\nimport Enemy from \"./objects/Enemy\";\r\nimport Wall from \"./objects/Wall\";\r\nimport Vector3 from \"./Vector3\";\r\nimport Weapon from \"./objects/Weapon\";\r\nimport Pickable from \"./objects/Pickable\";\r\nimport PathFinder from \"./PathFinder/PathFinder\";\r\nimport Furniture from \"./objects/Furniture\";\r\nimport End from \"./objects/End\";\r\nvar LevelCreator = /** @class */ (function () {\r\n    function LevelCreator(scene, camera, animationManager) {\r\n        this.scene = scene;\r\n        this.camera = camera;\r\n        this.animManager = animationManager;\r\n        this.difficulty = 1;\r\n        this.enemiesCount = 0;\r\n        this.treasuresCount = 0;\r\n        this.secretsCount = 0;\r\n        this.mapSizeX = 0;\r\n        this.mapSizeZ = 0;\r\n        this.objects = {\r\n            walls: [],\r\n            enemies: [],\r\n            doors: [],\r\n            pickables: [],\r\n            furnitures: [],\r\n            end: []\r\n        };\r\n        this.pathFinder = new PathFinder(this);\r\n    }\r\n    LevelCreator.prototype.reset = function () {\r\n        this.scene.clear();\r\n        this.animManager.animations = [];\r\n        this.enemiesCount = 0;\r\n        this.treasuresCount = 0;\r\n        this.secretsCount = 0;\r\n        this.objects = {\r\n            walls: [],\r\n            enemies: [],\r\n            doors: [],\r\n            pickables: [],\r\n            furnitures: [],\r\n            end: []\r\n        };\r\n    };\r\n    LevelCreator.prototype.setDifficulty = function (num) {\r\n        this.difficulty = num;\r\n    };\r\n    LevelCreator.prototype.createLvl = function (data, newGame) {\r\n        var _this = this;\r\n        if (newGame === void 0) { newGame = false; }\r\n        this.reset();\r\n        var mapData = JSON.parse(data);\r\n        this.mapSizeX = mapData.sizeX;\r\n        this.mapSizeZ = mapData.sizeY;\r\n        mapData.objectData.forEach(function (e, i) {\r\n            switch (e.type) {\r\n                case \"player\": {\r\n                    _this.camera.pos = new Vector3(e.x * config.wallSize, _this.camera.pos.y, e.z * config.wallSize);\r\n                    _this.camera.respawn(newGame);\r\n                    if (e.look) {\r\n                        switch (e.look) {\r\n                            case 'UP':\r\n                                _this.camera.rotation.y = 0;\r\n                                break;\r\n                            case 'LEFT':\r\n                                _this.camera.rotation.y = Math.PI / 2;\r\n                                break;\r\n                            case 'DOWN':\r\n                                _this.camera.rotation.y = Math.PI;\r\n                                break;\r\n                            case 'RIGHT':\r\n                                _this.camera.rotation.y = 3 * Math.PI / 2;\r\n                                break;\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n                case \"wall\": {\r\n                    var wall = new Wall(e.x * config.wallSize, 0, e.z * config.wallSize, config.wallSize);\r\n                    wall.textureSet(wall.texture, e.texture);\r\n                    if (e.goTo) {\r\n                        wall.setAsSecretWall(new Vector3(e.goTo.x * config.wallSize, 0, e.goTo.z * config.wallSize));\r\n                        _this.secretsCount++;\r\n                    }\r\n                    _this.scene.add(wall);\r\n                    _this.objects.walls.push(wall);\r\n                    break;\r\n                }\r\n                case \"enemy\": {\r\n                    if (e.difficulty == undefined || e.difficulty <= _this.difficulty) {\r\n                        var name_1 = e.name ? e.name : \"GUARD\";\r\n                        var enemy = new Enemy(_this, _this.pathFinder, _this.animManager, e.x * config.wallSize, 0, e.z * config.wallSize, config.wallSize, enemyActionTypes.RUN, EnemyData[name_1]);\r\n                        enemy.textureSet(enemy.texture, e.texture);\r\n                        enemy.setDMG(config.enemyDMG / (5 - _this.difficulty));\r\n                        if (e.alive == false) {\r\n                            enemy.dead = true;\r\n                            enemy.textureSet(enemy.texture, 'enemy_dead_5');\r\n                        }\r\n                        else {\r\n                            _this.enemiesCount++;\r\n                            if (e.goTo) {\r\n                                _this.animManager.add(enemy, animNames.ENEMY_RUN);\r\n                                enemy.setPatrol(new Vector3(e.goTo.x * config.wallSize, 0, e.goTo.z * config.wallSize));\r\n                            }\r\n                            else {\r\n                                _this.animManager.add(enemy, animNames.ENEMY_STAND);\r\n                            }\r\n                            if (e.look) {\r\n                                switch (e.look) {\r\n                                    case 'UP':\r\n                                        enemy.rotation.y = 0;\r\n                                        break;\r\n                                    case 'LEFT':\r\n                                        enemy.rotation.y = Math.PI / 2;\r\n                                        break;\r\n                                    case 'DOWN':\r\n                                        enemy.rotation.y = Math.PI;\r\n                                        break;\r\n                                    case 'RIGHT':\r\n                                        enemy.rotation.y = 3 * Math.PI / 2;\r\n                                        break;\r\n                                }\r\n                            }\r\n                        }\r\n                        _this.scene.add(enemy);\r\n                        _this.objects.enemies.push(enemy);\r\n                    }\r\n                    break;\r\n                }\r\n                case \"door\": {\r\n                    _this.checkDoorConditions(e);\r\n                    break;\r\n                }\r\n                case \"pickable\": {\r\n                    var pickable = new Pickable(pickablesNames[e.name].action, e.x * config.wallSize, 0, e.z * config.wallSize, config.wallSize);\r\n                    pickable.textureSet(pickable.texture, e.texture);\r\n                    _this.scene.add(pickable);\r\n                    _this.objects.pickables.push(pickable);\r\n                    if (config.treasuresNames.includes(e.name)) {\r\n                        _this.treasuresCount++;\r\n                    }\r\n                    break;\r\n                }\r\n                case \"furniture\": {\r\n                    var furnit = new Furniture(e.x * config.wallSize, 0, e.z * config.wallSize, config.wallSize);\r\n                    furnit.textureSet(furnit.texture, e.texture);\r\n                    _this.scene.add(furnit);\r\n                    _this.objects.furnitures.push(furnit);\r\n                    break;\r\n                }\r\n                case \"end\": {\r\n                    var neighPos = [\r\n                        new Vector3((e.x - 1) * config.wallSize, 0, e.z * config.wallSize),\r\n                        new Vector3((e.x + 1) * config.wallSize, 0, e.z * config.wallSize),\r\n                        new Vector3(e.x * config.wallSize, 0, (e.z - 1) * config.wallSize),\r\n                        new Vector3(e.x * config.wallSize, 0, (e.z + 1) * config.wallSize)\r\n                    ];\r\n                    var neigh_1 = [];\r\n                    var objL_1 = __spreadArray(__spreadArray([], _this.objects.walls, true), _this.objects.doors, true);\r\n                    neighPos.forEach(function (e) {\r\n                        var ob = objL_1.find(function (o) { return o.pos.isEval(e); });\r\n                        if (ob)\r\n                            neigh_1.push(ob);\r\n                    });\r\n                    var end = new End(e.x * config.wallSize, 0, e.z * config.wallSize, config.wallSize, neigh_1);\r\n                    _this.objects.end.push(end);\r\n                    break;\r\n                }\r\n                default: {\r\n                    console.log(\"NEW OBJECT \" + e.type + \". MAYBE ADD?\");\r\n                }\r\n            }\r\n        });\r\n        for (var i = 0; i <= mapData.sizeX + 1; i++) {\r\n            for (var j = 0; j <= mapData.sizeY + 1; j++) {\r\n                if (i == 0 || i == mapData.sizeX + 1 || j == 0 || j == mapData.sizeY + 1) {\r\n                    var wall = new Wall(i * config.wallSize, 0, j * config.wallSize, config.wallSize);\r\n                    wall.textureSet(wall.texture, 'wall_wood');\r\n                    this.scene.add(wall);\r\n                    this.objects.walls.push(wall);\r\n                }\r\n            }\r\n        }\r\n        var weapon = new Weapon(weaponTypes.PISTOL, this.animManager);\r\n        weapon.textureSet(weapon.texture, \"weapon_default_\" + weapon.weaponID);\r\n        this.animManager.add(weapon, animNames.WEAPON_DEFAULT);\r\n        this.scene.add(weapon);\r\n        this.camera.weapon = weapon;\r\n        this.camera.preparePlayer();\r\n        this.pathFinder.updateObjects(__spreadArray(__spreadArray([], this.objects.walls, true), this.objects.furnitures.filter(function (e) { return config.noCollideFurnitures.includes(e.textureName) == false; }), true));\r\n        this.objects.enemies.forEach(function (e) {\r\n            if (e.patrolTarget) {\r\n                e.patrolArea();\r\n            }\r\n        });\r\n    };\r\n    LevelCreator.prototype.checkDoorConditions = function (data) {\r\n        var rotated = this.objects.walls.find(function (e) { return e.pos.x == data.x * config.wallSize - config.wallSize && e.pos.z == data.z * config.wallSize; }) === undefined;\r\n        var door = new Door(data.x * config.wallSize, 0, data.z * config.wallSize, config.wallSize, 0.08 * config.wallSize, rotated);\r\n        door.textureSet(door.texture, data.texture);\r\n        this.scene.add(door);\r\n        this.objects.doors.push(door);\r\n        if (rotated == false) {\r\n            door.textureSet(door.texture, data.texture, door.wallTypes.FRONT);\r\n            door.textureSet(door.texture, data.texture, door.wallTypes.BACK);\r\n            door.textureSet(door.texture, data.texture == 'door_front_1' ? 'door_side_1' : 'door_side_2', door.wallTypes.LEFT, false);\r\n            door.textureSet(door.texture, data.texture == 'door_front_1' ? 'door_side_1' : 'door_side_2', door.wallTypes.RIGHT, false);\r\n            var leftWall = this.objects.walls.find(function (e) { return e.pos.x == door.pos.x - config.wallSize && e.pos.z == door.pos.z; });\r\n            var rightWall = this.objects.walls.find(function (e) { return e.pos.x == door.pos.x + config.wallSize && e.pos.z == door.pos.z; });\r\n            if (leftWall && leftWall instanceof Wall) {\r\n                leftWall.textureSet(door.texture, 'wall_door', leftWall.wallTypes.RIGHT);\r\n            }\r\n            if (rightWall && rightWall instanceof Wall) {\r\n                rightWall.textureSet(door.texture, 'wall_door', rightWall.wallTypes.LEFT);\r\n            }\r\n        }\r\n        else {\r\n            door.rotation.rotateY(-Math.PI / 2);\r\n            door.textureSet(door.texture, data.texture, door.wallTypes.FRONT, true);\r\n            door.textureSet(door.texture, data.texture, door.wallTypes.BACK, true);\r\n            door.textureSet(door.texture, data.texture == 'door_front_1' ? 'door_side_1' : 'door_side_2', door.wallTypes.LEFT);\r\n            door.textureSet(door.texture, data.texture == 'door_front_1' ? 'door_side_1' : 'door_side_2', door.wallTypes.RIGHT);\r\n            var topWall = this.objects.walls.find(function (e) { return e.pos.x == door.pos.x && e.pos.z == door.pos.z - config.wallSize; });\r\n            var bottomWall = this.objects.walls.find(function (e) { return e.pos.x == door.pos.x && e.pos.z == door.pos.z + config.wallSize; });\r\n            if (topWall && topWall instanceof Wall) {\r\n                topWall.textureSet(door.texture, 'wall_door', topWall.wallTypes.FRONT);\r\n            }\r\n            if (bottomWall && bottomWall instanceof Wall) {\r\n                bottomWall.textureSet(door.texture, 'wall_door', bottomWall.wallTypes.BACK);\r\n            }\r\n        }\r\n    };\r\n    LevelCreator.prototype.addUsedClip = function (deathPoint) {\r\n        var minX = deathPoint.x - (deathPoint.x % config.wallSize) + config.wallSize * 0.05;\r\n        var maxX = deathPoint.x - (deathPoint.x % config.wallSize) + config.wallSize * 0.95;\r\n        var minZ = deathPoint.z - (deathPoint.z % config.wallSize) + config.wallSize * 0.05;\r\n        var maxZ = deathPoint.z - (deathPoint.z % config.wallSize) + config.wallSize * 0.95;\r\n        var randX = (Math.random() * config.usedAmmoSpawnRange * 2) - config.usedAmmoSpawnRange;\r\n        var randZ = (Math.random() * config.usedAmmoSpawnRange * 2) - config.usedAmmoSpawnRange;\r\n        var spawnX = Math.max(minX, Math.min(maxX, deathPoint.x + randX));\r\n        var spawnZ = Math.max(minZ, Math.min(maxZ, deathPoint.z + randZ));\r\n        var spawnPoint = new Vector3(spawnX, 0, spawnZ);\r\n        var pickable = new Pickable(pickablesNames.USED_CLIP.action, spawnPoint.x, spawnPoint.y, spawnPoint.z, config.wallSize);\r\n        pickable.textureSet(pickable.texture, \"pickable_clip\");\r\n        this.scene.add(pickable);\r\n        this.objects.pickables.push(pickable);\r\n    };\r\n    return LevelCreator;\r\n}());\r\nexport default LevelCreator;\r\n","var FPS = /** @class */ (function () {\r\n    function FPS() {\r\n        this.div = document.createElement('div');\r\n        this.div.id = \"FPS\";\r\n        document.body.appendChild(this.div);\r\n    }\r\n    FPS.prototype.updateFPS = function (fps) {\r\n        this.div.innerHTML = Math.floor(fps).toString() + \" fps\";\r\n    };\r\n    return FPS;\r\n}());\r\nexport default FPS;\r\n","import { config, hudImgNames } from \"../Config\";\r\nvar HudBarFace = /** @class */ (function () {\r\n    function HudBarFace() {\r\n        this.faceStatusIndex = 1;\r\n        this.direction = 2;\r\n        this.currentGraphic = undefined;\r\n        this.nextChange = Date.now() + config.faceRandomRangeSpeed * 4;\r\n        this.randomGraphic();\r\n    }\r\n    HudBarFace.prototype.randomGraphic = function () {\r\n        var _this = this;\r\n        if (this.faceStatusIndex == 8) {\r\n            this.direction = 2;\r\n        }\r\n        else {\r\n            var tab = [1, 2, 3].filter(function (e) { return e != _this.direction; });\r\n            this.direction = tab[Math.floor(Math.random() * tab.length)];\r\n        }\r\n        this.currentGraphic = hudImgNames.FACE.replace(\"_dir\", \"_\" + this.direction).replace(\"_id\", \"_\" + this.faceStatusIndex);\r\n        this.nextChange = Date.now() + (Math.random() * config.faceRandomRangeSpeed * 2) - config.faceRandomRangeSpeed + config.faceBaseChangeSpeed;\r\n    };\r\n    HudBarFace.prototype.checkFaceStatus = function (camera) {\r\n        if (camera.hp > 90)\r\n            return 1;\r\n        else if (camera.hp > 75)\r\n            return 2;\r\n        else if (camera.hp > 60)\r\n            return 3;\r\n        else if (camera.hp > 45)\r\n            return 4;\r\n        else if (camera.hp > 30)\r\n            return 5;\r\n        else if (camera.hp > 15)\r\n            return 6;\r\n        else if (camera.hp > 0)\r\n            return 7;\r\n        else\r\n            return 8;\r\n    };\r\n    HudBarFace.prototype.update = function (ctx, camera) {\r\n        var stat = this.checkFaceStatus(camera);\r\n        if (stat != this.faceStatusIndex) {\r\n            this.faceStatusIndex = stat;\r\n            this.randomGraphic();\r\n        }\r\n        else if (Date.now() > this.nextChange) {\r\n            this.randomGraphic();\r\n        }\r\n    };\r\n    return HudBarFace;\r\n}());\r\nexport default HudBarFace;\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { hudImgNames } from \"../Config\";\r\nimport Library from \"../Library\";\r\nimport Element2D from \"./Element2D\";\r\nimport HudBarFace from \"./HudBarFace\";\r\nvar HudBar = /** @class */ (function (_super) {\r\n    __extends(HudBar, _super);\r\n    function HudBar() {\r\n        var _this = _super.call(this) || this;\r\n        _this.img = Library.instance.graphics.HUD;\r\n        _this.x = Library.instance.data.graphics2DData.HUD.pos[hudImgNames.HUDBAR].x;\r\n        _this.y = Library.instance.data.graphics2DData.HUD.pos[hudImgNames.HUDBAR].y;\r\n        _this.w = Library.instance.data.graphics2DData.HUD.pos[hudImgNames.HUDBAR].w;\r\n        _this.h = Library.instance.data.graphics2DData.HUD.pos[hudImgNames.HUDBAR].h;\r\n        _this.hudBarFace = new HudBarFace();\r\n        _this.sizeMultip = 0;\r\n        _this.dyDigit = 0;\r\n        return _this;\r\n    }\r\n    HudBar.prototype.update = function (ctx, dest, camera, updFace) {\r\n        if (updFace === void 0) { updFace = true; }\r\n        if (updFace) {\r\n            this.hudBarFace.update(ctx, camera);\r\n        }\r\n        ctx.drawImage(this.img, this.x, this.y, this.w, this.h, dest.dx, dest.dy, dest.dWidth, dest.dHeight);\r\n        this.sizeMultip = dest.dWidth / this.w;\r\n        this.dyDigit = dest.dy + ((16 / 40) * dest.dHeight);\r\n        this.drawLevel(ctx, dest, camera);\r\n        this.drawScore(ctx, dest, camera);\r\n        this.drawLives(ctx, dest, camera);\r\n        this.drawHealt(ctx, dest, camera);\r\n        this.drawAmmo(ctx, dest, camera);\r\n        this.drawKeys(ctx, dest, camera);\r\n        this.drawWeapon(ctx, dest, camera);\r\n        this.drawFace(ctx, dest);\r\n    };\r\n    HudBar.prototype.drawLevel = function (ctx, dest, camera) {\r\n        var boxWidth = dest.dWidth / 9.6;\r\n        var boxX = dest.dWidth / 35;\r\n        var imgData = Library.instance.data.graphics2DData.HUD.pos[camera.level.toString()];\r\n        var dWidth = imgData.w * this.sizeMultip;\r\n        var dHeight = imgData.h * this.sizeMultip;\r\n        var dx = boxX + (boxWidth / 2 - dWidth / 2);\r\n        ctx.drawImage(this.img, imgData.x, imgData.y, imgData.w, imgData.h, dx, this.dyDigit, dWidth, dHeight);\r\n    };\r\n    HudBar.prototype.drawScore = function (ctx, dest, camera) {\r\n        var boxWidth = dest.dWidth / 5.84;\r\n        var boxX = dest.dWidth / 7.62;\r\n        var strScore = camera.points.toString().split('').reverse().join('');\r\n        this.drawDigits(ctx, strScore, boxWidth, boxX);\r\n    };\r\n    HudBar.prototype.drawLives = function (ctx, dest, camera) {\r\n        var boxWidth = dest.dWidth / 10.32;\r\n        var boxX = dest.dWidth / 3.165;\r\n        var imgData = Library.instance.data.graphics2DData.HUD.pos[camera.lives.toString()];\r\n        var dWidth = imgData.w * this.sizeMultip;\r\n        var dHeight = imgData.h * this.sizeMultip;\r\n        var dx = boxX + (boxWidth / 2 - dWidth / 2);\r\n        ctx.drawImage(this.img, imgData.x, imgData.y, imgData.w, imgData.h, dx, this.dyDigit, dWidth, dHeight);\r\n    };\r\n    HudBar.prototype.drawHealt = function (ctx, dest, camera) {\r\n        var boxWidth = dest.dWidth / 12.3;\r\n        var boxX = dest.dWidth / 1.93;\r\n        var strHp = camera.hp.toString().split('').reverse().join('');\r\n        this.drawDigits(ctx, strHp, boxWidth, boxX);\r\n    };\r\n    HudBar.prototype.drawAmmo = function (ctx, dest, camera) {\r\n        var boxWidth = dest.dWidth / 11.42;\r\n        var boxX = dest.dWidth / 1.56;\r\n        var strAmmo = camera.ammo.toString().split('').reverse().join('');\r\n        this.drawDigits(ctx, strAmmo, boxWidth, boxX);\r\n    };\r\n    HudBar.prototype.drawKeys = function (ctx, dest, camera) {\r\n        var boxX = dest.dWidth / 1.3333;\r\n        var boxY = dest.dWidth / 80;\r\n        var keyTab = [camera.goldKey, camera.silverKey];\r\n        for (var i = 0; i < keyTab.length; i++) {\r\n            if (keyTab[i]) {\r\n                var key = i == 0 ? hudImgNames.KEY_GOLD : hudImgNames.KEY_SILVER;\r\n                var imgData = Library.instance.data.graphics2DData.HUD.pos[key];\r\n                var dWidth = imgData.w * this.sizeMultip;\r\n                var dHeight = imgData.h * this.sizeMultip;\r\n                var dx = boxX;\r\n                var dy = dest.dy + boxY + (i * (dHeight + this.sizeMultip));\r\n                ctx.drawImage(this.img, imgData.x, imgData.y, imgData.w, imgData.h, dx, dy, dWidth, dHeight);\r\n            }\r\n        }\r\n    };\r\n    HudBar.prototype.drawWeapon = function (ctx, dest, camera) {\r\n        var boxWidth = dest.dWidth / 5.818;\r\n        var boxX = dest.dWidth / 1.285;\r\n        var boxY = dest.dWidth / 35.5;\r\n        var wID = camera.weapon.weaponID;\r\n        var weapon = wID == 1 ? hudImgNames.WEAPON_KNIFE : wID == 2 ? hudImgNames.WEAPON_PISTOL : wID == 3 ? hudImgNames.WEAPON_MACHINEGUN : hudImgNames.WEAPON_CHAINGUN;\r\n        var imgData = Library.instance.data.graphics2DData.HUD.pos[weapon];\r\n        var dWidth = imgData.w * this.sizeMultip;\r\n        var dHeight = imgData.h * this.sizeMultip;\r\n        var dx = boxX + boxWidth - dWidth;\r\n        var dy = dest.dy + boxY;\r\n        ctx.drawImage(this.img, imgData.x, imgData.y, imgData.w, imgData.h, dx, dy, dWidth, dHeight);\r\n    };\r\n    HudBar.prototype.drawFace = function (ctx, dest) {\r\n        var boxX = dest.dWidth / 2.353;\r\n        var boxY = dest.dWidth / 64;\r\n        var imgData = Library.instance.data.graphics2DData.HUD.pos[this.hudBarFace.currentGraphic];\r\n        var dWidth = imgData.w * this.sizeMultip;\r\n        var dHeight = imgData.h * this.sizeMultip;\r\n        var dx = boxX;\r\n        var dy = dest.dy + boxY;\r\n        ctx.drawImage(this.img, imgData.x, imgData.y, imgData.w, imgData.h, dx, dy, dWidth, dHeight);\r\n    };\r\n    HudBar.prototype.drawDigits = function (ctx, digits, boxWidth, boxX) {\r\n        for (var i = 0; i < digits.length; i++) {\r\n            var digit = digits[i];\r\n            var imgData = Library.instance.data.graphics2DData.HUD.pos[digit];\r\n            var dWidth = imgData.w * this.sizeMultip;\r\n            var dHeight = imgData.h * this.sizeMultip;\r\n            var dx = boxX + boxWidth - ((i + 1) * dWidth);\r\n            ctx.drawImage(this.img, imgData.x, imgData.y, imgData.w, imgData.h, dx, this.dyDigit, dWidth, dHeight);\r\n        }\r\n    };\r\n    return HudBar;\r\n}(Element2D));\r\nexport default HudBar;\r\n","import { hudImgNames, HUDStatus } from \"../Config\";\r\nimport Vector2 from \"../game/Vector2\";\r\nimport Library from \"../Library\";\r\nimport HudBar from \"./HudBar\";\r\nvar HUD = /** @class */ (function () {\r\n    function HUD(scene2d) {\r\n        this.scene2D = scene2d;\r\n        this.img = Library.instance.graphics.HUD;\r\n        this.fontImg = Library.instance.graphics.ENDFONT;\r\n        this.hudBar = new HudBar();\r\n        this.status = HUDStatus.LOADING;\r\n        this.endScreenLettersCanvas = document.createElement('canvas');\r\n        this.lettersPrepared = false;\r\n        this.lettersSize = 0;\r\n        this.addesBonusPoint = false;\r\n        this.endPlayerImg = 1;\r\n        this.lastEndPlayerChange = 0;\r\n        this.endPlayerChangeSpeed = 500;\r\n        this.endTime = 0;\r\n        this.endScreenStart = 0;\r\n        this.endScreenVisible = false;\r\n        this.loaderBar = 0;\r\n        this.sizeMultip = 0;\r\n    }\r\n    HUD.prototype.prepareLetters = function (ctx, camera) {\r\n        this.lettersSize = Library.instance.data.graphics2DData.ENDFONT.pos['A'].h * this.sizeMultip;\r\n        var fastCTX1 = this.endScreenLettersCanvas.getContext('2d');\r\n        this.endScreenLettersCanvas.width = ctx.canvas.width;\r\n        this.endScreenLettersCanvas.height = ctx.canvas.height;\r\n        this.drawLetters(fastCTX1, \"FLOOR 1\", ctx.canvas.width / 2.857, ctx.canvas.height / 12.5);\r\n        this.drawLetters(fastCTX1, \"COMPLETED\", ctx.canvas.width / 2.857, ctx.canvas.height / 6.25);\r\n        this.drawLetters(fastCTX1, \"BONUS\", ctx.canvas.width / 2.857, ctx.canvas.height / 3.571);\r\n        this.drawLetters(fastCTX1, \"TIME\", ctx.canvas.width / 2.5, ctx.canvas.height / 2.5);\r\n        this.drawLetters(fastCTX1, \"PAR 01:30\", ctx.canvas.width / 2.2222, ctx.canvas.height / 2.08333);\r\n        this.drawLetters(fastCTX1, \"    KILL RATIO\", ctx.canvas.width / 40, ctx.canvas.height / 1.7857);\r\n        this.drawLetters(fastCTX1, \"  SECRET RATIO\", ctx.canvas.width / 40, ctx.canvas.height / 1.562);\r\n        this.drawLetters(fastCTX1, \"TREASURE RATIO\", ctx.canvas.width / 40, ctx.canvas.height / 1.3888);\r\n        for (var i = 0; i < 3; i++) {\r\n            this.drawLetters(fastCTX1, \"%\", ctx.canvas.width / 1.0738, (ctx.canvas.height / 1.7857) + i * this.lettersSize);\r\n        }\r\n        this.lettersPrepared = true;\r\n    };\r\n    HUD.prototype.startLoader = function () {\r\n        this.status = HUDStatus.LOADING;\r\n        this.loaderBar = 0;\r\n    };\r\n    HUD.prototype.drawHUD = function (ctx, deltaTime, camera, scene3D, lvlCreator) {\r\n        var width = ctx.canvas.width;\r\n        var height = ctx.canvas.height;\r\n        var barH = width / 8;\r\n        this.sizeMultip = ctx.canvas.width / 320;\r\n        if (this.lettersPrepared == false) {\r\n            this.prepareLetters(ctx, camera);\r\n        }\r\n        ctx.beginPath();\r\n        ctx.fillStyle = 'rgb(0,64,64)';\r\n        ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n        ctx.fill();\r\n        var barDest = { dx: 0, dy: height - barH, dWidth: width, dHeight: barH };\r\n        this.hudBar.update(ctx, barDest, camera, this.status == HUDStatus.GAMEPLAY);\r\n        switch (this.status) {\r\n            case HUDStatus.LOADING: {\r\n                if (this.scene2D.smoothAction == false) {\r\n                    this.loader(deltaTime);\r\n                }\r\n                this.drawLoader(ctx);\r\n                this.endScreenVisible = false;\r\n                break;\r\n            }\r\n            case HUDStatus.GAMEPLAY: {\r\n                this.drawScene3D(ctx, scene3D);\r\n                this.endScreenVisible = false;\r\n                break;\r\n            }\r\n            case HUDStatus.ENDSCREEN: {\r\n                this.checkToChangeEndPlayer();\r\n                this.drawEndScreen(ctx, camera, lvlCreator);\r\n                break;\r\n            }\r\n        }\r\n        // this.drawScene3D(ctx, scene3D);\r\n        ctx.fill();\r\n        ctx.closePath();\r\n    };\r\n    HUD.prototype.checkToChangeEndPlayer = function () {\r\n        if (Date.now() > this.lastEndPlayerChange + this.endPlayerChangeSpeed) {\r\n            this.endPlayerImg = this.endPlayerImg == 1 ? 2 : 1;\r\n            this.lastEndPlayerChange = Date.now();\r\n        }\r\n    };\r\n    HUD.prototype.loader = function (deltaTime) {\r\n        var _this = this;\r\n        this.loaderBar = Math.min(1, this.loaderBar += 0.8 * deltaTime);\r\n        if (this.loaderBar == 1)\r\n            this.scene2D.enableSmoothAction(function () { _this.status = HUDStatus.GAMEPLAY; });\r\n    };\r\n    HUD.prototype.drawScene3D = function (ctx, scene3D) {\r\n        // rgb(56,56,56) 50%, rgb(112,112,112) 50%\r\n        var sceneW = scene3D.goodWidth;\r\n        var sceneH = scene3D.goodHeight;\r\n        var sceneBorderW = (sceneW / 388) * 3 / 2;\r\n        var sceneBorderH = sceneW / 388;\r\n        this.drawTriangle(ctx, new Vector2(scene3D.marginHorizontal - sceneBorderW, scene3D.marginVertical - sceneBorderH), new Vector2(scene3D.marginHorizontal + sceneW + sceneBorderW, scene3D.marginVertical - sceneBorderH), new Vector2(scene3D.marginHorizontal - sceneBorderW, scene3D.marginVertical + sceneH + sceneBorderH), 'rgb(0,0,0)');\r\n        this.drawTriangle(ctx, new Vector2(scene3D.marginHorizontal + sceneW + sceneBorderW, scene3D.marginVertical - sceneBorderH), new Vector2(scene3D.marginHorizontal - sceneBorderW, scene3D.marginVertical + sceneH + sceneBorderH), new Vector2(scene3D.marginHorizontal + sceneW + sceneBorderW, scene3D.marginVertical + sceneH + sceneBorderH), 'rgb(0,102,113)');\r\n        ctx.fillStyle = 'rgb(0,102,113)';\r\n        ctx.fillRect(scene3D.marginHorizontal - sceneBorderW, scene3D.marginVertical + sceneH, sceneBorderW, sceneBorderH);\r\n        ctx.fillRect(scene3D.marginHorizontal + sceneW, scene3D.marginVertical - sceneBorderH, sceneBorderW, sceneBorderH);\r\n        ctx.fillStyle = \"rgb(56,56,56)\";\r\n        ctx.fillRect(scene3D.marginHorizontal, scene3D.marginVertical, sceneW, sceneH / 2);\r\n        ctx.fillStyle = \"rgb(112,112,112)\";\r\n        ctx.fillRect(scene3D.marginHorizontal, scene3D.marginVertical + sceneH / 2, sceneW, sceneH / 2);\r\n        ctx.drawImage(scene3D.scene, scene3D.marginHorizontal, scene3D.marginVertical, sceneW, sceneH);\r\n    };\r\n    HUD.prototype.drawTriangle = function (ctx, p1, p2, p3, color) {\r\n        ctx.closePath();\r\n        ctx.beginPath();\r\n        ctx.moveTo(p1.x, p1.z);\r\n        ctx.lineTo(p2.x, p2.z);\r\n        ctx.lineTo(p3.x, p3.z);\r\n        ctx.fillStyle = color;\r\n        ctx.fill();\r\n        ctx.closePath();\r\n        ctx.beginPath();\r\n    };\r\n    HUD.prototype.drawLoader = function (ctx) {\r\n        var imgData = Library.instance.data.graphics2DData.HUD.pos[hudImgNames.LOADER];\r\n        var fullH = ctx.canvas.height * 7 / 8;\r\n        var dWidth = imgData.w * this.sizeMultip;\r\n        var dHeight = imgData.h * this.sizeMultip;\r\n        var dX = ctx.canvas.width / 2 - dWidth / 2;\r\n        var dY = fullH / 2 - dHeight / 2;\r\n        ctx.drawImage(this.img, imgData.x, imgData.y, imgData.w, imgData.h, dX, dY, dWidth, dHeight);\r\n        var progMargin = dWidth / 44.8;\r\n        var progWidth = (dWidth - 2 * progMargin) * this.loaderBar;\r\n        var progHeight = dHeight / 24;\r\n        var progDX = dX + progMargin;\r\n        var progDY = dY + (dHeight / 1.0666);\r\n        ctx.fillStyle = 'rgb(255,26,0)';\r\n        ctx.fillRect(progDX, progDY, progWidth, progHeight);\r\n        ctx.fillStyle = 'rgb(255,168,156)';\r\n        ctx.fillRect(progDX, progDY, progWidth - (dWidth / 320), progHeight / 2);\r\n    };\r\n    HUD.prototype.drawEndScreen = function (ctx, camera, lvlCreator) {\r\n        var _this = this;\r\n        ctx.beginPath();\r\n        ctx.drawImage(this.endScreenLettersCanvas, 0, 0);\r\n        ctx.closePath();\r\n        if (this.endScreenVisible == false) {\r\n            this.endScreenStart = Date.now();\r\n            this.endScreenVisible = true;\r\n            this.endTime = Date.now();\r\n            this.addesBonusPoint = false;\r\n        }\r\n        ;\r\n        var time = new Date(this.endTime - camera.startTime);\r\n        var min = time.getMinutes().toString().padStart(2, '0');\r\n        var sec = time.getSeconds().toString().padStart(2, '0');\r\n        var bonus = 0;\r\n        this.drawLetters(ctx, min + \":\" + sec, ctx.canvas.width / 1.5384, ctx.canvas.height / 2.5);\r\n        var killPercent = Math.min(100, Math.round(camera.killCount / lvlCreator.enemiesCount * 100)).toString().padStart(3, ' ');\r\n        var secretPercent = Math.min(100, Math.round(lvlCreator.objects.walls.filter(function (e) { return e.moved; }).length / lvlCreator.secretsCount * 100)).toString().padStart(3, ' ');\r\n        // let secretPercent = '100'.padStart(3, ' ');\r\n        var treasurePercent = Math.min(100, Math.round(camera.treasuresFound / lvlCreator.treasuresCount * 100)).toString().padStart(3, ' ');\r\n        [killPercent, secretPercent, treasurePercent].forEach(function (e, i) {\r\n            if (Date.now() > _this.endScreenStart + 1000 + (i * 500)) {\r\n                _this.drawLetters(ctx, e, ctx.canvas.width / 1.29, (ctx.canvas.height / 1.7857) + i * _this.lettersSize);\r\n            }\r\n            if (e == '100') {\r\n                bonus += 10000;\r\n            }\r\n            ;\r\n        });\r\n        var timeBonus = Math.max(0, 90000 - (this.endTime - camera.startTime));\r\n        bonus += Math.ceil(timeBonus / 1000) * 500;\r\n        if (this.addesBonusPoint == false) {\r\n            camera.points += bonus;\r\n            this.addesBonusPoint = true;\r\n        }\r\n        ;\r\n        var strBonus = bonus.toString().padStart(5, ' ');\r\n        this.drawLetters(ctx, strBonus, ctx.canvas.width / 1.5384, ctx.canvas.height / 3.5714);\r\n        this.drawPlayerSelfImage(ctx, ctx.canvas.width / 16, ctx.canvas.height / 12.5);\r\n    };\r\n    HUD.prototype.drawPlayerSelfImage = function (ctx, dX, dY) {\r\n        var imgData = Library.instance.data.graphics2DData.HUD.pos[hudImgNames.END_PLAYER.replace(\"_id\", \"_\" + this.endPlayerImg)];\r\n        var dWidth = imgData.w * this.sizeMultip;\r\n        var dHeight = imgData.h * this.sizeMultip;\r\n        ctx.fillStyle = 'rgb(0, 102, 113)';\r\n        ctx.fillRect((dX + dWidth / imgData.w), (dY + dHeight / imgData.h), dWidth, dHeight);\r\n        ctx.drawImage(this.img, imgData.x, imgData.y, imgData.w, imgData.h, dX, dY, dWidth, dHeight);\r\n    };\r\n    HUD.prototype.drawLetters = function (ctx, letters, dX, dY) {\r\n        var neededCanvas = document.createElement('canvas');\r\n        neededCanvas.width = ctx.canvas.width;\r\n        neededCanvas.height = ctx.canvas.height;\r\n        var neededCTX = neededCanvas.getContext('2d');\r\n        //@ts-ignore\r\n        neededCTX.mozImageSmoothingEnabled = false;\r\n        neededCTX.imageSmoothingEnabled = false;\r\n        var pos = 0;\r\n        for (var i = 0; i < letters.length; i++) {\r\n            var letter = letters[i];\r\n            if (letter == \" \") {\r\n                pos += 16 * this.sizeMultip;\r\n            }\r\n            else {\r\n                var imgData = Library.instance.data.graphics2DData.ENDFONT.pos[letter];\r\n                var dWidth = imgData.w * this.sizeMultip;\r\n                var dHeight = imgData.h * this.sizeMultip;\r\n                var newDX = dX + pos;\r\n                pos += dWidth;\r\n                neededCTX.drawImage(this.fontImg, imgData.x, imgData.y, imgData.w, imgData.h, newDX, dY, dWidth, dHeight);\r\n            }\r\n        }\r\n        ctx.beginPath();\r\n        ctx.drawImage(neededCanvas, 0, 0);\r\n        ctx.closePath();\r\n    };\r\n    return HUD;\r\n}());\r\nexport default HUD;\r\n","var RedPixel = /** @class */ (function () {\r\n    function RedPixel(x, y, width) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.width = width;\r\n    }\r\n    return RedPixel;\r\n}());\r\nexport default RedPixel;\r\n","import { MenuDifficultyOptions, menuFontColors, MenuImgNames, MenuOptionsOptions, MenuScreens } from \"../Config\";\r\nimport Library from \"../Library\";\r\nvar Menu = /** @class */ (function () {\r\n    function Menu() {\r\n        // this.screenID = MenuScreens.CHOOSE_DIFFICULTY;\r\n        this.screenID = MenuScreens.BLUEINFO;\r\n        this.img = Library.instance.graphics.MENU;\r\n        this.fontImg = Library.instance.graphics.MENUFONT;\r\n        this.optionsLettersCanvas = document.createElement('canvas');\r\n        this.episodesLettersCanvas = document.createElement('canvas');\r\n        this.difficultiesLettersCanvas = document.createElement('canvas');\r\n        this.lettersPrepared = false;\r\n        this.lettersSize = 0;\r\n        this.selectedOption = 1;\r\n        this.currentOptions = undefined;\r\n        this.enableSpecial = false;\r\n        this.pistolTexture = MenuImgNames.MENU_PISTOL_1;\r\n        this.pistolAnimChange = 1000;\r\n        this.lastPistolChange = 0;\r\n        this.sizeMultip = 0;\r\n    }\r\n    Menu.prototype.prepareLettersCanvas = function (ctx, enableSpecial) {\r\n        var _this = this;\r\n        if (enableSpecial === void 0) { enableSpecial = false; }\r\n        this.lettersSize = Library.instance.data.graphics2DData.MENUFONT.pos['A'].h * this.sizeMultip / 2;\r\n        var fastCTX1 = this.optionsLettersCanvas.getContext('2d');\r\n        this.optionsLettersCanvas.width = ctx.canvas.width;\r\n        this.optionsLettersCanvas.height = ctx.canvas.height;\r\n        Object.keys(MenuOptionsOptions).forEach(function (e, i) {\r\n            var optionInfo = MenuOptionsOptions[e];\r\n            var color = enableSpecial && optionInfo.special ? menuFontColors.special : optionInfo.active == false ? menuFontColors.inactive : optionInfo.special ? menuFontColors.special : menuFontColors.active;\r\n            _this.drawLetters(fastCTX1, _this.toMenuString(e), ctx.canvas.width / 3.2, ctx.canvas.height / 3.571, i, color);\r\n        });\r\n        var fastCTX2 = this.difficultiesLettersCanvas.getContext('2d');\r\n        this.difficultiesLettersCanvas.width = ctx.canvas.width;\r\n        this.difficultiesLettersCanvas.height = ctx.canvas.height;\r\n        this.drawLetters(fastCTX2, 'How tought are you?', ctx.canvas.width / 4.6, ctx.canvas.height / 2.94, 0, menuFontColors.special);\r\n        Object.keys(MenuDifficultyOptions).forEach(function (e, i) {\r\n            var color = menuFontColors.active;\r\n            _this.drawLetters(fastCTX2, e, ctx.canvas.width / 4.05, ctx.canvas.height / 2, i, color);\r\n        });\r\n        this.lettersPrepared = true;\r\n    };\r\n    Menu.prototype.draw = function (ctx, deltaTime) {\r\n        this.sizeMultip = ctx.canvas.width / 320;\r\n        ctx.beginPath();\r\n        switch (this.screenID) {\r\n            case MenuScreens.BLUEINFO:\r\n                this.drawBlueScreen(ctx);\r\n                break;\r\n            case MenuScreens.GAME_TITLE:\r\n                this.drawGameTitleScreen(ctx);\r\n                break;\r\n            case MenuScreens.CREDITS:\r\n                this.drawCreditsScreen(ctx);\r\n                break;\r\n            case MenuScreens.OPTIONS:\r\n                this.drawOptionsScreen(ctx);\r\n                break;\r\n            case MenuScreens.CHOOSE_EPISODE:\r\n                this.drawChooseEpisodeScreen(ctx);\r\n                break;\r\n            case MenuScreens.CHOOSE_DIFFICULTY:\r\n                this.drawChooseDifficultyScreen(ctx);\r\n                break;\r\n        }\r\n        if (this.lettersPrepared == false) {\r\n            this.prepareLettersCanvas(ctx);\r\n        }\r\n        ctx.closePath();\r\n        this.checkToChangePistol();\r\n    };\r\n    Menu.prototype.checkToChangePistol = function () {\r\n        if (Date.now() > this.lastPistolChange) {\r\n            this.pistolTexture = this.pistolTexture == MenuImgNames.MENU_PISTOL_1 ? MenuImgNames.MENU_PISTOL_2 : MenuImgNames.MENU_PISTOL_1;\r\n            this.lastPistolChange = this.pistolAnimChange + Date.now();\r\n        }\r\n    };\r\n    Menu.prototype.drawBlueScreen = function (ctx) {\r\n        var imgData = Library.instance.data.graphics2DData.MENU.pos[MenuImgNames.BLUE_SCREEN_INFO];\r\n        var dx = ctx.canvas.width / 1.481;\r\n        var dy = ctx.canvas.height / 1.818;\r\n        this.drawBackground(ctx, 'rgb(32,168,252)');\r\n        this.drawMyImg(ctx, imgData, dx, dy);\r\n    };\r\n    Menu.prototype.drawGameTitleScreen = function (ctx) {\r\n        var imgData = Library.instance.data.graphics2DData.MENU.pos[MenuImgNames.GAME_TITLE_SCREEN];\r\n        var dx = 0;\r\n        var dy = 0;\r\n        this.drawMyImg(ctx, imgData, dx, dy);\r\n    };\r\n    Menu.prototype.drawCreditsScreen = function (ctx) {\r\n        var imgData = Library.instance.data.graphics2DData.MENU.pos[MenuImgNames.CREDITS_SCREEN];\r\n        var dx = 0;\r\n        var dy = 0;\r\n        this.drawMyImg(ctx, imgData, dx, dy);\r\n    };\r\n    Menu.prototype.drawOptionsScreen = function (ctx) {\r\n        var tab = [];\r\n        Object.keys(MenuOptionsOptions).map(function (e) { return tab.push(MenuOptionsOptions[e]); });\r\n        this.currentOptions = Array.from(tab);\r\n        this.drawBackground(ctx, 'rgb(147,14,0)');\r\n        this.drawBlackTopLine(ctx);\r\n        this.drawBanner(ctx, Library.instance.data.graphics2DData.MENU.pos[MenuImgNames.TITLE_OPTIONS]);\r\n        this.drawShadowBox(ctx, 177 * this.sizeMultip, 135 * this.sizeMultip, ctx.canvas.height / 3.846);\r\n        this.drawDownInfo(ctx);\r\n        this.drawLettersCanvas(ctx, this.optionsLettersCanvas, ctx.canvas.height / 3.571);\r\n        this.drawPickPistol(ctx, ctx.canvas.width / 4.3537, (ctx.canvas.height / 3.571) + ((this.selectedOption - 1) * this.lettersSize));\r\n    };\r\n    Menu.prototype.drawChooseEpisodeScreen = function (ctx) {\r\n        this.drawBackground(ctx, 'rgb(147,14,0)');\r\n        this.drawShadowBox(ctx, 307 * this.sizeMultip, 161 * this.sizeMultip, ctx.canvas.height / 10.52);\r\n        this.drawDownInfo(ctx);\r\n    };\r\n    Menu.prototype.drawChooseDifficultyScreen = function (ctx) {\r\n        var tab = [];\r\n        Object.keys(MenuDifficultyOptions).map(function (e) { return tab.push(MenuDifficultyOptions[e]); });\r\n        this.currentOptions = Array.from(tab);\r\n        this.drawBackground(ctx, 'rgb(147,14,0)');\r\n        this.drawShadowBox(ctx, 224 * this.sizeMultip, 66 * this.sizeMultip, ctx.canvas.height / 2.2222);\r\n        this.drawDownInfo(ctx);\r\n        this.drawLettersCanvas(ctx, this.difficultiesLettersCanvas, ctx.canvas.height / 2);\r\n        this.drawPickPistol(ctx, ctx.canvas.width / 6.122, ctx.canvas.height / 2 + ((this.selectedOption - 1) * this.lettersSize));\r\n        this.drawDifficultyFace(ctx, ctx.canvas.width / 1.38, ctx.canvas.height / 1.87);\r\n    };\r\n    Menu.prototype.drawDifficultyFace = function (ctx, dX, dY) {\r\n        var imgData = Library.instance.data.graphics2DData.MENU.pos[MenuImgNames.DIFFICULTY_FACE.replace('_id', \"_\" + this.selectedOption)];\r\n        var dWidth = imgData.w * this.sizeMultip;\r\n        var dHeight = imgData.h * this.sizeMultip;\r\n        ctx.drawImage(this.img, imgData.x, imgData.y, imgData.w, imgData.h, dX, dY, dWidth, dHeight);\r\n    };\r\n    Menu.prototype.drawLettersCanvas = function (ctx, lettCanvas, lettStart) {\r\n        ctx.beginPath();\r\n        ctx.globalAlpha = 0.7;\r\n        ctx.drawImage(lettCanvas, 0, 0);\r\n        ctx.globalAlpha = 1;\r\n        var pickedY = lettStart + (this.lettersSize * (this.selectedOption - 1));\r\n        ctx.drawImage(lettCanvas, 0, pickedY, ctx.canvas.width, this.lettersSize, 0, pickedY, ctx.canvas.width, this.lettersSize);\r\n        ctx.closePath();\r\n    };\r\n    Menu.prototype.drawPickPistol = function (ctx, dX, dY) {\r\n        var imgData = Library.instance.data.graphics2DData.MENU.pos[this.pistolTexture];\r\n        var dWidth = imgData.w * this.sizeMultip;\r\n        var dHeight = imgData.h * this.sizeMultip;\r\n        ctx.drawImage(this.img, imgData.x, imgData.y, imgData.w, imgData.h, dX, dY, dWidth, dHeight);\r\n    };\r\n    Menu.prototype.toMenuString = function (txt) {\r\n        while (txt.indexOf('_') != -1)\r\n            txt = txt.replace('_', ' ');\r\n        var tab = txt.split(' ');\r\n        tab.map(function (e) { return e[0].toUpperCase() + e.substring(1).toLowerCase(); });\r\n        return tab.join(' ');\r\n    };\r\n    Menu.prototype.drawBackground = function (ctx, color) {\r\n        ctx.fillStyle = color;\r\n        ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n    };\r\n    Menu.prototype.drawMyImg = function (ctx, imgData, dx, dy) {\r\n        var dWidth = imgData.w * this.sizeMultip;\r\n        var dHeight = imgData.h * this.sizeMultip;\r\n        ctx.drawImage(this.img, imgData.x, imgData.y, imgData.w, imgData.h, dx, dy, dWidth, dHeight);\r\n    };\r\n    Menu.prototype.drawBlackTopLine = function (ctx) {\r\n        var x = 0;\r\n        var y = ctx.canvas.height / 20;\r\n        var width = ctx.canvas.width;\r\n        var height = ctx.canvas.height / 8.3333333;\r\n        ctx.fillStyle = 'black';\r\n        ctx.fillRect(x, y, width, height);\r\n        var smallY = ctx.canvas.height / 6.25;\r\n        var smallHeight = ctx.canvas.height / 200;\r\n        ctx.fillStyle = 'rgb(107,10,0)';\r\n        ctx.fillRect(x, smallY, width, smallHeight);\r\n    };\r\n    Menu.prototype.drawBanner = function (ctx, imgData) {\r\n        var dx = (160 - (imgData.w / 2)) * this.sizeMultip;\r\n        var dy = ctx.canvas.height / 33.3333;\r\n        this.drawMyImg(ctx, imgData, dx, dy);\r\n    };\r\n    Menu.prototype.drawShadowBox = function (ctx, dWidth, dHeight, dy) {\r\n        var border = ctx.canvas.width / 320;\r\n        var dx = ctx.canvas.width / 2 - dWidth / 2;\r\n        // rgb(229,22,0)   rgb(121,10,0)   rgb(94,9,0)\r\n        ctx.fillStyle = 'rgb(229,22,0)';\r\n        ctx.fillRect(dx - border, dy - border, dWidth + 2 * border, dHeight + 2 * border);\r\n        ctx.fillStyle = 'rgb(121,10,0)';\r\n        ctx.fillRect(dx - border, dy - border, dWidth + border, dHeight + border);\r\n        ctx.fillStyle = 'rgb(94,9,0)';\r\n        ctx.fillRect(dx, dy, dWidth, dHeight);\r\n    };\r\n    Menu.prototype.drawDownInfo = function (ctx) {\r\n        var imgData = Library.instance.data.graphics2DData.MENU.pos[MenuImgNames.OPTIONS_DOWN_BANNER];\r\n        var dWidth = imgData.w * this.sizeMultip;\r\n        var dHeight = imgData.h * this.sizeMultip;\r\n        var dx = ctx.canvas.width / 2 - dWidth / 2;\r\n        var dy = ctx.canvas.height / 1.0416;\r\n        ctx.drawImage(this.img, imgData.x, imgData.y, imgData.w, imgData.h, dx, dy, dWidth, dHeight);\r\n    };\r\n    Menu.prototype.drawLetters = function (ctx, letters, dX, dY, column, color) {\r\n        var pos = 0;\r\n        var fastCanvas = document.createElement('canvas');\r\n        fastCanvas.width = ctx.canvas.width;\r\n        fastCanvas.height = ctx.canvas.height;\r\n        var fastCTX = fastCanvas.getContext('2d');\r\n        //@ts-ignore\r\n        fastCTX.mozImageSmoothingEnabled = false;\r\n        fastCTX.imageSmoothingEnabled = false;\r\n        var secfastCanvas = document.createElement('canvas');\r\n        secfastCanvas.width = ctx.canvas.width;\r\n        secfastCanvas.height = ctx.canvas.height;\r\n        var secfastCTX = secfastCanvas.getContext('2d');\r\n        for (var i = 0; i < letters.length; i++) {\r\n            var letter = letters[i];\r\n            if (letter == ' ') {\r\n                pos += 16 * this.sizeMultip / 2;\r\n            }\r\n            else {\r\n                var imgData = Library.instance.data.graphics2DData.MENUFONT.pos[letter];\r\n                var dWidth = imgData.w * this.sizeMultip / 2;\r\n                var dHeight = imgData.h * this.sizeMultip / 2;\r\n                var newDX = dX + pos;\r\n                var newDY = dY + column * dHeight;\r\n                fastCTX.beginPath();\r\n                fastCTX.drawImage(this.fontImg, imgData.x, imgData.y, imgData.w, imgData.h, newDX, newDY, dWidth, dHeight);\r\n                fastCTX.closePath();\r\n                pos += dWidth;\r\n            }\r\n        }\r\n        secfastCTX.beginPath();\r\n        secfastCTX.fillStyle = color;\r\n        secfastCTX.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n        secfastCTX.globalCompositeOperation = 'destination-in';\r\n        secfastCTX.drawImage(fastCanvas, 0, 0);\r\n        secfastCTX.closePath();\r\n        ctx.beginPath();\r\n        ctx.drawImage(secfastCanvas, 0, 0);\r\n        ctx.closePath();\r\n    };\r\n    return Menu;\r\n}());\r\nexport default Menu;\r\n","import FPS from \"./helpers/FPS\";\r\nimport { AudioNames, config, HUDStatus, MenuOptionsOptions, MenuScreens, Scene2DColors, Scene2DStatus } from \"../Config\";\r\nimport HUD from \"./HUD\";\r\nimport RedPixel from \"./helpers/RedPixel\";\r\nimport Menu from \"./Menu\";\r\nimport Library from \"../Library\";\r\nimport MyAudio from \"../MyAudio\";\r\nvar Scene2D = /** @class */ (function () {\r\n    function Scene2D(parent, root, scene3D) {\r\n        this.root = root;\r\n        this.parent = parent;\r\n        this.camera = parent.camera;\r\n        this.scene3D = scene3D;\r\n        this.scene = document.createElement('canvas');\r\n        this.scene.id = \"hudCanvas\";\r\n        this.fastCanvas = document.createElement('canvas');\r\n        this.fastCTX = this.fastCanvas.getContext('2d');\r\n        this.ctx = this.scene.getContext('2d');\r\n        this.HUD = new HUD(this);\r\n        this.FPS = new FPS();\r\n        this.Menu = new Menu();\r\n        this.sceneStatus = Scene2DStatus.MENU;\r\n        this.renderColorScreen = true;\r\n        this.colorScreenToRender = Scene2DColors.HIT;\r\n        this.colorScreenOpacity = 0;\r\n        this.smoothAction = false;\r\n        this.currAlpha = 1;\r\n        this.targetReached = false;\r\n        this.actionOnChange = undefined;\r\n        this.alphaChangeSpeed = 1.75;\r\n        this.deathCam = false;\r\n        this.removePixels = false;\r\n        this.randomRedPixels = [];\r\n        this.leftPixels = [];\r\n        this.pixelsPerFrameDivider = 100;\r\n        this.pixelsPerFrame = 20;\r\n        root.appendChild(this.scene);\r\n        this.fixSize(document.body.clientWidth, document.body.clientHeight);\r\n        // this.fixSize();\r\n    }\r\n    Scene2D.prototype.enableSmoothAction = function (action) {\r\n        this.smoothAction = true;\r\n        this.currAlpha = 1;\r\n        this.targetReached = false;\r\n        this.actionOnChange = action;\r\n    };\r\n    Scene2D.prototype.render = function (deltaTime) {\r\n        this.baseSettings();\r\n        // this.FPS.updateFPS(1 / deltaTime);\r\n        if (this.smoothAction)\r\n            this.smoothCanvasAction(this.ctx, deltaTime);\r\n        this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\r\n        this.fastCTX.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\r\n        this.ctx.beginPath();\r\n        this.ctx.globalAlpha = this.currAlpha;\r\n        if (this.sceneStatus == Scene2DStatus.MENU) {\r\n            this.Menu.draw(this.fastCTX, deltaTime);\r\n        }\r\n        else {\r\n            this.HUD.drawHUD(this.fastCTX, deltaTime, this.camera, this.scene3D, this.parent.levelCreator);\r\n            // this.drawHUD();\r\n            if (this.deathCam == false) {\r\n                if (this.renderColorScreen) {\r\n                    this.drawColorScreen(this.fastCTX, deltaTime);\r\n                }\r\n                if (this.randomRedPixels.length > 0) {\r\n                    this.drawRanomRedPixels(this.fastCTX);\r\n                }\r\n            }\r\n            else {\r\n                this.drawRanomRedPixels(this.fastCTX);\r\n            }\r\n        }\r\n        this.ctx.drawImage(this.fastCanvas, 0, 0);\r\n        this.ctx.closePath();\r\n    };\r\n    Scene2D.prototype.smoothCanvasAction = function (ctx, deltaTime) {\r\n        var alpha;\r\n        if (this.targetReached == false) {\r\n            alpha = Math.max(0, Math.min(1, this.currAlpha - this.alphaChangeSpeed * deltaTime));\r\n            if (alpha == 0) {\r\n                this.targetReached = true;\r\n                if (this.actionOnChange)\r\n                    this.actionOnChange();\r\n            }\r\n            ;\r\n        }\r\n        else {\r\n            alpha = Math.max(0, Math.min(1, this.currAlpha + this.alphaChangeSpeed * deltaTime));\r\n            if (alpha == 1) {\r\n                this.smoothAction = false;\r\n            }\r\n        }\r\n        this.currAlpha = alpha;\r\n    };\r\n    Scene2D.prototype.drawRanomRedPixels = function (ctx) {\r\n        var _this = this;\r\n        var anyLeft = this.removePixels ? this.removeRedPixels() : this.addRedPixels();\r\n        ctx.fillStyle = 'red';\r\n        if (anyLeft) {\r\n            this.randomRedPixels.forEach(function (e) {\r\n                ctx.fillRect(Math.max(_this.scene3D.marginHorizontal, _this.scene3D.marginHorizontal + (e.x * e.width) - 1), Math.max(_this.scene3D.marginVertical, _this.scene3D.marginVertical + (e.y * e.width) - 1), e.width + 1.1, e.width + 1.1);\r\n            });\r\n        }\r\n        else {\r\n            if (this.removePixels == false) {\r\n                ctx.fillRect(this.scene3D.marginHorizontal, this.scene3D.marginVertical, this.scene3D.scene.width, this.scene3D.scene.height);\r\n                this.parent.restartLvl();\r\n            }\r\n            else {\r\n                this.deathCam = false;\r\n                this.parent.inRestartProcess = false;\r\n            }\r\n        }\r\n    };\r\n    Scene2D.prototype.addRedPixels = function () {\r\n        for (var i = 0; i < this.pixelsPerFrame; i++) {\r\n            if (this.leftPixels.length > 0) {\r\n                var rand = Math.floor(Math.random() * this.leftPixels.length);\r\n                this.randomRedPixels.push(this.leftPixels[rand]);\r\n                this.leftPixels.splice(rand, 1);\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    Scene2D.prototype.removeRedPixels = function () {\r\n        for (var i = 0; i < this.pixelsPerFrame; i++) {\r\n            if (this.randomRedPixels.length > 0) {\r\n                var rand = Math.floor(Math.random() * this.randomRedPixels.length);\r\n                this.randomRedPixels.splice(rand, 1);\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    Scene2D.prototype.drawColorScreen = function (ctx, deltaTime) {\r\n        this.colorScreenOpacity -= 12 * deltaTime;\r\n        var opacity = Math.max(0, (1 - Math.abs(this.colorScreenOpacity)) / 4);\r\n        ctx.globalAlpha = opacity;\r\n        ctx.fillStyle = this.colorScreenToRender;\r\n        ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n        ctx.fill();\r\n        ctx.globalAlpha = 1;\r\n        if (opacity <= 0) {\r\n            this.renderColorScreen = false;\r\n        }\r\n    };\r\n    Scene2D.prototype.baseSettings = function () {\r\n        this.ctx.canvas.width = this.scene.clientWidth;\r\n        this.ctx.canvas.height = this.scene.clientHeight;\r\n        //@ts-ignore\r\n        this.ctx.webkitImageSmoothingEnabled = false;\r\n        //@ts-ignore\r\n        this.ctx.mozImageSmoothingEnabled = false;\r\n        this.ctx.imageSmoothingEnabled = false;\r\n        this.fastCanvas.width = this.ctx.canvas.width;\r\n        this.fastCanvas.height = this.ctx.canvas.height;\r\n        //@ts-ignore\r\n        this.fastCTX.mozImageSmoothingEnabled = false;\r\n        this.fastCTX.imageSmoothingEnabled = false;\r\n    };\r\n    Scene2D.prototype.fixSize = function (width, height) {\r\n        var size1 = { w: width, h: 10 / 16 * width };\r\n        var size2 = { w: 16 / 10 * height, h: height };\r\n        if (size1.w < size2.w) {\r\n            this.scene.style.width = (size1.w - 10) + \"px\";\r\n            this.scene.style.height = (size1.h - 10) + \"px\";\r\n        }\r\n        else {\r\n            this.scene.style.width = (size2.w - 10) + \"px\";\r\n            this.scene.style.height = (size2.h - 10) + \"px\";\r\n        }\r\n        var barH = this.scene.clientWidth / 8;\r\n        var marginHorizontal = this.scene.clientWidth / 45;\r\n        var marginVertical = (this.scene.clientHeight - barH) / 54;\r\n        var scene1 = { w: this.scene.clientWidth - 2 * marginHorizontal, h: (1 / 2) * (this.scene.clientWidth - 2 * marginHorizontal) };\r\n        var scene2 = { w: (2 / 1) * ((this.scene.clientHeight - barH) - 2 * marginVertical), h: (this.scene.clientHeight - barH) - 2 * marginVertical };\r\n        var sceneW;\r\n        var sceneH;\r\n        if (scene1.w < scene2.w) {\r\n            sceneW = scene1.w;\r\n            sceneH = scene1.h;\r\n            marginVertical = ((this.scene.clientHeight - barH) - sceneH) / 2;\r\n        }\r\n        else {\r\n            sceneW = scene2.w;\r\n            sceneH = scene2.h;\r\n            marginHorizontal = (this.scene.clientWidth - sceneW) / 2;\r\n        }\r\n        this.scene3D.marginHorizontal = marginHorizontal;\r\n        this.scene3D.marginVertical = marginVertical;\r\n        this.scene3D.scene.style.width = sceneW + 'px';\r\n        this.scene3D.scene.style.height = sceneH + 'px';\r\n        this.scene3D.goodWidth = sceneW;\r\n        this.scene3D.goodHeight = sceneH;\r\n        this.scene3D.scene.width = sceneW;\r\n        this.scene3D.scene.height = sceneH;\r\n        this.scene3D.updateCamera();\r\n        this.deathCam ? this.fixRedPixels() : null;\r\n    };\r\n    Scene2D.prototype.fixRedPixels = function () {\r\n        var width = this.scene3D.scene.width / config.redPixelsAmountInX;\r\n        this.randomRedPixels.flat().map(function (e) { return e.width = width; });\r\n    };\r\n    Scene2D.prototype.setColorScreenRender = function (color, startOpacity) {\r\n        if (startOpacity === void 0) { startOpacity = 0.1; }\r\n        this.renderColorScreen = true;\r\n        this.colorScreenToRender = color;\r\n        this.colorScreenOpacity = 1 - startOpacity;\r\n    };\r\n    Scene2D.prototype.enableDeathCam = function () {\r\n        if (this.deathCam == false) {\r\n            this.randomRedPixels = [];\r\n            this.leftPixels = [];\r\n            this.deathCam = true;\r\n            this.removePixels = false;\r\n            var totalPixels = config.redPixelsAmountInX * (config.redPixelsAmountInX / 2);\r\n            var width = this.scene3D.scene.width / config.redPixelsAmountInX;\r\n            for (var i = 0; i < config.redPixelsAmountInX; i++) {\r\n                for (var j = 0; j < config.redPixelsAmountInX / 2; j++) {\r\n                    this.leftPixels.push(new RedPixel(i, j, width));\r\n                }\r\n            }\r\n            this.pixelsPerFrame = totalPixels / this.pixelsPerFrameDivider;\r\n        }\r\n    };\r\n    Scene2D.prototype.disableDeathCam = function () {\r\n        this.removePixels = true;\r\n    };\r\n    Scene2D.prototype.moveDown = function () {\r\n        if (this.inMovebleScreen() && this.smoothAction == false) {\r\n            this.Menu.selectedOption++;\r\n            MyAudio.instance.playAudio(AudioNames.MENU_MOVE);\r\n            if (this.Menu.selectedOption > Object.keys(this.Menu.currentOptions).length) {\r\n                this.Menu.selectedOption = 1;\r\n            }\r\n            else if (this.checkThisDisabled(this.Menu.selectedOption)) {\r\n                this.moveDown();\r\n            }\r\n        }\r\n    };\r\n    Scene2D.prototype.moveUp = function () {\r\n        if (this.inMovebleScreen() && this.smoothAction == false) {\r\n            this.Menu.selectedOption--;\r\n            MyAudio.instance.playAudio(AudioNames.MENU_MOVE);\r\n            if (this.Menu.selectedOption < 1) {\r\n                this.Menu.selectedOption = Object.keys(this.Menu.currentOptions).length;\r\n            }\r\n            else if (this.checkThisDisabled(this.Menu.selectedOption)) {\r\n                this.moveUp();\r\n            }\r\n        }\r\n    };\r\n    Scene2D.prototype.enter = function () {\r\n        var _this = this;\r\n        if (this.smoothAction == false) {\r\n            if (this.sceneStatus == Scene2DStatus.MENU) {\r\n                switch (this.Menu.screenID) {\r\n                    case MenuScreens.BLUEINFO: {\r\n                        MyAudio.instance.playAudio(AudioNames.THEME_SPLASH);\r\n                        this.enableSmoothAction(function () { _this.Menu.screenID = MenuScreens.GAME_TITLE; });\r\n                        break;\r\n                    }\r\n                    case MenuScreens.GAME_TITLE: {\r\n                        this.enableSmoothAction(function () { _this.Menu.screenID = MenuScreens.CREDITS; });\r\n                        break;\r\n                    }\r\n                    case MenuScreens.CREDITS: {\r\n                        MyAudio.instance.stopAll();\r\n                        MyAudio.instance.playAudio(AudioNames.THEME_MENU);\r\n                        this.Menu.lettersPrepared = false;\r\n                        this.enableSmoothAction(function () { _this.Menu.screenID = MenuScreens.OPTIONS; });\r\n                        break;\r\n                    }\r\n                    case MenuScreens.OPTIONS: {\r\n                        MyAudio.instance.playAudio(AudioNames.MENU_SELECT);\r\n                        if (this.Menu.selectedOption == MenuOptionsOptions.NEW_GAME.id) {\r\n                            this.Menu.lettersPrepared = false;\r\n                            this.enableSmoothAction(function () { _this.Menu.screenID = MenuScreens.CHOOSE_DIFFICULTY; _this.Menu.selectedOption = 3; });\r\n                        }\r\n                        else if (this.Menu.selectedOption == MenuOptionsOptions.BACK_TO_GAME.id) {\r\n                            this.enableSmoothAction(function () { _this.sceneStatus = Scene2DStatus.GAME; _this.Menu.screenID = MenuScreens.OPTIONS; _this.Menu.selectedOption = 1; });\r\n                            MyAudio.instance.stopAll();\r\n                            MyAudio.instance.playAudio(AudioNames.THEME_LEVEL);\r\n                        }\r\n                        else {\r\n                            window.location.reload();\r\n                        }\r\n                        break;\r\n                    }\r\n                    case MenuScreens.CHOOSE_DIFFICULTY: {\r\n                        MyAudio.instance.stopAll();\r\n                        MyAudio.instance.playAudio(AudioNames.THEME_LEVEL);\r\n                        MyAudio.instance.playAudio(AudioNames.MENU_SELECT);\r\n                        this.parent.levelCreator.setDifficulty(this.Menu.selectedOption);\r\n                        this.parent.createLevel(JSON.stringify(Library.instance.levels.level1), true);\r\n                        this.enableSmoothAction(function () {\r\n                            _this.sceneStatus = Scene2DStatus.GAME;\r\n                            _this.HUD.startLoader();\r\n                            _this.Menu.screenID = MenuScreens.OPTIONS;\r\n                            _this.Menu.selectedOption = 1;\r\n                        });\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (this.HUD.status == HUDStatus.ENDSCREEN) {\r\n                    this.Menu.prepareLettersCanvas(this.ctx, false);\r\n                    this.enableSmoothAction(function () { _this.sceneStatus = Scene2DStatus.MENU; _this.Menu.screenID = MenuScreens.OPTIONS; _this.Menu.selectedOption = 1; _this.Menu.enableSpecial = false; });\r\n                    MyAudio.instance.stopAll();\r\n                    MyAudio.instance.playAudio(AudioNames.THEME_MENU);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Scene2D.prototype.checkThisDisabled = function (id) {\r\n        var it = this.Menu.currentOptions.find(function (e) { return e.id == id; });\r\n        if (this.Menu.enableSpecial == true && it.special) {\r\n            return false;\r\n        }\r\n        else {\r\n            return !it.active;\r\n        }\r\n    };\r\n    Scene2D.prototype.inMovebleScreen = function () {\r\n        if (this.Menu.screenID == MenuScreens.OPTIONS || this.Menu.screenID == MenuScreens.CHOOSE_EPISODE || this.Menu.screenID == MenuScreens.CHOOSE_DIFFICULTY) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    Scene2D.prototype.enableOptions = function () {\r\n        var _this = this;\r\n        if (this.sceneStatus != Scene2DStatus.MENU) {\r\n            MyAudio.instance.stopAll();\r\n            MyAudio.instance.playAudio(AudioNames.THEME_MENU);\r\n            this.Menu.lettersPrepared = false;\r\n            this.enableSmoothAction(function () {\r\n                _this.sceneStatus = Scene2DStatus.MENU;\r\n                _this.Menu.selectedOption = 1;\r\n                _this.Menu.enableSpecial = true;\r\n                _this.Menu.screenID = MenuScreens.OPTIONS;\r\n                _this.Menu.prepareLettersCanvas(_this.ctx, true);\r\n            });\r\n        }\r\n    };\r\n    return Scene2D;\r\n}());\r\nexport default Scene2D;\r\n","var Animation = /** @class */ (function () {\r\n    function Animation(textures, offset, index) {\r\n        if (index === void 0) { index = 0; }\r\n        this.textures = textures;\r\n        this.offset = offset;\r\n        this.index = index;\r\n        this.fullPlayed = false;\r\n    }\r\n    Animation.prototype.play = function (obj) {\r\n        var type = obj.texture;\r\n        obj.textureSet(type, this.textures[this.index]);\r\n        this.index++;\r\n        if (this.index >= this.textures.length) {\r\n            this.index = 0;\r\n            this.fullPlayed = true;\r\n        }\r\n        ;\r\n    };\r\n    return Animation;\r\n}());\r\nexport default Animation;\r\n","import Animation from './Animation';\r\nimport Weapon from './objects/Weapon';\r\nimport { animNames, weaponStatus } from '../Config';\r\nimport Enemy from './objects/Enemy';\r\nvar AnimationManager = /** @class */ (function () {\r\n    function AnimationManager(data) {\r\n        this.graphicsData = data.graphicsData;\r\n        this.animationsData = data.animationsData;\r\n        this.animations = [];\r\n    }\r\n    AnimationManager.prototype.update = function () {\r\n        this.animations.forEach(function (e) {\r\n            if (Date.now() > e.lastPlay + e.animation.offset) {\r\n                var funRet = e.function != null ? e.function(e) : true;\r\n                if (funRet) {\r\n                    e.lastPlay = Date.now();\r\n                    e.animation.play(e.object);\r\n                }\r\n            }\r\n        });\r\n    };\r\n    AnimationManager.prototype.add = function (object, animName, func) {\r\n        if (func === void 0) { func = null; }\r\n        if (this.animations.find(function (e) { return e.object == object; }) == undefined) {\r\n            var anim = void 0;\r\n            if (object instanceof Weapon) {\r\n                var tab = this.animationsData[animName].textures.map(function (e) { return e.replace(\"_id\", \"_\" + object.weaponID); });\r\n                var offset = 1000 / object.fireRate / (object.auto ? 2 : 4);\r\n                anim = new Animation(tab, offset);\r\n            }\r\n            else if (object instanceof Enemy) {\r\n                var tab = this.animationsData[animName].textures.map(function (e) { return e.replace(\"_angle\", \"_\" + object.angleStatus); });\r\n                anim = new Animation(tab, this.animationsData[animName].offset);\r\n            }\r\n            else {\r\n                anim = new Animation(this.animationsData[animName].textures, this.animationsData[animName].offset);\r\n            }\r\n            this.animations.push({\r\n                object: object,\r\n                animName: animName,\r\n                animation: anim,\r\n                lastPlay: 0,\r\n                function: func\r\n            });\r\n        }\r\n    };\r\n    AnimationManager.prototype.remove = function (object) {\r\n        this.animations = this.animations.filter(function (e) { return e.object != object; });\r\n    };\r\n    AnimationManager.prototype.change = function (object, animName, func) {\r\n        if (func === void 0) { func = null; }\r\n        var ob = this.animations.find(function (e) { return e.object == object; });\r\n        if (ob == undefined || ob.animName != animName) {\r\n            if (object instanceof Weapon && ob != undefined) {\r\n                this.weaponAnimation(ob, object, animName, func);\r\n            }\r\n            else {\r\n                this.changeAnimation(object, animName, func);\r\n            }\r\n        }\r\n    };\r\n    AnimationManager.prototype.changeAnimation = function (object, animName, func) {\r\n        if (func === void 0) { func = null; }\r\n        this.remove(object);\r\n        this.add(object, animName, func);\r\n    };\r\n    AnimationManager.prototype.changeEnemyAnimationTextures = function (object) {\r\n        var ob = this.animations.find(function (e) { return e.object == object; });\r\n        if (ob != undefined && ob.animName == animNames.ENEMY_RUN || ob.animName == animNames.ENEMY_STAND) {\r\n            var tab = this.animationsData[ob.animName].textures.map(function (e) { return e.replace(\"_angle\", \"_\" + object.angleStatus); });\r\n            ob.animation.textures = tab;\r\n        }\r\n    };\r\n    AnimationManager.prototype.changeAnimFunction = function (object, func) {\r\n        var ob = this.animations.find(function (e) { return e.object == object; });\r\n        if (ob != undefined) {\r\n            ob.function = func;\r\n        }\r\n    };\r\n    AnimationManager.prototype.weaponAnimation = function (ob, weapon, animName, func) {\r\n        var _this = this;\r\n        if (func === void 0) { func = null; }\r\n        if (animName == animNames.WEAPON_SHOOT) {\r\n            if (weapon.auto || ob.animName == animNames.WEAPON_DEFAULT) {\r\n                var newFunc_1 = function (aD) {\r\n                    if (aD.animName == animNames.WEAPON_PICK) {\r\n                        if (aD.animation.index == 0 && aD.animation.fullPlayed == true) {\r\n                            weapon.changeStatus(weaponStatus.SHOOT);\r\n                            _this.changeAnimation(weapon, animNames.WEAPON_SHOOT, newFunc_1);\r\n                            return false;\r\n                        }\r\n                    }\r\n                    else if (aD.animName == animNames.WEAPON_SHOOT) {\r\n                        if (aD.animation.index == 0 && aD.animation.fullPlayed == true) {\r\n                            if (weapon.auto == false || weapon.forceStop || weapon.forceChange) {\r\n                                weapon.forceStop = false;\r\n                                weapon.changeStatus(weaponStatus.HIDE);\r\n                                _this.changeAnimation(weapon, animNames.WEAPON_HIDE, newFunc_1);\r\n                                return false;\r\n                            }\r\n                        }\r\n                        if (aD.animation.index == weapon.shootID || weapon.shootID == null) {\r\n                            if (weapon.auto == true || aD.animation.fullPlayed == false) {\r\n                                func(ob);\r\n                            }\r\n                        }\r\n                    }\r\n                    else if (aD.animName == animNames.WEAPON_HIDE && aD.animation.fullPlayed == true) {\r\n                        if (aD.animation.index == 0 && aD.animation.fullPlayed == true) {\r\n                            weapon.changeStatus(weaponStatus.DEFAULT);\r\n                            _this.changeAnimation(weapon, animNames.WEAPON_DEFAULT);\r\n                            weapon.onForceChange();\r\n                            return false;\r\n                        }\r\n                    }\r\n                    return true;\r\n                };\r\n                weapon.changeStatus(weaponStatus.PICK);\r\n                this.changeAnimation(weapon, animNames.WEAPON_PICK, newFunc_1);\r\n            }\r\n        }\r\n        else {\r\n            weapon.forceStop = true;\r\n        }\r\n    };\r\n    return AnimationManager;\r\n}());\r\nexport default AnimationManager;\r\n","import \"./style.css\";\r\nimport \"./assets/favicon.ico\";\r\nimport Main from \"./components/Main\";\r\nnew Main(document.getElementById(\"root\"));\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport Camera from './game/Camera';\r\nimport Keyboard from './game/Keyboard';\r\nimport Library from './Library';\r\nimport Scene from './game/Scene';\r\nimport MapCreator from './mapCreator/MapCreator';\r\nimport LevelCreator from './game/LevelCreator';\r\n//@ts-ignore\r\n// import defaultMap from '../levels/Level1.json'\r\n// import defaultMap from '../defaultMap3.json'\r\nimport Scene2D from './HUDElements/Scene2D';\r\nimport AnimationManager from './game/AnimationManager';\r\nimport { AudioNames, HUDStatus, MenuScreens, Scene2DColors, Scene2DStatus } from './Config';\r\nimport MyAudio from './MyAudio';\r\nvar Main = /** @class */ (function () {\r\n    function Main(root) {\r\n        var _this = this;\r\n        this.root = root;\r\n        this.library = new Library();\r\n        this.inRestartProcess = false;\r\n        Library.instance.Load().then(function () {\r\n            _this.camera = new Camera();\r\n            _this.scene = new Scene(_this.root, _this.camera);\r\n            _this.Scene2D = new Scene2D(_this, _this.root, _this.scene);\r\n            _this.timeThen = 0;\r\n            _this.bodyEvents();\r\n            _this.creatorActive = false;\r\n            _this.levelCreated = false;\r\n            _this.scene.startProgram(Library.instance);\r\n            _this.animationManager = new AnimationManager(Library.instance.data);\r\n            _this.levelCreator = new LevelCreator(_this.scene, _this.camera, _this.animationManager);\r\n            _this.keyboard = new Keyboard(_this.camera, _this.animationManager, _this.levelCreator, _this.Scene2D);\r\n            _this.mapCreator = new MapCreator(_this, document.body, _this.keyboard);\r\n            _this.mapCreateBtn();\r\n            _this.animationFrame = requestAnimationFrame(_this.render.bind(_this));\r\n        });\r\n    }\r\n    Main.prototype.bodyEvents = function () {\r\n        var _this = this;\r\n        window.onresize = function (e) {\r\n            _this.Scene2D.fixSize(document.body.clientWidth, document.body.clientHeight);\r\n            _this.Scene2D.Menu.lettersPrepared = false;\r\n            _this.Scene2D.HUD.lettersPrepared = false;\r\n            if (_this.creatorActive) {\r\n                _this.mapCreator.updateFieldsSize();\r\n            }\r\n        };\r\n    };\r\n    Main.prototype.createLevel = function (data, newGame) {\r\n        if (data === void 0) { data = JSON.stringify(Library.instance.levels.level1); }\r\n        if (newGame === void 0) { newGame = false; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.levelCreated = false;\r\n                        console.log(\"NEW LEVEL CREATE\");\r\n                        if (this.animationFrame) {\r\n                            cancelAnimationFrame(this.animationFrame);\r\n                        }\r\n                        return [4 /*yield*/, this.levelCreator.createLvl(data, newGame)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.levelCreated = true;\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Main.prototype.render = function (time) {\r\n        var _this = this;\r\n        if (time === void 0) { time = 0; }\r\n        if (this.creatorActive == false) {\r\n            var deltaTime_1 = time * 0.001 - this.timeThen;\r\n            this.timeThen = time * 0.001;\r\n            this.Scene2D.render(deltaTime_1);\r\n            this.scene.drawScene(deltaTime_1);\r\n            if ((this.camera.dead == false && this.Scene2D.deathCam == false) || this.Scene2D.sceneStatus == Scene2DStatus.MENU) {\r\n                this.keyboard.update(deltaTime_1, this.levelCreator.objects);\r\n                if (this.Scene2D.sceneStatus == Scene2DStatus.GAME && this.levelCreated && this.Scene2D.smoothAction == false && this.Scene2D.HUD.status == HUDStatus.GAMEPLAY) {\r\n                    this.levelCreator.objects.doors.forEach(function (e) { return e.update(deltaTime_1); });\r\n                    this.levelCreator.objects.pickables.forEach(function (e) {\r\n                        e.toDelete ? _this.removePickable(e) : e.update(_this.camera);\r\n                    });\r\n                    this.levelCreator.objects.enemies.forEach(function (e) {\r\n                        e.update(deltaTime_1, _this.camera);\r\n                    });\r\n                    this.levelCreator.objects.furnitures.forEach(function (e) {\r\n                        e.update(deltaTime_1, _this.camera);\r\n                    });\r\n                    this.levelCreator.objects.walls.forEach(function (e) { return e.update(deltaTime_1); });\r\n                    this.levelCreator.objects.end.forEach(function (e) { return e.update(deltaTime_1, _this.camera); });\r\n                    this.onCameraHit();\r\n                    this.animationManager.update();\r\n                }\r\n            }\r\n            else {\r\n                if (this.inRestartProcess == false && this.camera.dead == true) {\r\n                    this.onDeadCamera(deltaTime_1);\r\n                }\r\n            }\r\n        }\r\n        this.animationFrame = requestAnimationFrame(this.render.bind(this));\r\n    };\r\n    Main.prototype.onDeadCamera = function (deltaTime) {\r\n        var _this = this;\r\n        var look = this.camera.smoothLookAt(this.camera.killer, deltaTime);\r\n        if (look) {\r\n            setTimeout(function (e) {\r\n                if (_this.camera.dead == true) {\r\n                    _this.Scene2D.enableDeathCam();\r\n                }\r\n            }, 1000);\r\n        }\r\n        else {\r\n            this.Scene2D.setColorScreenRender(Scene2DColors.HIT, 1);\r\n        }\r\n    };\r\n    Main.prototype.removePickable = function (pick) {\r\n        this.levelCreator.objects.pickables = this.levelCreator.objects.pickables.filter(function (e) { return e != pick; });\r\n        this.scene.remove(pick);\r\n        this.Scene2D.setColorScreenRender(Scene2DColors.PICK);\r\n    };\r\n    Main.prototype.onCameraHit = function () {\r\n        if (this.camera.hitted) {\r\n            this.camera.hitted = false;\r\n            this.Scene2D.setColorScreenRender(Scene2DColors.HIT);\r\n        }\r\n    };\r\n    Main.prototype.mapCreateBtn = function () {\r\n        var _this = this;\r\n        var btn = document.createElement('div');\r\n        btn.innerHTML = \"MAP CREATOR\";\r\n        btn.id = \"mapCreatorBtn\";\r\n        btn.onclick = function () {\r\n            _this.mapCreator.active();\r\n            _this.creatorActive = !_this.creatorActive;\r\n        };\r\n        document.body.appendChild(btn);\r\n    };\r\n    Main.prototype.radToDeg = function (rad) {\r\n        return rad * (180 / Math.PI);\r\n    };\r\n    Main.prototype.restartLvl = function () {\r\n        var _this = this;\r\n        if (this.inRestartProcess == false) {\r\n            this.inRestartProcess = true;\r\n            if (this.camera.lives > 0) {\r\n                setTimeout(function () {\r\n                    _this.levelCreator.createLvl(JSON.stringify(Library.instance.levels.level1));\r\n                    _this.Scene2D.disableDeathCam();\r\n                }, 1000);\r\n            }\r\n            else {\r\n                this.Scene2D.enableSmoothAction(function () {\r\n                    _this.camera.dead = false;\r\n                    _this.Scene2D.disableDeathCam();\r\n                    _this.camera.refresh();\r\n                    _this.Scene2D.Menu.enableSpecial = false;\r\n                    _this.Scene2D.Menu.lettersPrepared = false;\r\n                    _this.Scene2D.sceneStatus = Scene2DStatus.MENU;\r\n                    _this.Scene2D.Menu.screenID = MenuScreens.OPTIONS;\r\n                    _this.Scene2D.deathCam = false;\r\n                    _this.Scene2D.randomRedPixels = [];\r\n                    MyAudio.instance.stopAll();\r\n                    MyAudio.instance.playAudio(AudioNames.THEME_MENU);\r\n                });\r\n            }\r\n        }\r\n    };\r\n    return Main;\r\n}());\r\nexport default Main;\r\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","exports","cssWithMappingToString","list","toString","this","map","item","content","needLayer","concat","length","join","i","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","_i","_i2","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","sourceURLs","sources","source","sourceRoot","stylesInDOM","getIndexByIdentifier","identifier","result","modulesToDom","options","idCountMap","identifiers","base","count","indexByIdentifier","obj","css","sourceMap","references","updater","addElementStyle","byIndex","splice","api","domAPI","update","newObj","remove","lastIdentifiers","newList","index","newLastIdentifiers","_index","memo","insert","style","target","styleTarget","document","querySelector","window","HTMLIFrameElement","contentDocument","head","e","getTarget","Error","appendChild","element","createElement","setAttributes","attributes","styleElement","nonce","setAttribute","insertStyleElement","styleTagTransform","apply","parentNode","removeChild","removeStyleElement","styleSheet","cssText","firstChild","createTextNode","webpackContext","req","webpackContextResolve","__webpack_require__","o","code","keys","Object","resolve","__webpack_module_cache__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","d","a","definition","key","defineProperty","enumerable","get","g","globalThis","Function","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","scriptUrl","importScripts","location","currentScript","src","scripts","getElementsByTagName","replace","p","MyAudio","sounds","P_AMMO","P_MGUN","P_CGUN","P_FOOD","P_MEDKIT","P_LIFE","T_CHEST","T_CROSS","T_CROWN","T_CUP","WSND0003","WSND0002","WSND0015","WSND0030","S_100","S_BONUSC","DSWKNIF","WSND0005","WSND0004","WSND0006","WSND0021","WSND0014","DSDEATH","WSND0001","WSND0029","WSND0016","WSND0012","WSND0013","WSND0034","WSND0035","WSND0039","WSND0040","WSND0041","WSND0042","WSND0000","M_SELECT","M_MOVE","THEME_SPLASH","THEME_MENU","THEME_LEVEL","_a","LoadAudios","thisArg","_arguments","generator","renderTab","name_1","_b","_c","_d","_this","body","f","y","t","_","label","sent","trys","ops","next","verb","iterator","v","op","TypeError","done","pop","step","__generator","_e","name","indexOf","default","forEach","audio","Audio","volume","P","Promise","reject","fulfilled","rejected","then","playAudio","loop","currentTime","stopAudio","restartAudio","play","pause","stopAll","name_2","instance","config","uniforms","wallSize","actionDistance","doorsAutoCloseTime","mapCreatorItems","textureSize","usedAmmoSpawnRange","enemyDetectShootRange","enemyFrontSpotRange","enemyBackSpotRange","enemyShootRange","enemyReloadTime","enemyDMG","enemyMissRange","sceneBorderWidth","faceBaseChangeSpeed","faceRandomRangeSpeed","noCollideFurnitures","redPixelsAmountInX","treasuresNames","Scene2DColors","AudioNames","animNames","enemyActionTypes","enemyAngleStatus","FRONT","FRONT_LEFT","LEFT","BACK_LEFT","BACK","BACK_RIGHT","RIGHT","FRONT_RIGHT","weaponStatus","weaponTypes","KNIFE","attackSpeed","auto","range","shootID","damage","needAmmo","makeNoise","audioName","PISTOL","MACHINEGUN","CHAINGUN","pickablesTypes","CLIP","action","camera","ammo","addAMMO","USED_CLIP","DOG_FOOD","hp","addHP","CHICKEN_MEAL","BLOOD","BLOODY_SKELETON","FIRST_AID_KIT","CROSS","addPOINTS","CHALICE","CHEST","CROWN","EXTRA_LIFE","extraLife","KEY_SILVER","silverKey","addKEY","KEY_GOLD","goldKey","weapon","weaponID","changeWeapon","pickablesNames","hudImgNames","HUDBAR","WEAPON_KNIFE","WEAPON_PISTOL","WEAPON_MACHINEGUN","WEAPON_CHAINGUN","LOADER","PAUSE","FACE","END_PLAYER","MenuImgNames","BLUE_SCREEN_INFO","GAME_TITLE_SCREEN","CREDITS_SCREEN","EPISODE_PICTURE","MENU_PISTOL_1","MENU_PISTOL_2","OPTIONS_DOWN_BANNER","DIFFICULTY_FACE","OPTION_ACTIVE","OPTION_DISACTIVE","TITLE_OPTIONS","TITLE_LOADING","TITLE_HIGHSCORE","HIGHSCORE_CODE","HIGHSCORE_CODE2","HIGHSCORE_LEVEL","HIGHSCORE_NAME","HIGHSCORE_SCORE","menuFontColors","MenuOptionsOptions","NEW_GAME","active","SOUND","CONTROL","LOAD_GAME","SAVE_GAME","CHANGE_VIEW","END_GAME","BACK_TO_GAME","special","QUIT","MenuDifficultyOptions","Scene2DStatus","HUDStatus","EnemyData","GUARD","texture","dmg","moveSpeed","dropAmmo","attackRange","DOG","BoxPoint","x","z","distancePointToPoint","point","Math","abs","sqrt","pow","LINE_TYPE","BoxLine","p1","p2","type","ONLY_X","ONLY_Y","FULL","b","calcCrossPoint","secLine","nulled","checkPointBetweenLimit","limitTabX","sort","limitTabZ","distanceToPoint","ptX","min","max","ptZ","calcPoint","val","cross","Box2D","corners","TOP_LEFT","pos","width","deep","TOP_RIGHT","BOTTOM_LEFT","BOTTOM_RIGHT","lines","TOP","BOTTOM","checkPointInBox","isCornerCollision","Vector3","clone","set","vec","normalize","len","sub","add","translate","rotateY","angle","inverse","multiply","divide","zReverse","xReverse","v1","v2","transformMat4","mat","m","matrix","w","out","zero","isEval","flipXZ","up","forward","backward","down","fromAngle","PI","cos","sin","distance","Matrix4","perspective","fieldOfView","aspect","near","far","tan","rangeInv","tx","ty","tz","translation","xRotate","xRotation","yRotate","yRotation","zRotate","zRotation","scale","sx","sy","sz","scaling","lookAt","zAxis","xAxis","yAxis","Array","from","positionFromMatrix","b00","b01","b02","b03","b10","b11","b12","b13","b20","b21","b22","b23","b30","b31","b32","b33","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","m00","m01","m02","m03","m10","m11","m12","m13","m20","m21","m22","m23","m30","m31","m32","m33","tmp_0","tmp_1","tmp_2","tmp_3","tmp_4","tmp_5","tmp_6","tmp_7","tmp_8","tmp_9","tmp_10","tmp_11","tmp_12","tmp_13","tmp_14","tmp_15","tmp_16","tmp_17","tmp_18","tmp_19","tmp_20","tmp_21","tmp_22","tmp_23","t0","t1","t2","t3","c","s","Camera","rotation","movementSpeed","rotateSpeed","collisionRadius","FOV","zNear","zFar","projectionMatrix","points","lives","level","dead","killer","killCount","treasuresFound","hiddenWalls","startTime","Date","now","hitted","smoothRotateSpeed","updateProjectionMatrix","move","dir","deltaTime","blockObj","matRot","deltaPos","futurePosX","checkColliding","futurePosZ","rotate","angleTo","lookDir","toTargetDir","diff","atan2","isLookingAt","enemy","targetXDir","enemyLeftPoint","enemyRightPoint","angleLeft","angleRight","futPos","closestPointDistance","Infinity","closestOb","closestLine","futurePos","futurePoint","ob","box_1","line","box_2","closestPoint","closestCorner_1","closestDst_1","dst","inRenderingRange","object","preparePlayer","onShoot","forceChange","checkToRetriveWeapon","addLIFE","highestWeaponID","hit","isEnemyCorrectlyHit","round","random","DMG","chance","smoothLookAt","dirToTarget","angleToTarget","sign","respawn","newGame","refresh","Vector2","multiplyX","multiplyZ","Library","shaders","vertShader","fragShader","graphics","WALL","ENEMY","WEAPON","OBJECT","HUD","PLAYER","MAPCREATOR","MENU","MENUFONT","ENDFONT","levels","level1","graphicsData","graphics2DData","animationsData","Load","LoadShaders","vertS","vertF","LoadGraphics","LoadData","LoadLevels","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","_t","_u","_v","_w","_x","_y","img","_z","_0","_1","_2","_3","_4","_5","_6","_7","_8","_9","_10","Image","decode","textureData","texture2DData","__spreadArray","to","pack","arguments","ar","l","slice","Object3D","textureSet","wall","shadow","texData","getTextureData","textureName","newPos","CalculateNewTexture","startTextureCoords","sizeX","sizeY","tempTextureCoords","tab","filter","newPosTab","applyTexture","array","height","checkShadow","forceShadow","tX","tY","RoundTo","by","textureArray","Float32Array","lookAtCamera","targetPos","Vector4","vectorMultiply","j","updateTab","extendStatics","__extends","setPrototypeOf","__proto__","String","__","constructor","create","_super","Door","rotated","open","startPos","autoClose","posArray","wallTypes","calcPos","calcTexture","midDeepFront","midDeepBack","fill","forceOpen","clearTimeout","setTimeout","Raycaster","gridSize","slowLogOffset","lastSlowLog","S","collideObjects","E","rayLine","forwardPos","startPosPoint","currBlockPos","toBlockPosition","targetBlockPos","find","collideFound","newX","newZ","pointCrossZ","pointCrossX","newS","dist","collide","newY","Enemy","lvlCreator","pathFinder","animManager","enemyData","spotted","patrolTarget","lastTarget","path","pathIndex","angleStatus","lastShoot","calsPos","moveManager","ang","checkViewAngleToTarget","toAngleStatus","checkShoot","checkDistancedShoot","shootManage","checkSpot","setDMG","numb","goToPlayer","changeAction","enemyLookAt","nextPathTarget","actionName","change","aD","animation","fullPlayed","animD","shootPlayer","blocks","objects","walls","doors","patrol","checkToDoorsOpen","patrolArea","slow","angleString","angleStatusToString","spotRange","rayData","detectPlayer","changeAngle","changeEnemyAnimationTextures","toAdvancePathPosition","findPath","pathToPos","setPatrol","randomEnemyDeadSound","rand","ceil","Wall","secretWall","moved","setAsSecretWall","End","neighboursList","neighbours","playerIn","UpdateNeighTextures","neigh","FindRightNeighbours","front","door","frontPos_1","toFront","leftPos","rightPos","left","right","checkPlayerIn","camIn","KEYS","Keyboard","levelCreator","scene2D","bools","status","offset","nextAction","shoot","ctrl","ArrowUp","ArrowDown","Escape","addEvents","onkeydown","sceneStatus","startShoot","Digit1","Digit2","Digit3","Digit4","onkeyup","endShoot","deleteNoCollideFurnitures","objList","includes","smoothAction","collisionObjects","furnitures","actionObjects","end","enter","enableSmoothAction","moveUp","moveDown","enableOptions","weaponShoot","bind","enemies","addUsedClip","Crosshair","color","size","ctx","rect","canvas","fillStyle","Weapon","fireRate","forceStop","animManger","onForceChange","changeStatus","Pickable","toDelete","pick","Furniture","Scene","root","scene","gl","getContext","antialias","program","locations","items","textures","library","marginHorizontal","marginVertical","goodWidth","goodHeight","crosshair","lastTexture","lastTexcoords","updateCamera","clear","startProgram","vertexShader","createShader","VERTEX_SHADER","FRAGMENT_SHADER","createProgram","positionBuffer","createBuffer","texcoordBuffer","getLocations","CreateTextures","drawScene","applyBaseSettings","viewProjectionMatrix","CalcViewProjectionMatrix","lastPosArray","bindBuffer","ARRAY_BUFFER","FloatArrayIsEval","bufferData","STATIC_DRAW","vertexAttribPointer","FLOAT","prepareImg","uniformMatrix4fv","uniform1i","drawArrays","TRIANGLES","buffer","bindTexture","TEXTURE_2D","image","createTexture","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","texImage2D","RGBA","UNSIGNED_BYTE","Uint8Array","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","NEAREST_MIPMAP_LINEAR","TEXTURE_MAG_FILTER","NEAREST","isPowerOf2","generateMipmap","cameraMatrix","getAttribLocation","getUniformLocation","enableVertexAttribArray","viewport","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","useProgram","enable","CULL_FACE","DEPTH_TEST","BLEND","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","shader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","console","log","getShaderInfoLog","deleteShader","fragmentShader","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","deleteProgram","array1","array2","Field","div","classList","backgroundColor","setData","removeData","backgroundImage","backgroundSize","backgroundPosition","backgroundPositionY","transform","lastActiveData","difficulty","alive","child","parent","removeParent","setSize","setImg","activeElement","imgUrl","clientWidth","imgSizeX","clientHeight","imgSizeY","updateBackgroundSize","rotateBackground","deg","setParent","field","setChild","setAlive","bool","setDifficulty","MapCreator","keyboard","mapSizeDiv","board","mapSizeSetting","mouseDown","rightDown","currX","currY","fieldsList","fromJson","innerHTML","inputX","placeholder","inputY","btn","onclick","parseInt","createCreator","importJSON","toggle","boardArea","menu","topMenu","el2","generateJSON","createButtons","fieldsBoard","fieldSize","onmouseup","button","column","_loop_1","this_1","onmousedown","clickAction","onmouseover","oncontextmenu","preventDefault","createAdditionalMenu","fillField","menuDiv","btnsData","SPECIAL","CREATURES","WALLS","PICKABLES","FURNITURES","imgData","imgX","imgY","_loop_2","groupTitle","btnsGroup","btnDiv","getPickableName","look","inFields","flat","createNewGameMap","mapData","toMapObject","creatorActive","createLevel","alert","updateFieldsSize","playerFound","goTo","objectData","name_3","prompt","jsonData","blob","Blob","url","URL","createObjectURL","href","download","click","reader","FileReader","onload","newData","parse","currentTarget","generateMapFromJSON","fileInput","onchange","file","files","readAsText","_loop_3","currItem","this_2","getImgInfo","setSpecialTarget","changeAliveStatus","changeDifficulty","changeDirection","imgURL","addMenu","getElementById","removeAddMenu","additionalMenu","menuTitle","toUpperCase","closeBtn","menuContext","directionLabel","innerText","direction_1","option","selected","aliveLabel","alive_1","difficultyLabel","difficulty_1","PathField","gCost","hCost","fCost","block","clearCosts","setGCost","setHCost","calcFCost","advanceDistance","PathFinder","baseTab","updateObjects","prepareBaseTab","mapSizeX","mapSizeZ","toBasePathPosition","inGoodRange","endPos","start","openTab","closeTab","current","neighGCost","neighHCost","neighFCost","reverse","LevelCreator","animationManager","enemiesCount","treasuresCount","secretsCount","pickables","reset","animations","num","createLvl","checkDoorConditions","pickable","furnit","neighPos","neigh_1","objL_1","leftWall","rightWall","topWall","bottomWall","deathPoint","minX","maxX","minZ","maxZ","randX","randZ","spawnX","spawnZ","spawnPoint","FPS","updateFPS","fps","floor","HudBarFace","faceStatusIndex","direction","currentGraphic","nextChange","randomGraphic","checkFaceStatus","stat","HudBar","h","hudBarFace","sizeMultip","dyDigit","dest","updFace","drawImage","dx","dy","dWidth","dHeight","drawLevel","drawScore","drawLives","drawHealt","drawAmmo","drawKeys","drawWeapon","drawFace","boxWidth","boxX","strScore","split","drawDigits","strHp","strAmmo","boxY","keyTab","wID","digits","digit","scene2d","fontImg","hudBar","endScreenLettersCanvas","lettersPrepared","lettersSize","addesBonusPoint","endPlayerImg","lastEndPlayerChange","endPlayerChangeSpeed","endTime","endScreenStart","endScreenVisible","loaderBar","prepareLetters","fastCTX1","drawLetters","startLoader","drawHUD","scene3D","barH","beginPath","fillRect","barDest","loader","drawLoader","drawScene3D","checkToChangeEndPlayer","drawEndScreen","closePath","sceneW","sceneH","sceneBorderW","sceneBorderH","drawTriangle","p3","moveTo","lineTo","fullH","dX","dY","progMargin","progWidth","progHeight","progDX","progDY","time","getMinutes","padStart","sec","getSeconds","bonus","timeBonus","strBonus","drawPlayerSelfImage","letters","neededCanvas","neededCTX","mozImageSmoothingEnabled","imageSmoothingEnabled","letter","newDX","Menu","screenID","optionsLettersCanvas","episodesLettersCanvas","difficultiesLettersCanvas","selectedOption","currentOptions","enableSpecial","pistolTexture","pistolAnimChange","lastPistolChange","prepareLettersCanvas","optionInfo","toMenuString","fastCTX2","draw","drawBlueScreen","drawGameTitleScreen","drawCreditsScreen","drawOptionsScreen","drawChooseEpisodeScreen","drawChooseDifficultyScreen","checkToChangePistol","drawBackground","drawMyImg","drawBlackTopLine","drawBanner","drawShadowBox","drawDownInfo","drawLettersCanvas","drawPickPistol","drawDifficultyFace","lettCanvas","lettStart","globalAlpha","pickedY","txt","substring","toLowerCase","smallY","smallHeight","border","fastCanvas","fastCTX","secfastCanvas","secfastCTX","newDY","globalCompositeOperation","Scene2D","renderColorScreen","colorScreenToRender","colorScreenOpacity","currAlpha","targetReached","actionOnChange","alphaChangeSpeed","deathCam","removePixels","randomRedPixels","leftPixels","pixelsPerFrameDivider","pixelsPerFrame","fixSize","render","baseSettings","smoothCanvasAction","clearRect","drawColorScreen","drawRanomRedPixels","alpha","anyLeft","removeRedPixels","addRedPixels","restartLvl","inRestartProcess","opacity","webkitImageSmoothingEnabled","size1","size2","scene1","scene2","fixRedPixels","setColorScreenRender","startOpacity","enableDeathCam","totalPixels","disableDeathCam","inMovebleScreen","checkThisDisabled","reload","it","Animation","AnimationManager","lastPlay","function","animName","func","anim","weaponAnimation","changeAnimation","changeAnimFunction","newFunc_1","Main","timeThen","bodyEvents","levelCreated","mapCreator","mapCreateBtn","animationFrame","requestAnimationFrame","onresize","cancelAnimationFrame","deltaTime_1","removePickable","onCameraHit","onDeadCamera","radToDeg","rad"],"sourceRoot":""}